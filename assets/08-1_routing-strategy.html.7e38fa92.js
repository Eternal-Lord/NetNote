import{_ as e,e as i}from"./app.bef272a2.js";const l={},t=i(`<h1 id="ip-\u8DEF\u7531\u7B56\u7565\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#ip-\u8DEF\u7531\u7B56\u7565\u547D\u4EE4" aria-hidden="true">#</a> IP \u8DEF\u7531\u7B56\u7565\u547D\u4EE4</h1><h2 id="ip-prefix-list-description" tabindex="-1"><a class="header-anchor" href="#ip-prefix-list-description" aria-hidden="true">#</a> <code>ip prefix-list description</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>ip prefix-list &lt;list_name&gt; description &lt;description&gt;</code></li><li><code>no ip prefix-list &lt;list_name&gt; description</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u524D\u7F00\u5217\u8868\u7684\u63CF\u8FF0\u6587\u5B57\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u63CF\u8FF0\u6587\u5B57</p></li><li><p>\u53C2\u6570\uFF1A <code>&lt;list _name&gt;</code>\u4E3A\u524D\u7F00\u5217\u8868\u540D\u79F0\uFF0C<code>&lt; description &gt;</code>\u4E3A\u63CF\u8FF0\u6587\u5B57</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u53EF\u4EE5\u4F7F\u7528\u672C\u547D\u4EE4\u4E3A\u4E00\u4E2A prefix-list \u8FDB\u884C\u8BF4\u660E\u3001\u63CF\u8FF0\uFF0C\u4F8B\u5982 prefix-list \u7684\u7528\u9014\u3001\u6CE8\u610F\u4E8B\u9879\u7B49</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#ip prefix-list 3 description This list is used by BGP
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h2 id="ip-prefix-list-seq" tabindex="-1"><a class="header-anchor" href="#ip-prefix-list-seq" aria-hidden="true">#</a> <code>ip prefix-list seq</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>ip prefix-list &lt;list_name&gt; [seq &lt;sequence_number&gt;] &lt;deny | permit&gt; &lt; any | ip_addr/mask_length [ge &lt;min_prefix_len&gt;] [le &lt;max_prefix_len&gt;]&gt;</code></li><li><code>no ip prefix-list &lt;list_name&gt; [seq &lt;sequence_number&gt;] [&lt;deny | permit&gt; &lt; any | ip_addr/mask_length [ge &lt;min_prefix_len&gt;] [le &lt;max_prefix_len&gt;]&gt;]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u524D\u7F00\u5217\u8868\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u524D\u7F00\u5217\u8868</p></li><li><p>\u53C2\u6570\uFF1A</p><ul><li><code>&lt;list _name&gt;</code> \u4E3A\u524D\u7F00\u5217\u8868\u540D\u79F0</li><li><code>seq</code> \u8868\u793A\u540E\u9762\u6240\u63A5\u7684\u53C2\u6570\u4E3A\u5E8F\u5217\u53F7</li><li><code>&lt;sequence_number&gt;</code>\u4E3A\u5E8F\u5217\u53F7</li><li><code>deny</code> \u8868\u793A\u62D2\u7EDD\u8BE5\u8DEF\u7531</li><li><code>permit</code> \u8868\u793A\u63A5\u53D7\u8BE5\u8DEF\u7531</li><li><code>any</code> \u8868\u793A\u9002\u7528\u4E8E\u6240\u6709\u524D\u7F00\u53CA\u63A9\u7801\u957F\u5EA6\u7684\u62A5\u6587</li><li><code>ip_addr/mask_length</code> \u8868\u793A\u524D\u7F00\u5730\u5740\uFF08\u70B9\u5206\u5341\u8FDB\u5236\uFF09\u53CA\u63A9\u7801\u957F\u5EA6</li><li><code>ge</code> \u8868\u793A\u5927\u4E8E\u3001\u7B49\u4E8E <code>&lt;min_prefix_len&gt;</code> \u4E3A\u8981\u5339\u914D\u7684\u6700\u5C0F\u524D\u7F00\u957F\u5EA6\uFF08\u8303\u56F4\u4E3A 0\uFF5E32 \uFF09</li><li><code>le</code> \u8868\u793A\u5C0F\u4E8E\u3001\u7B49\u4E8E <code>&lt;max_prefix_len&gt;</code> \u4E3A\u8981\u5339\u914D\u7684\u6700\u5927\u524D\u7F00\u957F\u5EA6\uFF08\u8303\u56F4\u4E3A 0\uFF5E32 \uFF09</li></ul></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A \u4E00\u4E2A prefix-list \u7531\u524D\u7F00\u5217\u8868\u540D\u6807\u8BC6\uFF0C\u6BCF\u4E2A\u524D\u7F00\u5217\u8868\u53EF\u4EE5\u5305\u542B\u591A\u4E2A\u8868\u9879\uFF0C\u6BCF\u4E2A\u8868\u9879\u53EF\u4EE5\u72EC\u7ACB\u6307\u5B9A\u4E00\u4E2A\u7F51\u7EDC\u524D\u7F00\u5F62\u5F0F\u7684\u5339\u914D\u8303\u56F4\uFF0C \u5E76\u7528\u4E00\u4E2A sequence-number \u6765\u6807\u8BC6\uFF0C sequence-number \u6307\u660E\u4E86\u5728 prefix-list \u4E2D\u8FDB\u884C\u5339\u914D\u68C0\u67E5\u7684\u987A\u5E8F \u5728\u5339\u914D\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u4EA4\u6362\u673A\u6309\u5347\u5E8F\u4F9D\u6B21\u68C0\u67E5\u7531 sequence -number \u6807\u8BC6\u7684\u5404\u4E2A\u8868\u9879\uFF0C\u53EA\u8981\u6709\u67D0\u4E00\u8868\u9879\u6EE1\u8DB3\u6761\u4EF6\u5C31\u610F\u5473\u7740\u901A\u8FC7\u8BE5 prefix-list \u7684\u8FC7\u6EE4\uFF08\u4E0D\u4F1A\u8FDB\u5165\u4E0B\u4E00\u4E2A\u8868\u9879\u7684\u6D4B\u8BD5\uFF09\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u5982\u679C\u5B9A\u4E49\u4E86\u4E00\u4E2A\u4EE5\u4E0A\u7684\u524D\u7F00\u5217\u8868\u8868\u9879\uFF0C\u90A3\u4E48\u81F3\u5C11\u5E94\u8BE5\u6709\u4E00\u4E2A\u8868\u9879\u7684\u5339\u914D\u6A21\u5F0F\u662F permit \u6A21\u5F0F deny \u6A21\u5F0F\u7684\u8868\u9879\u53EF\u4EE5\u5148\u88AB\u5B9A\u4E49\uFF0C\u4EE5\u5FEB\u901F\u7684\u8FC7\u6EE4\u6389\u4E0D\u7B26\u5408\u6761\u4EF6\u7684\u8DEF\u7531\u4FE1\u606F\uFF0C\u4F46\u5982\u679C\u6240\u6709\u8868\u9879\u90FD\u662F deny \u6A21\u5F0F\uFF0C\u5219\u4EFB\u4F55\u8DEF\u7531\u90FD\u4E0D\u4F1A\u901A\u8FC7\u8BE5\u5730\u5740\u524D\u7F00\u5217\u8868\u7684\u8FC7\u6EE4\u53EF\u4EE5\u5728\u5B9A\u4E49\u4E86\u591A\u6761 deny \u6A21\u5F0F\u7684\u8868\u9879\u540E\u5B9A\u4E49\u4E00\u6761 <code>permit 0.0.0.0/0 ge 0 le 32</code> \u7684\u8868\u9879,\u4EE5\u5141\u8BB8\u5176\u5B83\u6240\u6709\u8DEF\u7531\u4FE1\u606F\u901A\u8FC7</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#ip prefix-list mylist seq 12345 deny 10.0.0.0/8 le 22 ge 14
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h2 id="ip-prefix-list-sequence-number" tabindex="-1"><a class="header-anchor" href="#ip-prefix-list-sequence-number" aria-hidden="true">#</a> <code>ip prefix-list sequence-number</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>ip prefix-list sequence-number</code></li><li><code>no ip prefix-list sequence-number</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u542F\u52A8\u5E8F\u53F7\u81EA\u52A8\u751F\u6210\u529F\u80FD\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5173\u95ED\u524D\u7F00\u5217\u8868\u6761\u76EE\u5E8F\u53F7</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u542F\u52A8\u5E8F\u53F7\u81EA\u52A8\u751F\u6210\u529F\u80FD</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u53EF\u4EE5\u4F7F\u7528\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u6765\u5173\u95ED\u524D\u7F00\u5217\u8868\u6761\u76EE\u5E8F\u53F7</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#no ip prefix-list sequence-number
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h2 id="match-as-path" tabindex="-1"><a class="header-anchor" href="#match-as-path" aria-hidden="true">#</a> <code>match as-path</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>match as-path &lt;list-name&gt;</code></li><li><code>no match as-path [&lt;list-name&gt;]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u5339\u914D BGP \u8DEF\u7531\u4FE1\u606F\u7684 AS \u8DEF\u5F84\u57DF\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A &lt; list-name &gt; \u4E3A access-list \u540D\u79F0</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1Aroute-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u672C\u547D\u4EE4\u6309 as-path list \u4E2D\u6307\u5B9A\u7684\u89C4\u5219\u5BF9 BGP \u8DEF\u7531\u4FE1\u606F\u7684 AS \u8DEF\u5F84\u57DF\u8FDB\u884C\u5339\u914D\uFF0C\u5982\u5339\u914D\u6210\u529F\uFF0C\u5219\u6267\u884C route-map \u4E2D\u7684 permit \u6216 deny \u64CD\u4F5C</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#route-map r1 permit 5
Switch(config-route-map)#match as-path 60
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="match-community" tabindex="-1"><a class="header-anchor" href="#match-community" aria-hidden="true">#</a> <code>match community</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>match community &lt;community-list-name | community-list-num &gt; [exact-match] </code></li><li><code>no match community [&lt;community-list-name | community-list-num &gt; [exact-match]] </code></li><li><code>\u529F\u80FD\uFF1A\u914D\u7F6E\u5339\u914D BGP \u8DEF\u7531\u4FE1\u606F\u7684\u56E2\u4F53\u5C5E\u6027\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</code></li></ul></li><li><p>\u53C2\u6570\uFF1A <code>&lt; community-list-name &gt;</code> \u4E3A community-list \u540D\u79F0\uFF0C <code>&lt;community-list-num &gt;</code> \u4E3A community-list\u5E8F\u53F7\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A 1\uFF5E99\uFF08\u6807\u51C6ACL\uFF09\u6216 100\uFF5E199\uFF08\u6269\u5C55ACL\uFF09\uFF0C<code>[exact-match]</code>\u8868\u793A\u7CBE\u786E\u5339\u914D</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A<code>route-map</code> \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A \u672C\u547D\u4EE4\u6309 community list \u4E2D\u6307\u5B9A\u7684\u89C4\u5219\u5BF9 BGP \u8DEF\u7531\u4FE1\u606F\u7684\u56E2\u4F53\u5C5E\u6027\u8FDB\u884C\u5339\u914D\uFF0C\u5982\u679C\u5339\u914D\u6210\u529F\uFF0C\u5219\u6267\u884C route-map \u4E2D\u7684 permit \u6216 deny \u64CD\u4F5C\u3002 \u56E2\u4F53\u5C5E\u6027\u901A\u8FC7 match \u548C set \u53EF\u4EE5\u63D0\u4F9B\u5BF9\u5927\u91CF\u8DEF\u7531\u5E94\u7528\u7B56\u7565\u7684\u80FD\u529B</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#route-map r1 permit 5
Switch(config-route-map)#match community 100 exact-match
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="match-interface" tabindex="-1"><a class="header-anchor" href="#match-interface" aria-hidden="true">#</a> <code>match interface</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>match interface &lt; interface-name &gt;</code></li><li><code>no match interface [&lt; interface-name &gt;]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u5BF9\u63A5\u53E3\u5339\u914D\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E\u3002</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt; interface-name &gt;</code>\u4E3A\u63A5\u53E3\u540D\u79F0\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1Aroute-map \u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u672C\u547D\u4EE4\u6309\u8DEF\u7531\u4E2D\u7684\u4E0B\u4E00\u8DF3\u63A5\u53E3\u4FE1\u606F\u8FDB\u884C\u5339\u914D\uFF0C\u5982\u679C\u5339\u914D\u6210\u529F\uFF0C\u5219\u6267\u884C route-map \u4E2D\u7684 permit \u6216 deny \u64CD\u4F5C\u3002\u672C\u547D\u4EE4\u4EC5\u7528\u4E8E RIP \u548COSPF \u534F\u8BAE\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#route-map r1 permit 5
Switch(config-route-map)#match interface vlan1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="match-ip" tabindex="-1"><a class="header-anchor" href="#match-ip" aria-hidden="true">#</a> <code>match ip</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>match ip &lt;address | next-hop&gt; &lt;ip-acl-name | ip-acl-num | prefix-list list-name&gt;</code></li><li><code>no match ip &lt;address | next-hop&gt; [&lt;ip-acl-name | ip-acl-num | prefix-list list-name&gt;]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u5339\u914D\u8DEF\u7531\u524D\u7F00\u6216\u4E0B\u4E00\u8DF3\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A</p><ul><li><code>&lt; address &gt;</code>\u8868\u793A\u5339\u914D\u7684\u662F\u8DEF\u7531\u524D\u7F00\uFF0C</li><li><code>&lt; next-hop &gt;</code> \u8868\u793A\u5339\u914D\u7684\u662F\u8DEF\u7531\u4E0B\u4E00\u8DF3\uFF0C</li><li><code>&lt; ip-acl-name &gt;</code> \u4E3A <code>ip access-list</code> \u540D\u79F0\uFF0C</li><li><code>&lt; ip-acl-num &gt;</code>\u4E3A <code>ip access-list</code> \u5E8F\u53F7\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A 1\uFF5E199 \u6216 1300\uFF5E2699\uFF08\u6269\u5C55\u8303\u56F4\uFF09</li><li><code>prefix-list</code> \u8868\u793A\u8981\u6309\u524D\u7F00\u5217\u8868\u89C4\u5219\u8FDB\u884C\u5339\u914D\uFF0C<code>list-name</code> \u4E3A\u524D\u7F00\u5217\u8868\u540D\u79F0</li></ul></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1Aroute-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u672C\u547D\u4EE4\u6309\u8DEF\u7531\u4E2D\u7684\u8DEF\u7531\u524D\u7F00\u6216\u4E0B\u4E00\u8DF3\u4FE1\u606F\u8FDB\u884C\u5339\u914D\uFF0C\u5982\u679C\u5339\u914D\u6210\u529F\uFF0C\u5219\u6267\u884C <code>route-map</code> \u4E2D\u7684 <code>permit</code> \u6216 <code>deny</code> \u64CD\u4F5C</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#route-map r1 permit 5
Switch(config-route-map)#match ip address prefix-list mylist
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="match-ipv6-address" tabindex="-1"><a class="header-anchor" href="#match-ipv6-address" aria-hidden="true">#</a> <code>match ipv6 address</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>match ipv6 address &lt;ipv6-acl-name | prefix-list list-name&gt;</code></li><li><code>no match ipv6 address [&lt;ipv6-acl-name | prefix-list list-name&gt;]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u5339\u914D ipv6 \u8DEF\u7531\u524D\u7F00\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A<code>address</code> \u8868\u793A\u5339\u914D\u7684\u662F\u8DEF\u7531\u524D\u7F00\uFF0C<code>&lt;ipv6-acl-name&gt;</code> \u4E3A ipv6 access-list \u540D\u79F0\uFF0Cprefix-list \u8868\u793A\u8981\u6309\u524D\u7F00\u5217\u8868\u89C4\u5219\u8FDB\u884C\u5339\u914D\uFF0C list-name \u4E3A\u524D\u7F00\u5217\u8868\u540D\u79F0</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A <code>route-map</code> \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u672C\u547D\u4EE4\u6309\u8DEF\u7531\u4E2D\u7684\u8DEF\u7531\u524D\u7F00\u8FDB\u884C\u5339\u914D\uFF0C\u5982\u679C\u5339\u914D\u6210\u529F\uFF0C\u5219\u6267\u884C route-map \u4E2D permitdeny \u64CD\u4F5C</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#route-map r1 permit 5
Switch(config-route-map)#match ipv6 address prefix-list mylist
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="match-ipv6-next-hop" tabindex="-1"><a class="header-anchor" href="#match-ipv6-next-hop" aria-hidden="true">#</a> <code>match ipv6 next-hop</code></h2><ul><li>\u547D\u4EE4\uFF1A <ul><li><code>match ipv6 next-hop &lt;ipv6-address&gt;</code></li><li><code>no match ipv6 next-hop [&lt;ipv6-address&gt;]</code></li></ul></li><li>\u529F\u80FD\uFF1A\u914D\u7F6E\u5339\u914D ipv6 \u8DEF\u7531\u4E0B\u4E00\u8DF3\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</li><li>\u53C2\u6570\uFF1A next-hop \u8868\u793A\u5339\u914D\u7684\u662F\u8DEF\u7531\u4E0B\u4E00\u8DF3\uFF0C ipv6-address \u8868\u793A\u4E0B\u4E00\u8DF3\u7684\u63A5\u53E3 ipv6 \u5730\u5740</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1A route-map \u914D\u7F6E\u6A21\u5F0F\u3002</li><li>\u4F7F\u7528\u6307\u5357\uFF1A\u672C\u547D\u4EE4\u6309\u8DEF\u7531\u4E2D\u7684\u4E0B\u4E00\u8DF3\u4FE1\u606F\u8FDB\u884C\u5339\u914D\uFF0C\u5982\u679C\u5339\u914D\u6210\u529F\uFF0C\u5219\u6267\u884C route-map \u4E2D\u7684 permit \u6216 deny \u64CD\u4F5C</li><li>\u4E3E\u4F8B\uFF1A</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#route-map r1 permit 5
Switch(config-route-map)# match ipv6 next-hop 2000::1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="match-metric" tabindex="-1"><a class="header-anchor" href="#match-metric" aria-hidden="true">#</a> <code>match metric</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>match metric &lt;metric-val&gt;</code></li><li><code>no match metric [&lt;metric-val&gt;]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u5339\u914D\u8DEF\u7531\u4FE1\u606F\u7684\u5EA6\u91CF\u503C\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A <code>&lt;metric-val &gt;</code>\u4E3A\u5EA6\u91CF\u503C\uFF0C\u8303\u56F4\u4E3A 0\uFF5E4294967295</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A route-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u672C\u547D\u4EE4\u6309\u8DEF\u7531\u4E2D\u7684\u5EA6\u91CF\u503C\u8FDB\u884C\u5339\u914D\uFF0C\u5982\u679C\u5339\u914D\u6210\u529F\uFF0C\u5219\u6267\u884C route-map \u4E2D\u7684 permit \u6216 deny \u64CD\u4F5C</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#route-map r1 permit 5
Switch(config-route-map)#match metric 60
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="match-origin" tabindex="-1"><a class="header-anchor" href="#match-origin" aria-hidden="true">#</a> <code>match origin</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>match origin &lt;egp | igp | incomplete&gt;</code></li><li><code>no match origin &lt;egp | igp | incomplete&gt;</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u5339\u914D BGP \u8DEF\u7531\u4FE1\u606F\u7684\u6E90\uFF0C\u672C\u547D\u4EE4\u7684no\u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E\u3002</p></li><li><p>\u53C2\u6570\uFF1Aegp \u8868\u793A\u8DEF\u7531\u5B66\u4E60\u81EA\u5916\u90E8\u7F51\u5173\u534F\u8BAE\uFF0Cigp \u8868\u793A\u8DEF\u7531\u5B66\u4E60\u81EA\u5185\u90E8\u7F51\u5173\u534F\u8BAE\uFF0Cincomplete</p></li><li><p>\u8868\u793A\u8DEF\u7531\u6E90\u4E0D\u80FD\u786E\u5B9A</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1Aroute-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u672C\u547D\u4EE4\u6309BGP \u8DEF\u7531\u4E2D\u7684\u6E90\u4FE1\u606F\u8FDB\u884C\u5339\u914D\uFF0C\u5982\u679C\u5339\u914D\u6210\u529F\uFF0C\u5219\u6267\u884Croute-map \u4E2D\u7684permit \u6216deny \u64CD\u4F5C</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#route-map r1 permit 5
Switch(config-route-map)#match origin egp
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="match-route-type" tabindex="-1"><a class="header-anchor" href="#match-route-type" aria-hidden="true">#</a> <code>match route-type</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>match route-type external &lt;type-1 | type-2&gt;</code></li><li><code>no match route-type external [&lt;type-1 | type-2&gt;]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u5339\u914D OSPF \u8DEF\u7531\u4FE1\u606F\u7684\u8DEF\u7531\u7C7B\u578B\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1Atype-1 \u8868\u793A\u5339\u914D OSPF \u7C7B\u578B 1 \u5916\u90E8\u8DEF\u7531\uFF0Ctype-2 \u8868\u793A\u5339\u914D OSPF \u7C7B\u578B 2 \u5916\u90E8\u8DEF\u7531</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A route-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u672C\u547D\u4EE4\u6309 OSPF \u8DEF\u7531\u7684\u7C7B\u578B\u8FDB\u884C\u5339\u914D\uFF08OSPF AS-external LSA \u7C7B\u578B\u4E3A type 1 \u6216 type2\uFF09\uFF0C\u5982\u679C\u5339\u914D\u6210\u529F\uFF0C\u5219\u6267\u884C route-map \u4E2D\u7684 permit \u6216deny \u64CD\u4F5C</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#route-map r1 permit 5
Switch(config-route-map)#match route-type external type-1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="match-tag" tabindex="-1"><a class="header-anchor" href="#match-tag" aria-hidden="true">#</a> <code>match tag</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>match tag &lt;tag-val&gt;</code></li><li><code>no match tag [&lt;tag-val&gt;]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u5339\u914D OSPF \u8DEF\u7531\u4FE1\u606F\u7684 tag \u57DF\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A <code>&lt;tag-val &gt;</code> \u4E3A tag \u503C\uFF0C\u8303\u56F4\u4E3A 0\uFF5E4294967295</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1Aroute-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u672C\u547D\u4EE4\u6309 OSPF \u8DEF\u7531\u4E2D\u7684 tag \u503C\u8FDB\u884C\u5339\u914D\uFF0C\u5982\u679C\u5339\u914D\u6210\u529F\uFF0C\u5219\u6267\u884C route-map \u4E2D\u7684 permit \u6216 deny \u64CD\u4F5C</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#route-map r1 permit 5
Switch(config-route-map)#match tag 60
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="route-map" tabindex="-1"><a class="header-anchor" href="#route-map" aria-hidden="true">#</a> <code>route-map</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>route-map &lt;map_name&gt; {deny | permit} &lt;sequence_num&gt;</code></li><li><code>no route-map &lt;map_name&gt; [{deny | permit} &lt;sequence_num&gt;]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E route-map \uFF0C\u5E76\u4E14\u8FDB\u5165 route-map \u6A21\u5F0F\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664 route-map</p></li><li><p>\u53C2\u6570\uFF1A</p><ul><li><code>&lt;map_name&gt;</code>\u4E3A route-map \u540D\u79F0\uFF0C permit \u6307\u5B9A\u6240\u5B9A\u4E49\u7684 route-map \u7684\u5339\u914D\u6A21\u5F0F\u4E3A\u5141\u8BB8\u6A21\u5F0F\uFF0C deny \u6307\u5B9A\u6240\u5B9A\u4E49\u7684 route-map \u7684\u5339\u914D\u6A21\u5F0F\u4E3A\u62D2\u7EDD\u6A21\u5F0F\uFF08\u6B64\u6A21\u5F0F\u4E0Bset\u5B50\u53E5\u4E0D\u4F1A\u88AB\u6267\u884C\uFF09\uFF0C</li><li><code>&lt;sequence_num&gt;</code> \u4E3A route-map \u5E8F\u5217\u53F7\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A 1\uFF5E65535</li></ul></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A</p><ul><li>\u4E00\u4E2A route-map \u53EF\u7531\u591A\u4E2A\u8282\u70B9\u6784\u6210\uFF0C\u6BCF\u4E2A\u8282\u70B9\u662F\u8FDB\u884C\u5339\u914D\u68C0\u67E5\u7684\u4E00\u4E2A\u5355\u5143\uFF0C\u8282\u70B9\u95F4\u4F9D\u636E\u987A\u5E8F\u53F7 sequence-number \u6807\u8BC6\u68C0\u67E5\u987A\u5E8F\u3002</li><li>permit \u8868\u793A\u5F53\u8DEF\u7531\u9879\u6EE1\u8DB3\u8BE5\u8282\u70B9\u7684\u6240\u6709 match \u5B50\u53E5\u65F6\uFF0C\u8BA4\u4E3A\u901A\u8FC7\u8BE5\u8282\u70B9\u7684\u8FC7\u6EE4\uFF0C\u5E76\u6267\u884C\u8BE5\u8282\u70B9\u7684 set \u5B50\u53E5\uFF0C\u4E0D\u8FDB\u5165\u4E0B\u4E00\u4E2A\u8282\u70B9\u7684\u6D4B\u8BD5\uFF1B</li><li>\u5982\u8DEF\u7531\u9879\u4E0D\u6EE1\u8DB3\u8BE5\u8282\u70B9\u7684 match \u5B50\u53E5\u5C06\u8FDB\u5165\u4E0B\u4E00\u4E2A\u8282\u70B9\u7EE7\u7EED\u6D4B\u8BD5\u3002</li><li>deny \u8868\u793A set \u5B50\u53E5\u4E0D\u4F1A\u88AB\u6267\u884C\uFF0C\u5F53\u8DEF\u7531\u9879\u6EE1\u8DB3\u8BE5\u8282\u70B9\u7684\u6240\u6709 match \u5B50\u53E5\u65F6\u88AB\u62D2\u7EDD\u901A\u8FC7\u8BE5\u8282\u70B9\uFF0C\u4E0D\u8FDB\u5165\u4E0B\u4E00\u4E2A\u8282\u70B9\u7684\u6D4B\u8BD5\uFF1B\u5982\u8DEF\u7531\u9879\u4E0D\u6EE1\u8DB3\u8BE5\u8282\u70B9\u7684 match \u5B50\u53E5\uFF0C\u5C06\u8FDB\u5165\u4E0B\u4E00\u4E2A\u8282\u70B9\u7EE7\u7EED\u6D4B\u8BD5\u3002</li><li>\u4E0D\u540C\u8282\u70B9\u95F4\u662F\u6216\u7684\u5173\u7CFB\uFF0C\u5373\u4EA4\u6362\u673A\u4F9D\u6B21\u68C0\u67E5 route-map \u7684\u5404\u4E2A\u8282\u70B9, \u901A\u8FC7 route-map \u7684\u67D0\u4E00\u8282\u70B9\u5C31\u610F\u5473\u7740\u901A\u8FC7\u8BE5 route-map \u8FC7\u6EE4\u3002</li><li>\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u5982\u679C\u5B9A\u4E49\u4E86\u4E00\u4E2A\u4EE5\u4E0A\u7684 route-map \u8282\u70B9\uFF0C route-map \u7684\u5404\u4E2A\u8282\u70B9\u4E2D\u81F3\u5C11\u5E94\u8BE5\u6709\u4E00\u4E2A\u8282\u70B9\u7684\u5339\u914D\u6A21\u5F0F\u662F permit\u3002</li><li>\u5F53\u4E00\u4E2A route-map \u7528\u4E8E\u8DEF\u7531\u4FE1\u606F\u8FC7\u6EE4\u65F6\uFF0C\u5982\u679C\u67D0\u8DEF\u7531\u4FE1\u606F\u6CA1\u6709\u901A\u8FC7\u4EFB\u4E00\u8282\u70B9\uFF0C\u5219\u8BA4\u4E3A\u8BE5\u8DEF\u7531\u4FE1\u606F\u6CA1\u6709\u901A\u8FC7\u8BE5 route-map\u3002</li><li>\u5F53 route-map \u7684\u6240\u6709\u8282\u70B9\u90FD\u662F deny \u6A21\u5F0F\u65F6\uFF0C\u6240\u6709\u8DEF\u7531\u4FE1\u606F\u90FD\u4E0D\u4F1A\u901A\u8FC7\u8BE5 route-map</li></ul></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#route-map r1 permit 5
Switch(config-route-map)#match as-path 60
Switch(config-route-map)#set weight 30
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul><h2 id="set-aggregator" tabindex="-1"><a class="header-anchor" href="#set-aggregator" aria-hidden="true">#</a> <code>set aggregator</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>set aggregator as &lt;as-number&gt; &lt;ip_addr&gt;</code></li><li><code>no set aggregator as [&lt;as-number&gt; &lt;ip_addr&gt;]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u4E3A BGP \u805A\u5408\u8005\u5206\u914D\u4E00\u4E2A AS \u53F7\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;as-number &gt;</code> \u4E3A AS \u53F7\uFF0C<code>&lt;ip_addr&gt;</code> \u4E3A\u805A\u5408\u8005\u7684 ip \u5730\u5740\uFF0C\u70B9\u5206\u5341\u8FDB\u5236\u5F62\u5F0F</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A route-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8981\u4F7F\u7528\u672C\u547D\u4EE4\uFF0C\u9700\u9996\u5148\u5B9A\u4E49\u4E00\u6761 match \u8BED\u53E5</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#route-map r1 permit 5
Switch(config-route-map)#set aggregator as 200 10.1.1.1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="set-as-path" tabindex="-1"><a class="header-anchor" href="#set-as-path" aria-hidden="true">#</a> <code>set as-path</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>set as-path prepend &lt;as-num&gt;</code></li><li><code>no set as-path prepend [&lt;as-num&gt;]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u5728 BGP \u8DEF\u7531\u4FE1\u606F\u7684 AS \u8DEF\u5F84\u57DF\u589E\u52A0 AS \u53F7\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt; as-num &gt;</code> \u4E3A AS \u53F7\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A 1-4294967295 \u3002\u53EF\u7528\u5341\u8FDB\u5236\u8868\u793A\uFF0C\u5982 6553700 \uFF1B\u4E5F\u53EF\u7528\u5206\u9694\u7B26\u65B9\u5F0F\u8868\u793A\uFF0C\u5982 100.100 \u3002\u53EF\u8FDE\u7EED\u5FAA\u73AF\u8F93\u5165\u591A\u4E2A</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A route-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u901A\u8FC7\u5728 BGP \u7684 AS \u57DF\u589E\u52A0 AS \u53F7\uFF0C\u53EF\u4EE5\u589E\u52A0 AS \u8DEF\u5F84\u957F\u5EA6\uFF0C\u4ECE\u800C\u5F71\u54CD\u90BB\u5C45\u6700\u4F73\u8DEF\u5F84\u7684\u9009\u62E9\u3002\u8981\u4F7F\u7528\u672C\u547D\u4EE4\uFF0C\u9700\u9996\u5148\u5B9A\u4E49\u4E00\u6761 match \u8BED\u53E5</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#route-map r1 permit 5
Switch(config-route-map)#set as-path prepend 200 100.100
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="set-atomic-aggregate" tabindex="-1"><a class="header-anchor" href="#set-atomic-aggregate" aria-hidden="true">#</a> <code>set atomic-aggregate</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>set atomic-aggregate</code></li><li><code>no set atomic-aggregate</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E BGP \u8DEF\u7531\u4FE1\u606F\u7684\u539F\u5B50\u805A\u5408\u5C5E\u6027\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A route-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1ABGP \u4F7F\u7528\u539F\u5B50\u805A\u5408\u5C5E\u6027\u544A\u77E5\u5176\u5B83 BGP \u53D1\u8A00\u8005\uFF0C\u672C\u5730\u7CFB\u7EDF\u9009\u62E9\u4E86\u4E00\u4E2A\u6B21\u5177\u4F53\u7684\u8DEF\u7531\uFF0C\u800C\u6CA1\u6709\u9009\u62E9\u5305\u542B\u5728\u5176\u5185\u7684\u66F4\u5177\u4F53\u7684\u8DEF\u7531\u3002\u8981\u4F7F\u7528\u672C\u547D\u4EE4\uFF0C\u9700\u9996\u5148\u5B9A\u4E49\u4E00\u6761 match \u8BED\u53E5</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#route-map r1 permit 5
Switch(config-route-map)#set atomic-aggregate
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="set-comm-list" tabindex="-1"><a class="header-anchor" href="#set-comm-list" aria-hidden="true">#</a> <code>set comm-list</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>set comm-list &lt;community-list-name | community-list-num &gt; delete</code></li><li><code>no set comm-list &lt;community-list-name | community-list-num &gt; delete</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E BGP \u4ECE\u5165\u7AD9\u6216\u51FA\u7AD9\u8DEF\u7531\u4FE1\u606F\u4E2D\u5220\u9664\u56E2\u4F53\u5C5E\u6027\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt; ommunity-list-name &gt;</code> \u4E3A\u56E2\u4F53\u5217\u8868\u540D\u79F0\uFF0C <code>&lt; community-list-num &gt;</code>\u4E3A\u56E2\u4F53\u5217\u8868\u5E8F\u53F7\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A 1\uFF5E99\uFF08\u6807\u51C6\u56E2\u4F53\u5217\u8868\uFF09\u6216 100\uFF5E199\uFF08\u6269\u5C55\u56E2\u4F53\u5217\u8868\uFF09</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A route-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#route-map r1 permit 5
Switch(config-route-map)#set comm-list 100 delete
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="set-community" tabindex="-1"><a class="header-anchor" href="#set-community" aria-hidden="true">#</a> <code>set community</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>set community [AA:NN] [internet] [local-AS] [no-advertise] [no-export] [none][additive]</code></li><li><code>no set community [AA:NN] [internet] [local-AS] [no-advertise] [no-export] [none][additive]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E BGP \u8DEF\u7531\u4FE1\u606F\u7684\u56E2\u4F53\u5C5E\u6027\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A</p><ul><li><code>[AA:NN]</code>\u4E3A\u56E2\u4F53\u5C5E\u6027\u503C\uFF0C</li><li><code>[internet]</code>\u8868\u793A\u56E0\u7279\u7F51\u8303\u56F4\uFF0C</li><li><code>[local-AS]</code>\u8868\u793A\u672C\u8DEF\u7531\u4E0D\u53D1\u9001\u5230 local AS \u5916\uFF08\u53EF\u4EE5\u5728\u8054\u76DF\u7684\u5B50 AS \u4E4B\u95F4\u53D1\u5E03\uFF09\uFF0C</li><li><code>[no-advertise]</code>\u8868\u793A\u672C\u8DEF\u7531\u4E0D\u53D1\u9001\u7ED9\u4EFB\u4F55\u90BB\u5C45\uFF0C</li><li><code>[no-export]</code>\u8868\u793A\u672C\u8DEF\u7531\u4E0D\u53D1\u9001\u7ED9EBGP \u90BB\u5C45\uFF0C</li><li><code>[none]</code>\u8868\u793A\u4ECE\u672C\u8DEF\u7531\u524D\u7F00\u4E2D\u5220\u9664\u56E2\u4F53\u5C5E\u6027\uFF0C</li><li><code>[additive]</code>\u8868\u793A\u6DFB\u52A0\u5728\u5DF2\u6709\u56E2\u4F53\u5C5E\u6027\u540E\u3002 \u547D\u4EE4\u6A21\u5F0F\uFF1Aroute-map \u914D\u7F6E\u6A21\u5F0F</li></ul></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8981\u4F7F\u7528\u672C\u547D\u4EE4\uFF0C\u9700\u9996\u5148\u5B9A\u4E49\u4E00\u6761 match \u8BED\u53E5</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#route-map r1 permit 5
Switch(config-route-map)#set community local-as additive
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="set-extcommunity" tabindex="-1"><a class="header-anchor" href="#set-extcommunity" aria-hidden="true">#</a> <code>set extcommunity</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>set extcommunity &lt;rt | soo&gt; &lt;AA:NN&gt;</code></li><li><code>no set extcommunity &lt;rt | soo&gt; [&lt;AA:NN&gt;]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E BGP \u8DEF\u7531\u4FE1\u606F\u7684\u6269\u5C55\u56E2\u4F53\u5C5E\u6027\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A</p><ul><li><code>&lt;rt&gt;</code> \u4E3A\u8DEF\u7531\u76EE\u6807\uFF08 route target \uFF09\uFF0C</li><li><code>&lt;soo&gt;</code>\u4E3A\u6E90\u7AD9\u70B9\uFF08 site of origin \uFF09\uFF0C</li><li><code>&lt;AA:NN&gt;</code>\u4E3A\u56E2\u4F53\u5C5E\u6027\u503C\uFF0C\u5176\u4E2D AA \u4E3A AS \u53F7\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A 1-4294967295 \u3002</li><li>\u53EF\u7528\u5341\u8FDB\u5236\u8868\u793A\uFF0C\u5982 6553700 \uFF1B\u4E5F\u53EF\u7528\u5206\u9694\u7B26\u65B9\u5F0F\u8868\u793A\uFF0C\u5982 100.100 \u3002</li><li>NN \u4E3A\u4EFB\u610F\u4E24\u5B57\u8282\u6570\u5B57</li></ul></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A route-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8981\u4F7F\u7528\u672C\u547D\u4EE4\uFF0C\u9700\u9996\u5148\u5B9A\u4E49\u4E00\u6761 match \u8BED\u53E5</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E rt \u4E3A 100:10</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal
Switch(config)#route-map r1 permit 5
Switch(config-route-map)#set extcommunity rt 100:10
\u8BBE\u7F6Esoo \u4E3A200.200:10
Switch(config)#route-map r1 permit 10
Switch(config-route-map)#set extcommunity soo 200.200:10
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul><h2 id="set-ip-next-hop" tabindex="-1"><a class="header-anchor" href="#set-ip-next-hop" aria-hidden="true">#</a> <code>set ip next-hop</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>set ip next-hop &lt;ip_addr&gt; no</code></li><li><code>set ip next-hop [&lt;ip_addr&gt;] </code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u8DEF\u7531\u7684\u4E0B\u4E00\u8DF3\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E\u3002</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt; ip_addr &gt;</code>\u4E3A\u4E0B\u4E00\u8DF3\u7684 ip \u5730\u5740\uFF0C\u70B9\u5206\u5341\u8FDB\u5236\u5F62\u5F0F\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A route-map \u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal 
Switch(config)#route-map r1 permit 5 
Switch(config-route-map)#set ip next-hop 10.2.2.2
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="set-local-preference" tabindex="-1"><a class="header-anchor" href="#set-local-preference" aria-hidden="true">#</a> <code>set local-preference</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>set local-preference &lt;pre_val&gt; no</code></li><li><code>set local-preference [&lt;pre_val&gt;] </code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E BGP \u8DEF\u7531\u7684\u672C\u5730\u4F18\u5148\u7EA7\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt; pre_val &gt;</code>\u4E3A\u672C\u5730\u4F18\u5148\u7EA7\u503C\uFF0C\u8303\u56F4\u4E3A 0\uFF5E4294967295 \u3002\u547D\u4EE4\u6A21\u5F0F\uFF1A route-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A \u672C\u5730\u4F18\u5148\u7EA7\u5C5E\u6027\u662F\u7ED9\u4E88\u4E00\u4E2A\u8DEF\u7531\u7684\u4F18\u5148\u7A0B\u5EA6\uFF0C\u5E76\u4F7F\u5176\u4E0E\u540C\u4E00\u76EE\u7684\u5730\u7684\u5176\u5B83\u8DEF\u7531\u6BD4\u8F83\uFF0C\u8F83\u9AD8\u7684\u672C\u5730\u4F18\u5148\u7EA7\u8868\u793A\u8BE5\u8DEF\u7531\u66F4\u4E3A\u4F18\u9009\u3002 \u672C\u5730\u4F18\u5148\u7EA7\u53EA\u5728\u672C AS \u5185\u6709\u6548\uFF0C\u4E0D\u4F1A\u4F20\u9001\u7ED9 EBGP \u90BB\u5C45\u3002 \u8981\u4F7F\u7528\u672C\u547D\u4EE4\uFF0C\u9700\u9996\u5148\u5B9A\u4E49\u4E00\u6761 match \u8BED\u53E5</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal 
Switch(config)#route-map r1 permit 5 
Switch(config-route-map)#set local-preference 60
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="set-metric" tabindex="-1"><a class="header-anchor" href="#set-metric" aria-hidden="true">#</a> <code>set metric</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>set metric &lt; metric_val&gt; no </code></li><li><code>set metric [&lt;metric_val&gt;] </code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u8DEF\u7531\u7684\u5EA6\u91CF\u503C\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt; metric_val &gt;</code>\u4E3A\u5EA6\u91CF\u503C\uFF0C\u8303\u56F4\u4E3A 1\uFF5E4294967295</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A route-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u5EA6\u91CF\u503C\u53EF\u4EE5\u5F71\u54CD\u5916\u90E8\u90BB\u5C45\u5230\u672C AS \u7684\u8DEF\u5F84\u9009\u62E9\u3002\u5EA6\u91CF\u503C\u8D8A\u5C0F\uFF0C\u4F18\u5148\u7A0B\u5EA6\u8D8A\u9AD8\u3002\u4E00\u822C\u60C5\u51B5\u4E0B\uFF0C\u53EA\u6BD4\u8F83\u540C\u4E00 AS \u5185\u7684\u90BB\u5C45\u7684\u8DEF\u5F84\u7684\u5EA6\u91CF\u503C\u3002\u8981\u6269\u5C55\u6BD4\u8F83\u4E0D\u540C AS \u90BB\u5C45\u8DEF\u5F84\u7684\u5EA6\u91CF\u503C\uFF0C\u9700\u914D\u7F6E\u547D\u4EE4 bgp always-compare-med \u3002\u8981\u4F7F\u7528\u672C\u547D\u4EE4\uFF0C\u9700\u9996\u5148\u5B9A\u4E49\u4E00\u6761 match \u8BED\u53E5</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal 
Switch(config)#route-map r1 permit 5 
Switch(config-route-map)#set metric 60
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="set-metric-type" tabindex="-1"><a class="header-anchor" href="#set-metric-type" aria-hidden="true">#</a> <code>set metric-type</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>set metric-type &lt;type-1 | type-2&gt; no</code></li><li><code>set metric-type [&lt;type-1 | type-2&gt;]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E OSPF \u8DEF\u7531\u4FE1\u606F\u7684\u5EA6\u91CF\u7C7B\u578B\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A type-1 \u8868\u793A\u5339\u914D OSPF \u7C7B\u578B 1 \u5916\u90E8\u8DEF\u7531\uFF0C type-2 \u8868\u793A\u5339\u914D OSPF \u7C7B\u578B 2 \u5916\u90E8\u8DEF\u7531</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A route-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8981\u4F7F\u7528\u672C\u547D\u4EE4\uFF0C\u9700\u9996\u5148\u5B9A\u4E49\u4E00\u6761 match \u8BED\u53E5</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal 
Switch(config)#route-map r1 permit 5 
Switch(config-route-map)#set metric-type type-1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="set-origin" tabindex="-1"><a class="header-anchor" href="#set-origin" aria-hidden="true">#</a> <code>set origin</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>set origin &lt;egp | igp | incomplete &gt; no</code></li><li><code>set origin [&lt;egp | igp | incomplete &gt;]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E BGP \u8DEF\u7531\u4FE1\u606F\u7684\u6E90\u7801\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A egp \u8868\u793A\u8DEF\u7531\u5B66\u4E60\u81EA\u5916\u90E8\u7F51\u5173\u534F\u8BAE\uFF0C igp \u8868\u793A\u8DEF\u7531\u5B66\u4E60\u81EA\u5185\u90E8\u7F51\u5173\u534F\u8BAE\uFF0C incomplete \u8868\u793A\u8DEF\u7531\u6E90\u4E0D\u80FD\u786E\u5B9A</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A route-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8981\u4F7F\u7528\u672C\u547D\u4EE4\uFF0C\u9700\u9996\u5148\u5B9A\u4E49\u4E00\u6761 match \u8BED\u53E5</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal 
Switch(config)#route-map r1 permit 5 
Switch(config-route-map)#set origin egp
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="set-originator-id" tabindex="-1"><a class="header-anchor" href="#set-originator-id" aria-hidden="true">#</a> <code>set originator-id</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>set originator-id &lt;ip_addr&gt; no</code></li><li><code>set originator-id [&lt;ip_addr&gt;]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E BGP \u8DEF\u7531\u4FE1\u606F\u7684\u6E90 ip \u5730\u5740\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;ip_addr&gt;</code>\u4E3A\u8DEF\u7531\u7684\u6E90 ip \u5730\u5740\uFF0C\u70B9\u5206\u5341\u8FDB\u5236\u5F62\u5F0F</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A route-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8981\u4F7F\u7528\u672C\u547D\u4EE4\uFF0C\u9700\u9996\u5148\u5B9A\u4E49\u4E00\u6761 match \u8BED\u53E5</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal 
Switch(config)#route-map r1 permit 5 
Switch(config-route-map)#set originator-id 10.1.1.1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="set-tag" tabindex="-1"><a class="header-anchor" href="#set-tag" aria-hidden="true">#</a> <code>set tag</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>set tag &lt;tag_val&gt; no</code></li><li><code>set tag [&lt;tag_val&gt;]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E OSPF \u8DEF\u7531\u4FE1\u606F\u7684 tag \u57DF\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt; tag-val &gt;</code>\u4E3A tag \u503C\uFF0C\u8303\u56F4\u4E3A 0\uFF5E4294967295</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A route-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A AS-external-LSA \u7C7B\u578B\u7684 LSA \u6709\u4E00\u4E2A route-tag \u57DF\uFF0C\u8BE5\u57DF\u4E00\u822C\u662F\u7531\u5176\u5B83\u8DEF\u7531\u534F\u8BAE\u6807\u8BB0\u7684\u3002\u8981\u4F7F\u7528\u672C\u547D\u4EE4\uFF0C\u9700\u9996\u5148\u5B9A\u4E49\u4E00\u6761 match \u8BED\u53E5</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal 
Switch(config)#route-map r1 permit 5 
Switch(config-route-map)#set tag 60
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="set-vpnv4-next-hop" tabindex="-1"><a class="header-anchor" href="#set-vpnv4-next-hop" aria-hidden="true">#</a> <code>set vpnv4 next-hop</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>set vpnv4 next-hop &lt;ip_addr&gt; no</code></li><li><code>set vpnv4 next-hop [&lt;ip_addr&gt;]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E BGP VPNv4 \u8DEF\u7531\u4FE1\u606F\u7684\u4E0B\u4E00\u8DF3\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;ip_addr&gt;</code>\u4E3A VPNv4 \u8DEF\u7531\u7684\u4E0B\u4E00\u8DF3 ip \u5730\u5740\uFF0C\u70B9\u5206\u5341\u8FDB\u5236\u5F62\u5F0F</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A route-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8981\u4F7F\u7528\u672C\u547D\u4EE4\uFF0C\u9700\u9996\u5148\u5B9A\u4E49\u4E00\u6761 match \u8BED\u53E5</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal 
Switch(config)#route-map r1 permit 5 
Switch(config-route-map)#set vpnv4 next-hop 10.1.1.1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="set-weight" tabindex="-1"><a class="header-anchor" href="#set-weight" aria-hidden="true">#</a> <code>set weight</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>set weight &lt;weight_val&gt; no</code></li><li><code>set weight [&lt;weight_val&gt;]</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E BGP \u8DEF\u7531\u4FE1\u606F\u7684\u6743\u91CD\u503C\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;weight_val&gt;</code>\u4E3A\u6743\u91CD\u503C\uFF0C\u8303\u56F4\u4E3A 0\uFF5E4294967295</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A route-map \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u6743\u91CD\u503C\u7528\u4E8E\u5E2E\u52A9\u6700\u4F73\u8DEF\u5F84\u7684\u9009\u62E9\uFF0C\u53EA\u5728\u672C\u4EA4\u6362\u673A\u6709\u6548\u3002\u5728\u5230\u540C\u4E00\u76EE\u7684\u5730\u6709\u591A\u6761\u8DEF\u7531\u7684\u60C5\u51B5\u4E0B\uFF0C\u6743\u91CD\u503C\u8D8A\u9AD8\u8D8A\u4F18\u5148\u3002\u8981\u4F7F\u7528\u672C\u547D\u4EE4\uFF0C\u9700\u9996\u5148\u5B9A\u4E49\u4E00\u6761 match \u8BED\u53E5</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#config terminal 
Switch(config)#route-map r1 permit 5 
Switch(config-route-map)#set weight 60
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="show-ip-prefix-list-list-name" tabindex="-1"><a class="header-anchor" href="#show-ip-prefix-list-list-name" aria-hidden="true">#</a> <code>show ip prefix-list &lt;list-name&gt;</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>show ip prefix-list [&lt;list-name&gt; [&lt;ip_addr/len&gt; [first-match | longer] | seq &lt;sequence-number&gt;]] </code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u6309\u524D\u7F00\u5217\u8868\u540D\u79F0\u8FDB\u884C\u663E\u793A</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;list-name&gt;</code>\u4E3A\u524D\u7F00\u5217\u8868\u540D\u79F0\uFF0C<code>&lt;ip_addr/len&gt;</code>\u4E3A\u524D\u7F00 ip \u5730\u5740\u548C\u63A9\u7801\u957F\u5EA6\uFF0C first-match \u8868\u793A\u663E\u793A\u5BF9\u7279\u5B9A ip \u5730\u5740\u800C\u8A00\u5339\u914D\u7684\u7B2C\u4E00\u4E2A\u8DEF\u7531\u8868\uFF0C longer \u8868\u793A\u8981\u67E5\u627E\u66F4\u957F\u7684\u524D\u7F00\uFF0C seq \u8868\u793A\u6309\u5E8F\u5217\u53F7\u8FDB\u884C\u663E\u793A\uFF0C<code>&lt;sequence-number&gt;</code>\u4E3A\u5E8F\u5217\u53F7\uFF0C\u8303\u56F4\u4E3A 0\uFF5E4294967295</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u4E0D\u6307\u5B9A\u524D\u7F00\u5217\u8868\u7684\u540D\u5B57\u65F6\uFF0C\u4F1A\u663E\u793A\u6240\u6709\u7684\u524D\u7F00\u5217\u8868</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#show 
ip prefix-list ip prefix-list 1: 1 entries 
    deny any
ip prefix-list mylist: 1 entries
    deny 1.1.1.1/8 
Switch#show ip prefix-list mylist 1.1.1.1/8 
    seq 5 deny 1.1.1.1/8 (hit count: 0, refcount: 0)
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><code>ip prefix-list mylist: 1 entries</code><ul><li>\u663E\u793A\u540D\u79F0\u4E3A mylist \u7684\u524D\u7F00\u5217\u8868\uFF0C\u8BE5\u524D\u7F00\u5217\u8868\u5305\u542B 1 \u4E2A\u5B9E\u4F53</li></ul></li><li><code>seq 5 deny 1.1.1.1/8 (hit count: 0, refcount: 0)</code><ul><li>\u8868\u793A\u5E8F\u5217\u53F7\u4E3A 5 \u7684\u524D\u7F00\u5217\u8868\u5185\u5BB9\uFF0C<code>hit count: 0</code> \u8868\u793A\u88AB\u547D\u4E2D 0 \u6B21\uFF0C<code>refcount: 0</code> \u8868\u793A\u5F15\u7528 0 \u6B21</li></ul></li></ul></li></ul><h2 id="show-ip-prefix-list-detail-summary" tabindex="-1"><a class="header-anchor" href="#show-ip-prefix-list-detail-summary" aria-hidden="true">#</a> <code>show ip prefix-list &lt;detail | summary&gt;</code></h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>show ip prefix-list [&lt;detail | summary&gt; [&lt;list-name&gt;] ] </code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A\u524D\u7F00\u5217\u8868\u5185\u5BB9</p></li><li><p>\u53C2\u6570\uFF1Adetail \u8868\u793A\u663E\u793A\u8BE6\u7EC6\u4FE1\u606F\uFF0C summary \u8868\u793A\u663E\u793A\u6458\u8981\u4FE1\u606F\uFF0C<code>&lt;list-name&gt;</code>\u4E3A\u524D\u7F00\u5217\u8868\u540D\u79F0</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u4E0D\u6307\u5B9A\u524D\u7F00\u5217\u8868\u7684\u540D\u5B57\u65F6\uFF0C\u4F1A\u663E\u793A\u6240\u6709\u7684\u524D\u7F00\u5217\u8868</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#show ip prefix-list detail mylist 
ip prefix-list mylist: 
  count: 2, range entries: 0, 
  sequences: 5 - 10 seq 5 deny 1.1.1.1/8 (hit count: 0, refcount: 0) 
  seq 10 permit 2.2.2.2/8 (hit count: 0, refcount: 0) 
Switch#show ip prefix-list summary mylist 
ip prefix-list mylist: 
  count: 2, range entries: 0, sequences: 5 - 10
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li><code>ip prefix-list mylist</code>: <ul><li>\u663E\u793A\u540D\u79F0\u4E3A mylist \u7684\u524D\u7F00\u5217\u8868</li></ul></li><li><code>count: 2, range entries: 0, sequences: 5 - 10</code><ul><li><code>count: 2</code> \u8868\u793A 2 \u4E2A\u524D\u7F00\u5217\u8868\u5B9E\u4F53\uFF0C<code>sequences: 5 \u2013 10</code> \u663E\u793A\u5E8F\u5217\u53F7\uFF0C5 \u4E3A\u8D77\u59CB\u5E8F\u5217\u53F7\uFF0C10 \u4E3A\u5C3E\u5E8F\u5217\u53F7</li></ul></li><li><code>deny 1.1.1.1/8 (hit count: 0, refcount: 0)</code><ul><li><code>deny 1.1.1.1/8</code> \u4E3A\u524D\u7F00\u5217\u8868\u5B9E\u4F53\u5177\u4F53\u5185\u5BB9\uFF0C<code>hit count: 0</code> \u8868\u793A\u88AB\u547D\u4E2D 0 \u6B21\uFF0C<code>refcount: 0</code> \u8868\u793A\u5F15\u7528 0 \u6B21</li></ul></li></ul></li></ul><h2 id="show-route-map-33333333333333333333333" tabindex="-1"><a class="header-anchor" href="#show-route-map-33333333333333333333333" aria-hidden="true">#</a> <code>show route-map</code> 33333333333333333333333</h2><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>show route-map </code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A route-map \u5185\u5BB9</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u65E0</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch# show route-map 
route-map a, deny, sequence 10 
  Match clauses: 
    as-path 60 
  Set clauses: 
    metric 10
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li><code>route-map a, deny, sequence 10</code><ul><li><code>route-map a</code>\u8868\u793A oute-map \u7684\u540D\u79F0\u4E3A a \uFF0C <code>deny</code> \u8868\u793A\u6A21\u5F0F\u4E3A deny \uFF0C <code>sequence 10</code> \u8868\u793A\u5E8F\u5217\u53F7\u4E3A 10</li></ul></li><li><code>Match clauses:</code><ul><li><code>Match</code> \u5B50\u53E5</li></ul></li><li><code>as-path 60</code><ul><li><code>Match</code> \u5B50\u53E5\u7684\u5177\u4F53\u5185\u5BB9</li></ul></li><li><code>Set clauses:</code><ul><li><code>Set</code> \u5B50\u53E5</li></ul></li><li><code>metric 10</code><ul><li><code>Set</code> \u5B50\u53E5\u7684\u5177\u4F53\u5185\u5BB9</li></ul></li></ul></li></ul><h2 id="show-router-id" tabindex="-1"><a class="header-anchor" href="#show-router-id" aria-hidden="true">#</a> <code>show router-id</code></h2><ul><li>\u547D\u4EE4\uFF1A <ul><li><code>show router-id</code></li></ul></li><li>\u529F\u80FD\uFF1A\u663E\u793A\u8DEF\u7531\u5668\u7684 router-id \u4FE1\u606F</li><li>\u7F3A\u7701\u60C5\u51B5\uFF1A\u4E0D\u663E\u793A</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u914D\u7F6E\u6A21\u5F0F</li><li>\u4E3E\u4F8B\uFF1A</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u4F8B1\uFF1A
Switch#show router-id 
Router ID: 20.1.1.1 (automatic) 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u4F8B2\uFF1A 
Switch#show router-id 
Router ID: 20.1.1.2 (config)
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,70);function a(n,s){return t}var p=e(l,[["render",a],["__file","08-1_routing-strategy.html.vue"]]);export{p as default};
