import{_ as i,e}from"./app.bef272a2.js";var n="/assets/1.51228cc0.jpg",p="/assets/2.8494d529.jpg",l="/assets/3.b2093d17.jpg",a="/assets/4.f516f8c5.jpg",s="/assets/5.2f8b0dea.jpg",d="/assets/7.1433ec49.jpg",o="/assets/8.a8f90921.jpg";const r={},t=e(`<h1 id="dhcp-\u914D\u7F6E\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#dhcp-\u914D\u7F6E\u547D\u4EE4" aria-hidden="true">#</a> DHCP \u914D\u7F6E\u547D\u4EE4</h1><h2 id="dhcp-\u670D\u52A1\u5668\u914D\u7F6E\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#dhcp-\u670D\u52A1\u5668\u914D\u7F6E\u547D\u4EE4" aria-hidden="true">#</a> DHCP \u670D\u52A1\u5668\u914D\u7F6E\u547D\u4EE4</h2><h3 id="bootfile" tabindex="-1"><a class="header-anchor" href="#bootfile" aria-hidden="true">#</a> <code>bootfile</code></h3><ul><li>\u547D\u4EE4\uFF1A <ul><li><code>bootfile &lt;filename&gt;</code></li><li><code>no bootfile</code></li></ul></li><li>\u529F\u80FD\uFF1A\u914D\u7F6E DHCP \u5BA2\u6237\u673A\u542F\u52A8\u65F6\u7684\u5BFC\u5165\u6587\u4EF6\u540D\uFF1B\u672C\u547D\u4EE4\u7684 <code>no</code> \u64CD\u4F5C\u5220\u9664\u914D\u7F6E\u7684\u5BFC\u5165\u6587\u4EF6\u3002</li><li>\u53C2\u6570\uFF1A<code>&lt;filename&gt;</code> \u4E3A\u5BFC\u5165\u6587\u4EF6\u7684\u540D\u5B57\uFF0C\u6700\u957F\u4E0D\u8D85\u8FC7 255 \u4E2A\u5B57\u8282\u3002</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCP \u5730\u5740\u6C60\u6A21\u5F0F\u3002</li><li>\u7F3A\u7701\u60C5\u51B5\uFF1A\u4EA4\u6362\u673A\u7F3A\u7701\u6CA1\u6709\u914D\u7F6E DHCP \u5BA2\u6237\u673A\u542F\u52A8\u65F6\u7684\u5BFC\u5165\u6587\u4EF6\u540D\u3002</li><li>\u4F7F\u7528\u6307\u5357\uFF1A \u4E3A\u5BA2\u6237\u673A\u6307\u5B9A\u5BFC\u5165\u6587\u4EF6\u540D\u3002\u4E00\u822C\u7528\u5728\u65E0\u76D8\u5DE5\u4F5C\u7AD9\uFF0C\u7CFB\u7EDF\u542F\u52A8\u65F6\u9700\u8981\u4ECE\u670D\u52A1\u5668\u4E0A\u4E0B\u8F7D\u914D\u7F6E\u6587\u4EF6\uFF0C\u4E0E <code>next-server</code> \u7ED3\u5408\u4F7F\u7528\u3002</li><li>\u4E3E\u4F8B\uFF1A\u5BFC\u5165\u6587\u4EF6\u5730\u5740\u53CA\u6587\u4EF6\u540D\u4E3A <code>C:\\temp\\nos.img</code>\u3002<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-1-config)#bootfile c:\\temp\\nos.img
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li>\u76F8\u5173\u547D\u4EE4\uFF1A<code>next-server</code></li></ul><h3 id="clear-ip-dhcp-binding" tabindex="-1"><a class="header-anchor" href="#clear-ip-dhcp-binding" aria-hidden="true">#</a> <code>clear ip dhcp binding</code></h3><ul><li>\u547D\u4EE4\uFF1A<code>clear ip dhcp binding {&lt;address&gt; | all }</code></li><li>\u529F\u80FD\uFF1A\u5220\u9664\u67D0\u6307\u5B9A\u7684 IP \u5730\u5740\u4E0E\u5176\u786C\u4EF6\u5730\u5740\u7684\u7ED1\u5B9A\u8BB0\u5F55\u6216\u6240\u6709 IP \u5730\u5740\u4E0E\u76F8\u5E94\u7684\u786C\u4EF6\u5730\u5740\u7684\u7ED1\u5B9A\u8BB0\u5F55\u3002</li><li>\u53C2\u6570\uFF1A <ul><li><code>&lt;address&gt;</code> \u4E3A\u6307\u5B9A\u7684\u6709\u7ED1\u5B9A\u8BB0\u5F55\u7684 IP \u5730\u5740\uFF0C\u70B9\u5206\u5341\u8FDB\u5236\u683C\u5F0F\uFF1B</li><li><code>all</code> \u901A\u6307\u4E3A\u6709\u7ED1\u5B9A\u8BB0\u5F55\u7684\u6240\u6709\u7684 IP \u5730\u5740\u3002</li></ul></li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F\u3002</li><li>\u4F7F\u7528\u6307\u5357\uFF1A \u901A\u8FC7 <code>show ip dhcp binding</code> \u547D\u4EE4\u53EF\u4EE5\u67E5\u770B IP \u5730\u5740\u4E0E\u76F8\u5E94\u7684 DHCP \u5BA2\u6237\u673A\u786C\u4EF6\u5730\u5740\u7684\u7ED1\u5B9A\u4FE1\u606F\uFF0C\u5F53 DHCP \u670D\u52A1\u5668\u5F97\u77E5\u67D0 DHCP \u5BA2\u6237\u673A\u56E0\u4E3A\u7279\u6B8A\u539F\u56E0\u6CA1\u6709\u4F7F\u7528\u5206\u914D\u7684 IP \u5730\u5740\u4F46\u89C4\u5B9A\u7684\u79DF\u671F\u672A\u5230\uFF0CDHCP \u670D\u52A1\u5668\u4E0D\u4F1A\u81EA\u52A8\u89E3\u9664\u8BE5\u7ED1\u5B9A\u4FE1\u606F\uFF0C\u6B64\u65F6\u7CFB\u7EDF\u7BA1\u7406\u5458\u53EF\u4EE5\u4F7F\u7528\u672C\u547D\u4EE4\u624B\u5DE5\u5220\u9664\u8BE5 IP \u5730\u5740\u4E0E\u5BA2\u6237\u673A\u786C\u4EF6\u5730\u5740\u7684\u81EA\u52A8\u7ED1\u5B9A\uFF1B \u5982\u679C\u4F7F\u7528 <code>all</code>\uFF0C\u5C06\u5220\u9664\u6240\u6709\u81EA\u52A8\u7ED1\u5B9A\u8BB0\u5F55\uFF0C\u8FD9\u6837 DHCP \u5730\u5740\u6C60\u4E2D\u7684\u6240\u6709\u5730\u5740\u5C06\u88AB\u91CD\u65B0\u5206\u914D\u3002</li><li>\u4E3E\u4F8B\uFF1A\u5220\u9664\u6240\u6709 IP \u5730\u5740\u4E0E\u786C\u4EF6\u5730\u5740\u7684\u7ED1\u5B9A\u8BB0\u5F55\u3002<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#clear ip dhcp binding all
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li>\u76F8\u5173\u547D\u4EE4\uFF1A<code>show ip dhcp binding</code></li></ul><h3 id="clear-ip-dhcp-conflict" tabindex="-1"><a class="header-anchor" href="#clear-ip-dhcp-conflict" aria-hidden="true">#</a> <code>clear ip dhcp conflict</code></h3><ul><li>\u547D\u4EE4\uFF1A<code>clear ip dhcp conflict {&lt;address&gt; | all }</code></li><li>\u529F\u80FD\uFF1A\u5220\u9664\u5728\u5730\u5740\u51B2\u7A81\u65E5\u5FD7\u4E2D\u6709\u51B2\u7A81\u8BB0\u5F55\u7684\u5730\u5740\u3002</li><li>\u53C2\u6570\uFF1A<code>&lt;address&gt;</code> \u4E3A\u67D0\u6307\u5B9A\u7684\u6709\u51B2\u7A81\u8BB0\u5F55\u7684\u5730\u5740\uFF1B<code>all</code> \u901A\u6307\u4E3A\u6709\u51B2\u7A81\u8BB0\u5F55\u7684\u6240\u6709\u5730\u5740\u3002</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F\u3002</li><li>\u4F7F\u7528\u6307\u5357\uFF1A \u901A\u8FC7 <code>show ip dhcp conflict</code> \u547D\u4EE4\u53EF\u4EE5\u67E5\u770B\u54EA\u4E9B IP \u5730\u5740\u5728\u4F7F\u7528\u4E0A\u6709\u51B2\u7A81\uFF0C\u4F7F\u7528\u672C\u547D\u4EE4\u53EF\u4EE5\u5220\u9664\u67D0\u4E00\u5730\u5740\u7684\u51B2\u7A81\u8BB0\u5F55\uFF0C\u5982\u679C\u4F7F\u7528 <code>all</code> \u5219\u662F\u5220\u9664\u65E5\u5FD7\u4E2D\u6240\u6709\u7684\u5730\u5740\u7684\u51B2\u7A81\u8BB0\u5F55\u3002 \u5728\u65E5\u5FD7\u4E2D\u5220\u9664\u51B2\u7A81\u8BB0\u5F55\u540E\uFF0C\u8FD9\u4E9B\u5730\u5740\u53EF\u88AB DHCP \u670D\u52A1\u5668\u91CD\u65B0\u4F7F\u7528\u3002</li><li>\u4E3E\u4F8B\uFF1A\u7F51\u7EDC\u7BA1\u7406\u5458\u67E5\u770B\u51B2\u7A81\u65E5\u5FD7\u6587\u4EF6\uFF0C\u53D1\u73B0\u6587\u4EF6\u4E2D\u6709\u51B2\u7A81\u8BB0\u5F55\u7684 <code>10.1.128.160</code> \u5730\u5740\u73B0\u5DF2\u65E0\u4EBA\u4F7F\u7528\uFF0C\u5C06\u8BE5\u5730\u5740\u7684\u8BB0\u5F55\u4ECE\u5730\u5740\u51B2\u7A81\u6587\u4EF6\u4E2D\u5220\u9664\u3002<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#clear ip dhcp conflict 10.1.128.160
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li>\u76F8\u5173\u547D\u4EE4\uFF1A <ul><li><code>ip dhcp conflict logging</code></li><li><code>show ip dhcp conflict</code></li></ul></li></ul><h3 id="clear-ip-dhcp-server-statistics" tabindex="-1"><a class="header-anchor" href="#clear-ip-dhcp-server-statistics" aria-hidden="true">#</a> <code>clear ip dhcp server statistics</code></h3><ul><li>\u547D\u4EE4\uFF1A<code>clear ip dhcp server statistics</code></li><li>\u529F\u80FD\uFF1A\u5220\u9664 DHCP \u670D\u52A1\u5668\u7684\u7EDF\u8BA1\u8BB0\u5F55\uFF0C\u5C06 DHCP \u670D\u52A1\u5668\u7684\u8BA1\u6570\u5668\u6E05\u96F6\u3002</li><li>\u53C2\u6570\uFF1A\u65E0\u3002</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F\u3002</li><li>\u4F7F\u7528\u6307\u5357\uFF1A \u901A\u8FC7 <code>show ip dhcp server statistics</code> \u547D\u4EE4\u53EF\u4EE5\u67E5\u770B DHCP \u670D\u52A1\u5668\u7684\u8BA1\u6570\u5668\u7684\u7EDF\u8BA1\u4FE1\u606F\uFF0C\u6240\u6709\u7684\u7EDF\u8BA1\u4FE1\u606F\u90FD\u662F\u4E00\u4E2A\u7D2F\u8BA1\u503C\uFF0C\u4F7F\u7528\u672C\u547D\u4EE4\u53EF\u4EE5\u5C06\u8BA1\u6570\u5668\u6E05\u96F6\uFF0C\u65B9\u4FBF\u7EDF\u8BA1\u4FE1\u606F\u7684\u67E5\u770B\u3002</li><li>\u4E3E\u4F8B\uFF1A\u5C06 DHCP \u670D\u52A1\u5668\u7684\u8BA1\u6570\u5668\u6E05\u96F6\u3002<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#clear ip dhcp server statistics
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li>\u76F8\u5173\u547D\u4EE4\uFF1A<code>show ip dhcp server statistics</code></li></ul><h3 id="client-identifier" tabindex="-1"><a class="header-anchor" href="#client-identifier" aria-hidden="true">#</a> <code>client-identifier</code></h3><ul><li>\u547D\u4EE4\uFF1A <ul><li><code>client-identifier &lt;unique-identifier&gt;</code></li><li><code>no client-identifier</code></li></ul></li><li>\u529F\u80FD\uFF1A\u5728\u624B\u5DE5\u7ED1\u5B9A\u5730\u5740\u65F6\uFF0C\u6307\u5B9A\u7528\u6237\u7684\u552F\u4E00\u6807\u8BC6\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u7528\u6237\u6807\u8BC6\u3002</li><li>\u53C2\u6570\uFF1A<code>&lt;unique-identifier&gt;</code> \u4E3A\u7528\u6237\u7684\u6807\u8BC6\uFF0C\u683C\u5F0F\u4E3A\u8FDE\u5B57\u7B26\u5341\u516D\u8FDB\u5236 <code>(xx-xx-xx-xx-xx-xx)</code>\u3002</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCP \u5730\u5740\u6C60\u6A21\u5F0F\u3002</li><li>\u4F7F\u7528\u6307\u5357\uFF1A \u672C\u547D\u4EE4\u5728\u624B\u5DE5\u7ED1\u5B9A\u5730\u5740\u65F6\u7ED3\u5408\u547D\u4EE4host\u4E00\u8D77\u4F7F\u7528\u3002 \u5F53\u53D1\u51FA\u8BF7\u6C42\u7684\u5BA2\u6237\u673A\u7684\u6807\u8BC6\u6070\u597D\u548C\u6307\u5B9A\u7684\u6807\u8BC6\u76F8\u543B\u5408\uFF0CDHCP \u670D\u52A1\u5668\u5C31\u5C06 host \u547D\u4EE4\u4E2D\u5B9A\u4E49\u7684 IP \u5730\u5740\u5206\u914D\u7ED9\u5BA2\u6237\u673A\u3002</li><li>\u4E3E\u4F8B\uFF1A\u624B\u5DE5\u7ED1\u5B9A\u65F6\uFF0C\u5C06 IP \u5730\u5740 <code>10.1.128.160</code> \u4E0E\u7528\u6237\u552F\u4E00\u6807\u8BC6\u4E3A <code>00-10-5a-60-af-12</code> \u7684\u7528\u6237\u7ED1\u5B9A\u3002<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-1-config)#client-identifier 00-10-5a-60-af-12
Switch(dhcp-1-config)#host 10.1.128.160 24
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li>\u76F8\u5173\u547D\u4EE4\uFF1A<code>host</code></li></ul><h3 id="debug-ip-dhcp-client" tabindex="-1"><a class="header-anchor" href="#debug-ip-dhcp-client" aria-hidden="true">#</a> <code>debug ip dhcp client</code></h3><ul><li>\u547D\u4EE4\uFF1A <ul><li><code>debug ip dhcp client {event | packet}</code></li><li><code>no debug ip dhcp server {event | packet}</code></li></ul></li><li>\u529F\u80FD\uFF1A\u6253\u5F00 DHCP \u5BA2\u6237\u7AEF\u7684\u8C03\u8BD5\u4FE1\u606F\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5173\u95ED DHCP \u5BA2\u6237\u7AEF\u7684\u8C03\u8BD5\u4FE1\u606F\u3002</li><li>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u8C03\u8BD5\u5F00\u5173\u662F\u5173\u95ED\u7684\u3002</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F\u3002</li></ul><h3 id="debug-ip-dhcp-relay" tabindex="-1"><a class="header-anchor" href="#debug-ip-dhcp-relay" aria-hidden="true">#</a> <code>debug ip dhcp relay</code></h3><ul><li>\u547D\u4EE4\uFF1A <ul><li><code>debug ip dhcp server packet</code></li><li><code>no debug ip dhcp server packet</code></li></ul></li><li>\u529F\u80FD\uFF1A\u6253\u5F00 DHCP \u4E2D\u7EE7\u7684\u8C03\u8BD5\u4FE1\u606F\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5173\u95ED DHCP \u4E2D\u7EE7\u7684\u8C03\u8BD5\u4FE1\u606F\u3002</li><li>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u8C03\u8BD5\u5F00\u5173\u662F\u5173\u95ED\u7684\u3002</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F\u3002</li></ul><h3 id="debug-ip-dhcp-server" tabindex="-1"><a class="header-anchor" href="#debug-ip-dhcp-server" aria-hidden="true">#</a> <code>debug ip dhcp server</code></h3><ul><li>\u547D\u4EE4\uFF1A <ul><li><code>debug ip dhcp server { events|linkage|packets }</code></li><li><code>no debug ip dhcp server { events|linkage|packets }</code></li></ul></li><li>\u529F\u80FD\uFF1A\u6253\u5F00 DHCP \u670D\u52A1\u5668\u7684\u8C03\u8BD5\u4FE1\u606F\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5173\u95ED DHCP \u670D\u52A1\u5668\u7684\u8C03\u8BD5\u4FE1\u606F\u3002</li><li>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u8C03\u8BD5\u5F00\u5173\u662F\u5173\u95ED\u7684\u3002</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F\u3002</li></ul><h3 id="default-router" tabindex="-1"><a class="header-anchor" href="#default-router" aria-hidden="true">#</a> <code>default-router</code></h3><ul><li>\u547D\u4EE4\uFF1A <ul><li><code>default-router &lt;address1&gt;[&lt;address2&gt;[\u2026&lt;address8&gt;]]</code></li><li><code>no default-router</code></li></ul></li><li>\u529F\u80FD\uFF1A\u4E3A DHCP \u5BA2\u6237\u673A\u914D\u7F6E\u7F3A\u7701\u7F51\u5173\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u7F3A\u7701\u7F51\u5173\u3002</li><li>\u53C2\u6570\uFF1A<code>address1\u2026address8</code> \u4E3A IP \u5730\u5740\uFF0C\u5747\u4E3A\u70B9\u5206\u5341\u8FDB\u5236\u683C\u5F0F\u3002</li><li>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u6CA1\u6709\u7ED9 DHCP \u5BA2\u6237\u673A\u914D\u7F6E\u7F3A\u7701\u7F51\u5173\u3002</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCP \u5730\u5740\u6C60\u6A21\u5F0F\u3002</li><li>\u4F7F\u7528\u6307\u5357\uFF1A\u7F3A\u7701\u7F51\u5173\u7684 IP \u5730\u5740\u5E94\u4E0E DHCP \u5BA2\u6237\u673A\u7684 IP \u5730\u5740\u5728\u4E00\u4E2A\u5B50\u7F51\u7F51\u6BB5\u5185\uFF0C\u4EA4\u6362\u673A\u6700\u591A\u53EF\u652F\u6301 8 \u4E2A\u7F51\u5173\u5730\u5740\uFF0C\u6700\u5148\u8BBE\u7F6E\u7684\u7F51\u5173\u5730\u5740\u4F18\u5148\u7EA7\u6700\u9AD8\uFF0C\u56E0\u6B64 <code>address1</code> \u4F18\u5148\u7EA7\u6700\u9AD8\uFF0C\u4F9D\u6B21 <code>address2</code>\u3001<code>address3</code>\u2026\u2026\u3002</li><li>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCP \u5BA2\u6237\u673A\u7684\u7F3A\u7701\u7F51\u5173\u4E3A <code>10.1.128.2</code> \u548C <code>10.1.128.100</code>\u3002<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-1-config)#default-router 10.1.128.2 10.1.128.100
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="dns-server" tabindex="-1"><a class="header-anchor" href="#dns-server" aria-hidden="true">#</a> <code>dns-server</code></h3><ul><li>\u547D\u4EE4\uFF1A <ul><li><code>dns-server &lt;address1&gt;[&lt;address2&gt;[\u2026&lt;address8&gt;]]</code></li><li><code>no dns-server</code></li></ul></li><li>\u529F\u80FD\uFF1A\u4E3A DHCP \u5BA2\u6237\u673A\u914D\u7F6E DNS \u670D\u52A1\u5668\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664 DNS \u670D\u52A1\u5668\u3002</li><li>\u53C2\u6570\uFF1A<code>address1\u2026address8</code> \u4E3A IP \u5730\u5740\uFF0C\u5747\u4E3A\u70B9\u5206\u5341\u8FDB\u5236\u683C\u5F0F\u3002</li><li>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u6CA1\u6709\u7ED9 DHCP \u5BA2\u6237\u673A\u914D\u7F6E DNS \u670D\u52A1\u5668\u3002</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCP \u5730\u5740\u6C60\u6A21\u5F0F\u3002</li><li>\u4F7F\u7528\u6307\u5357\uFF1A\u7CFB\u7EDF\u6700\u591A\u53EF\u652F\u6301\u914D\u7F6E 8 \u4E2A DNS \u670D\u52A1\u5668\u5730\u5740\uFF0C\u6700\u5148\u8BBE\u7F6E\u7684 DNS \u670D\u52A1\u5668\u7684\u5730\u5740\u4F18\u5148\u7EA7\u6700\u9AD8\uFF0C\u56E0\u6B64 <code>address1</code> \u4F18\u5148\u7EA7\u6700\u9AD8\uFF0C\u4F9D\u6B21 <code>address2</code>\u3001<code>address3</code>\u2026\u2026\u3002</li><li>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCP \u5BA2\u6237\u673A\u7684 DNS \u670D\u52A1\u5668\u7684\u5730\u5740\u4E3A <code>10.1.128.3</code>\u3002<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-1-config)#dns-server 10.1.128.3
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="domain-name" tabindex="-1"><a class="header-anchor" href="#domain-name" aria-hidden="true">#</a> <code>domain-name</code></h3><ul><li>\u547D\u4EE4\uFF1A <ul><li><code>domain-name &lt;domain&gt;</code></li><li><code>no domain-name</code></li></ul></li><li>\u529F\u80FD\uFF1A\u4E3A DHCP \u5BA2\u6237\u673A\u914D\u7F6E\u57DF\u540D\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u57DF\u540D\u3002</li><li>\u53C2\u6570\uFF1A<code>&lt;domain&gt;</code> \u4E3A\u57DF\u7684\u540D\u79F0\uFF0C\u6700\u957F\u4E0D\u8D85\u8FC7 255 \u4E2A\u5B57\u7B26\u3002</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCP \u5730\u5740\u6C60\u6A21\u5F0F\u3002</li><li>\u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0\u3002</li><li>\u4F7F\u7528\u6307\u5357\uFF1A\u4E3A\u5BA2\u6237\u673A\u6307\u5B9A\u57DF\u540D\u3002</li><li>\u4E3E\u4F8B\uFF1A\u6307\u5B9A DHCP \u5BA2\u6237\u673A\u7684\u57DF\u540D\u4E3A <code>digitalchina.com.cn</code>\u3002<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-1-config)#domain-name digitalchina.com.cn
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="hardware-address" tabindex="-1"><a class="header-anchor" href="#hardware-address" aria-hidden="true">#</a> <code>hardware-address</code></h3><ul><li>\u547D\u4EE4\uFF1A <ul><li><code>hardware-address &lt;hardware-address&gt; [{Ethernet | IEEE802|&lt;type-number&gt;}]</code></li><li><code>no hardware-address</code></li></ul></li><li>\u529F\u80FD\uFF1A\u5728\u624B\u5DE5\u5206\u914D\u5730\u5740\u65F6\uFF0C\u6307\u5B9A\u7528\u6237\u7684\u786C\u4EF6\u5730\u5740\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u8BE5\u9879\u914D\u7F6E\u3002</li><li>\u53C2\u6570\uFF1A<code>&lt;hardware-address&gt;</code> \u4E3A\u786C\u4EF6\u5730\u5740\uFF0C\u5341\u516D\u8FDB\u503C\u8868\u793A\u7684\u6570\u503C\uFF1B<code>Ethernet | IEEE802</code> \u4E3A\u4EE5\u592A\u7F51\u534F\u8BAE\u7C7B\u578B\uFF0C<code>&lt;type-number&gt;</code> \u4E3A RFC \u5B9A\u4E49\u7684\u534F\u8BAE\u7C7B\u578B\u7684\u6570\u5B57\u8868\u793A\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A 1~255\uFF0C\u5982\u53C2\u6570 Ethernet \u7684\u6570\u5B57\u8868\u793A\u4E3A 1\uFF0CIEEE802 \u7684\u6570\u5B57\u8868\u793A\u5F62\u5F0F\u4E3A 6\u3002</li><li>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u4E3A\u534F\u8BAE\u7C7B\u578B\u4E3A Ethernet \u534F\u8BAE\u3002</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCP \u5730\u5740\u6C60\u6A21\u5F0F\u3002</li><li>\u4F7F\u7528\u6307\u5357\uFF1A \u672C\u547D\u4EE4\u5728\u624B\u5DE5\u7ED1\u5B9A\u5730\u5740\u65F6\u7ED3\u5408\u547D\u4EE4host\u4E00\u8D77\u4F7F\u7528\u3002 \u5F53\u53D1\u51FA\u8BF7\u6C42\u7684\u5BA2\u6237\u673A\u7684\u786C\u4EF6\u5730\u5740\u6070\u597D\u548C\u6307\u5B9A\u7684\u786C\u4EF6\u5730\u5740\u76F8\u543B\u5408\uFF0CDHCP \u670D\u52A1\u5668\u5C31\u5C06 host \u547D\u4EE4\u4E2D\u5B9A\u4E49\u7684 IP \u5730\u5740\u5206\u914D\u7ED9\u5BA2\u6237\u673A\u3002</li><li>\u4E3E\u4F8B\uFF1A\u624B\u5DE5\u7ED1\u5B9A\u65F6\uFF0C\u5C06 IP \u5730\u5740 <code>10.1.128.160</code> \u4E0E\u786C\u4EF6\u5730\u5740\u4E3A <code>00-00-e2-3a-26-04</code> \u7684\u7528\u6237\u7ED1\u5B9A\u3002<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-1-config)#hardware-address 00-00-e2-3a-26-04
Switch(dhcp-1-config)#host 10.1.128.160 24
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li>\u76F8\u5173\u547D\u4EE4\uFF1A<code>host</code></li></ul><h3 id="host" tabindex="-1"><a class="header-anchor" href="#host" aria-hidden="true">#</a> <code>host</code></h3><ul><li>\u547D\u4EE4\uFF1A <ul><li><code>host &lt;address&gt; [&lt;mask&gt; | &lt;prefix-length&gt; ]</code></li><li><code>no host</code></li></ul></li><li>\u529F\u80FD\uFF1A\u5728\u624B\u5DE5\u7ED1\u5B9A\u5730\u5740\u65F6\uFF0C\u5206\u914D\u7ED9\u6307\u5B9A\u5BA2\u6237\u673A\u7684\u7528\u6237\u7684 IP \u5730\u5740\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664 IP \u5730\u5740\u3002</li><li>\u53C2\u6570\uFF1A <ul><li><code>&lt;address&gt;</code> \u4E3A IP\u5730\u5740\uFF0C\u70B9\u5206\u5341\u8FDB\u5236\u683C\u5F0F\uFF1B</li><li><code>&lt;mask&gt;</code> \u4E3A\u63A9\u7801\uFF0C\u70B9\u5206\u5341\u8FDB\u5236\u683C\u5F0F\uFF1B</li><li><code>&lt;prefix-length&gt;</code> \u4E3A\u7528\u524D\u7F00\u8868\u793A\u6CD5\uFF0C\u5982\u63A9\u7801\u4E3A <code>255.255.255.0</code> \u7528\u524D\u7F00\u6CD5\u8868\u793A\u4E3A\u201C24\u201D\uFF0C\u63A9\u7801\u4E3A <code>255.255.255.252</code> \u7528\u524D\u7F00\u6CD5\u8868\u793A\u4E3A\u201C30\u201D\u3002</li></ul></li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCP \u5730\u5740\u6C60\u6A21\u5F0F\u3002</li><li>\u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0\u3002</li><li>\u4F7F\u7528\u6307\u5357\uFF1A \u5982\u679C\u5728\u914D\u7F6E IP \u5730\u5740\u65F6\uFF0C\u4EC5\u914D\u7F6E\u4E86 IP \u5730\u5740\uFF0C\u6CA1\u6709\u914D\u7F6E\u63A9\u7801\u548C\u524D\u7F00\uFF0C\u5E76\u4E14\u5728 IP \u5730\u5740\u6C60\u4E2D\u4E5F\u6CA1\u6709\u4EFB\u4F55\u6709\u5173\u63A9\u7801\u7684\u4FE1\u606F\uFF0C\u7F3A\u7701\u7CFB\u7EDF\u4F1A\u6309\u6709\u7C7B\u5730\u5740\u81EA\u52A8\u5206\u914D\u63A9\u7801\u3002 \u672C\u547D\u4EE4\u5728\u624B\u5DE5\u7ED1\u5B9A\u5730\u5740\u65F6\u7ED3\u5408 <code>hardware-address</code> \u547D\u4EE4\u6216\u8005 <code>client-identifier</code> \u547D\u4EE4\u4E00\u8D77\u4F7F\u7528\u3002 \u5F53\u53D1\u51FA\u8BF7\u6C42\u7684\u5BA2\u6237\u673A\u7684\u6807\u8BC6\u6216\u786C\u4EF6\u5730\u5740\u6070\u597D\u548C\u6307\u5B9A\u7684\u6807\u8BC6\u6216\u786C\u4EF6\u5730\u5740\u76F8\u543B\u5408\uFF0CDHCP \u670D\u52A1\u5668\u5C31\u5C06 host \u547D\u4EE4\u4E2D\u5B9A\u4E49\u7684 IP \u5730\u5740\u5206\u914D\u7ED9\u5BA2\u6237\u673A\u3002</li><li>\u4E3E\u4F8B\uFF1A\u624B\u5DE5\u7ED1\u5B9A\u65F6\uFF0C\u5C06 IP \u5730\u5740 <code>10.1.128.160</code> \u4E0E\u786C\u4EF6\u5730\u5740\u4E3A <code>00-10-5a-60-af-12</code> \u7684\u7528\u6237\u7ED1\u5B9A\u3002<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-1-config)#hardware-address 00-10-5a-60-af-12
Switch(dhcp-1-config)#host 10.1.128.160 24
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li>\u76F8\u5173\u547D\u4EE4\uFF1A <ul><li><code>hardware-address</code></li><li><code>client-identifier</code></li></ul></li></ul><h3 id="_1-1-14-ip-dhcp-conflict-logging" tabindex="-1"><a class="header-anchor" href="#_1-1-14-ip-dhcp-conflict-logging" aria-hidden="true">#</a> 1.1.14 ip dhcp conflict logging</h3><p>\u547D\u4EE4\uFF1A<code>ip dhcp conflict logging no ip dhcp conflict logging</code></p><ul><li><p>\u529F\u80FD\uFF1A\u6253\u5F00 DHCP \u670D\u52A1\u5668\u68C0\u6D4B\u5730\u5740\u51B2\u7A81\u7684\u65E5\u5FD7\u529F\u80FD\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5173\u95ED\u8BE5\u65E5\u5FD7\u529F\u80FD\u3002</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u60C5\u51B5\u4E0B\uFF0C\u8BB0\u5F55\u5730\u5740\u51B2\u7A81\u7684\u65E5\u5FD7\u529F\u80FD\u662F\u6253\u5F00\u7684\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u5F53\u65E5\u5FD7\u529F\u80FD\u662F\u6253\u5F00\u7684\uFF0C\u4E00\u65E6 DHCP \u670D\u52A1\u5668\u68C0\u6D4B\u5230\u6709\u5730\u5740\u51B2\u7A81\u65F6\uFF0C\u5C31\u4F1A\u5C06\u8BE5\u51B2\u7A81</p></li><li><p>\u5730\u5740\u8BB0\u5F55\u5230\u65E5\u5FD7\u4E2D\u3002\u5BF9\u4E8E\u5728\u65E5\u5FD7\u4E2D\u51FA\u73B0\u7684\u6709\u51B2\u7A81\u8BB0\u5F55\u7684\u5730\u5740\uFF0CDHCP \u670D\u52A1\u5668\u5C06\u4E0D\u518D\u5BF9\u5176\u8FDB\u884C</p></li><li><p>\u52A8\u6001\u5206\u914D\uFF0C\u76F4\u5230\u628A\u8FD9\u4E9B\u51B2\u7A81\u8BB0\u5F55\u5220\u9664\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5173\u95ED DHCP \u670D\u52A1\u5668\u7684\u65E5\u5FD7\u529F\u80FD\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#no ip dhcp conflict logging 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u76F8\u5173\u547D\u4EE4\uFF1A<code>clear ip dhcp conflict</code></p></li></ul><h3 id="_1-1-15-ip-dhcp-disable" tabindex="-1"><a class="header-anchor" href="#_1-1-15-ip-dhcp-disable" aria-hidden="true">#</a> 1.1.15 ip dhcp disable</h3><p>S5750E\u4EA4\u6362\u673A\u4E0D\u652F\u6301\u8BE5\u547D\u4EE4\u3002</p><h3 id="_1-1-16-ip-dhcp-excluded-address" tabindex="-1"><a class="header-anchor" href="#_1-1-16-ip-dhcp-excluded-address" aria-hidden="true">#</a> 1.1.16 ip dhcp excluded-address</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp excluded-address &lt;low-address&gt; [&lt;high-address&gt;] no ip dhcp excluded-address &lt;low-address&gt; [&lt;high-address&gt;]</code></p></li><li><p>\u529F\u80FD\uFF1A\u6392\u9664\u5730\u5740\u6C60\u4E2D\u7684\u4E0D\u7528\u4E8E\u52A8\u6001\u5206\u914D\u7684\u5730\u5740\uFF1B\u672C\u547D\u4EE4\u7684no\u64CD\u4F5C\u4E3A\u53D6\u6D88\u8BE5\u9879\u914D\u7F6E\u3002</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;low-address&gt;</code> \u4E3A\u8D77\u59CB\u7684IP\u5730\u5740\uFF1B<code>[&lt;high-address&gt;]</code>\u4E3A\u7ED3\u675F\u7684IP\u5730\u5740\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u4E3A\u4EC5\u6392\u9664\u5355\u4E2A\u5730\u5740\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u4F7F\u7528\u672C\u547D\u4EE4\u53EF\u4EE5\u5C06\u5730\u5740\u6C60\u4E2D\u7684\u4E00\u4E2A\u5730\u5740\u6216\u8FDE\u7EED\u7684\u51E0\u4E2A\u5730\u5740\u6392\u9664\uFF0C\u8FD9\u4E9B\u5730\u5740\u7531\u7CFB\u7EDF</p></li><li><p>\u7BA1\u7406\u5458\u7559\u4F5C\u5176\u5B83\u7528\u9014\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5C0610.1.128.1\u523010.1.128.10\u4E4B\u95F4\u7684\u5730\u5740\u4FDD\u7559\uFF0C\u4E0D\u7528\u4E8E\u52A8\u6001\u5206\u914D\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ip dhcp excluded-address 10.1.128.1 10.1.128.10
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_1-1-17-ip-dhcp-pool" tabindex="-1"><a class="header-anchor" href="#_1-1-17-ip-dhcp-pool" aria-hidden="true">#</a> 1.1.17 ip dhcp pool</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp pool &lt;name&gt; no ip dhcp pool &lt;name&gt;</code></p></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E DHCP \u5730\u5740\u6C60\uFF0C\u8FDB\u5165 dhcp \u5730\u5740\u6C60\u6A21\u5F0F\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u8BE5\u5730\u5740\u6C60\u3002</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;name&gt;</code> \u4E3A\u5730\u5740\u6C60\u540D\uFF0C\u6700\u957F\u4E0D\u8D85\u8FC732\u4E2A\u5B57\u7B26\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u5728\u5168\u5C40\u6A21\u5F0F\u4E0B\u5B9A\u4E49\u4E00\u4E2A DHCP \u5730\u5740\u6C60\uFF0C\u8FDB\u5165\u5230 DHCP \u5730\u5740\u6C60\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5B9A\u4E49\u4E00\u4E2A\u5730\u5740\u6C60\uFF0C\u53D6\u540D1\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ip dhcp pool 1 
Switch(dhcp-1-config)# 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h3 id="_1-1-18-ip-dhcp-conflict-ping-detection-enable" tabindex="-1"><a class="header-anchor" href="#_1-1-18-ip-dhcp-conflict-ping-detection-enable" aria-hidden="true">#</a> 1.1.18 ip dhcp conflict ping-detection enable</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp conflict ping-detection enable no ip dhcp conflict ping-detection enable</code></p></li><li><p>\u529F\u80FD\uFF1A\u6253\u5F00 DHCP \u670D\u52A1\u5668 Ping \u65B9\u5F0F\u68C0\u6D4B\u5730\u5740\u51B2\u7A81\u7684\u529F\u80FD\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5173\u95ED\u8BE5\u68C0\u6D4B\u529F\u80FD\u3002</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u60C5\u51B5\u4E0B\uFF0CPing \u65B9\u5F0F\u68C0\u6D4B\u5730\u5740\u51B2\u7A81\u7684\u529F\u80FD\u662F\u5173\u95ED\u7684\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u6253\u5F00 Ping \u65B9\u5F0F\u5730\u5740\u51B2\u7A81\u68C0\u6D4B\u529F\u80FD\u524D\u9700\u6253\u5F00\u8BB0\u5F55\u5730\u5740\u51B2\u7A81\u7684\u65E5\u5FD7\u529F\u80FD\uFF1B\u5F53\u5173\u95ED\u8BE5 \u65E5\u5FD7\u529F\u80FD\u65F6\uFF0CPing \u65B9\u5F0F\u5730\u5740\u51B2\u7A81\u68C0\u6D4B\u529F\u80FD\u540C\u65F6\u88AB\u5173\u95ED\u3002\u5F53\u5BA2\u6237\u7AEF\u65E0\u6CD5\u63A5\u6536 Ping \u8BF7\u6C42\u62A5\u6587\u65F6 \uFF08\u6BD4\u5982\u9632\u706B\u5899\u5C4F\u853D\u4E86 Ping \u8BF7\u6C42\u62A5\u6587\uFF09\uFF0C\u672C\u529F\u80FD\u6839\u636E\u5206\u914D IP \u5BF9\u672C\u5730 ARP \u8FDB\u884C\u68C0\u67E5\uFF1A\u82E5\u9009\u62E9\u7684 IP\u5B58\u5728\u5BF9\u5E94\u7684 ARP \uFF0C\u5219\u5224\u5B9A\u4E3A\u5730\u5740\u51B2\u7A81\uFF1B\u53CD\u4E4B\uFF0C\u5219\u5206\u914D\u8BE5 IP \u7ED9\u5BA2\u6237\u7AEF\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u6253\u5F00Ping\u65B9\u5F0F\u68C0\u6D4B\u5730\u5740\u51B2\u7A81\u7684\u529F\u80FD\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ip dhcp conflict ping-detection enable
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u76F8\u5173\u547D\u4EE4\uFF1A<code>ip dhcp conflict logging, ip dhcp ping packets, ip dhcp ping timeout</code></p></li></ul><h3 id="_1-1-19-ip-dhcp-ping-packets" tabindex="-1"><a class="header-anchor" href="#_1-1-19-ip-dhcp-ping-packets" aria-hidden="true">#</a> 1.1.19 ip dhcp ping packets</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp ping packets &lt;request-num&gt; no ip dhcp ping packets</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BBE\u7F6E DHCP \u670D\u52A1\u5668 Ping \u65B9\u5F0F\u68C0\u6D4B\u5730\u5740\u51B2\u7A81\u65F6\uFF0C\u5C1D\u8BD5\u53D1\u9001 Ping \u8BF7\u6C42\u62A5\u6587\uFF08Echo Request\uFF09</p></li><li><pre><code>   \u7684\u6700\u5927\u4E2A\u6570\uFF0C\u9ED8\u8BA4\u4E3A2\u4E2A\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u6062\u590D\u9ED8\u8BA4\u53D1\u9001 Ping \u8BF7\u6C42\u62A5\u6587\u7684\u4E2A\u6570\u3002
</code></pre></li><li><p>\u53C2\u6570\uFF1A<code>&lt;request-num&gt;</code> \u662FPing\u65B9\u5F0F\u68C0\u6D4B\u5730\u5740\u51B2\u7A81\u65F6\u5C1D\u8BD5\u53D1\u9001\u7684 Ping \u8BF7\u6C42\u62A5\u6587\u4E2A\u6570\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u60C5\u51B5\u4E0B\uFF0C\u6700\u591A\u53D1\u90012\u4E2A Ping \u8BF7\u6C42\u62A5\u6587\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCP \u670D\u52A1\u5668 Ping \u65B9\u5F0F\u68C0\u6D4B\u5730\u5740\u51B2\u7A81\u65F6\u53D1\u9001 Ping \u8BF7\u6C42\u62A5\u6587\u6700\u5927\u4E2A\u6570\u4E3A3\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ip dhcp ping packets 3 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u76F8\u5173\u547D\u4EE4\uFF1A<code>ip dhcp conflict ping-detection enable, ip dhcp ping timeout</code></p></li></ul><h3 id="_1-1-20-ip-dhcp-ping-timeout" tabindex="-1"><a class="header-anchor" href="#_1-1-20-ip-dhcp-ping-timeout" aria-hidden="true">#</a> 1.1.20 ip dhcp ping timeout</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp ping timeout &lt;timeout-value&gt; no ip dhcp ping timeout</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BBE\u7F6E DHCP \u670D\u52A1\u5668 Ping \u65B9\u5F0F\u68C0\u6D4B\u5730\u5740\u51B2\u7A81\u65F6\uFF0C\u6BCF\u6B21\u53D1\u9001 Ping \u8BF7\u6C42\u62A5\u6587\uFF08Echo Request\uFF09 \u540E\uFF0C\u7B49\u5F85\u56DE\u5E94\u62A5\u6587\uFF08Echo Reply\uFF09\u7684\u8D85\u65F6\u65F6\u957F\uFF08\u5355\u4F4D\u4E3Ams\uFF09\uFF0C\u9ED8\u8BA4\u4E3A500ms\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u6062\u590D\u9ED8\u8BA4\u8D85\u65F6\u65F6\u957F\u3002</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;timeout-value&gt;</code> \u662F Ping \u65B9\u5F0F\u68C0\u6D4B\u5730\u5740\u51B2\u7A81\u65F6\u6BCF\u6B21 Ping \u8BF7\u6C42\u7B49\u5F85\u56DE\u5E94\u7684\u8D85\u65F6\u65F6\u957F\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u60C5\u51B5\u4E0B\uFF0C\u8D85\u65F6\u65F6\u957F\u4E3A500ms\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCP \u670D\u52A1\u5668 Ping \u65B9\u5F0F\u68C0\u6D4B\u5730\u5740\u51B2\u7A81\u65F6\u7B49\u5F85\u6BCF\u4E2A\u56DE\u5E94\u62A5\u6587\u7684\u8D85\u65F6\u65F6\u957F\u4E3A600ms\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)# ip dhcp ping time out 600 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u76F8\u5173\u547D\u4EE4\uFF1A<code>ip dhcp conflict ping-detection enable, ip dhcp ping packets</code></p></li></ul><h3 id="_1-1-21-lease" tabindex="-1"><a class="header-anchor" href="#_1-1-21-lease" aria-hidden="true">#</a> 1.1.21 lease</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>lease { [&lt;days&gt;] [&lt;hours&gt;][&lt;minutes&gt;] | infinite } no lease</code></p></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u5730\u5740\u6C60\u4E2D\u5730\u5740\u7684\u79DF\u7528\u671F\u9650\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u6062\u590D\u7F3A\u7701\u503C\u3002</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;days&gt;</code> \u4E3A\u5929\u6570\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~365\uFF1B<code>&lt;hours&gt;</code>\u4E3A\u5C0F\u65F6\u6570\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~23\uFF1B<code>&lt;minutes&gt;</code> \u4E3A\u5206\u6570\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~59\uFF1Binfinite \u4E3A\u6C38\u4E45\u7684\u4F7F\u7528\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u7684\u79DF\u671F\u8BBE\u7F6E\u4E3A1\u5929\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCP \u5730\u5740\u6C60\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1ADHCP \u662F\u52A8\u6001\u7684\u5206\u914D\u7F51\u7EDC\u914D\u7F6E\u53C2\u6570\uFF0C\u5E76\u975E\u6C38\u4E45\u5206\u914D\uFF0C\u56E0\u6B64\u6709\u79DF\u671F\u7684\u9650\u5236\u3002\u79DF\u671F\u8BBE \u7F6E\u8FC7\u957F\uFF0C\u96BE\u4EE5\u53D1\u6325 DHCP \u7075\u6D3B\u3001\u52A8\u6001\u7684\u4F18\u52BF\uFF1B\u79DF\u671F\u8BBE\u7F6E\u8FC7\u77ED\uFF0C\u6709\u4F1A\u9020\u6210\u7F51\u7EDC\u901A\u4FE1\u91CF\u7684\u589E\u52A0\uFF0C \u52A0\u5927\u7F51\u7EDC\u5F00\u9500\uFF0C\u56E0\u6B64\u79DF\u671F\u7684\u8BBE\u7F6E\u53EF\u7531\u7F51\u7EDC\u7BA1\u7406\u5458\u6839\u636E\u81EA\u8EAB\u7F51\u7EDC\u7684\u7279\u70B9\u8BBE\u5B9A\u3002\u4EA4\u6362\u673A\u7F3A\u7701\u7684\u79DF \u671F\u8BBE\u7F6E\u4E3A1\u5929\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1ADHCP \u5730\u5740\u6C601\u7684\u79DF\u671F\u8BBE\u7F6E\u4E3A3\u592912\u4E2A\u5C0F\u65F630\u5206\u949F\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-1-config)#lease 3 12 30 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_1-1-22-max-lease-time" tabindex="-1"><a class="header-anchor" href="#_1-1-22-max-lease-time" aria-hidden="true">#</a> 1.1.22 max-lease-time</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>max-lease-time {[&lt;days&gt;] [&lt;hours&gt;][&lt;minutes&gt;] | infinite} no max-lease-time</code></p></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u5730\u5740\u6C60\u4E2D\u5730\u5740\u7684\u6700\u5927\u79DF\u7528\u671F\u9650\uFF1B\u672C\u547D\u4EE4\u7684no\u64CD\u4F5C\u4E3A\u6062\u590D\u7F3A\u7701\u503C\u3002</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;days&gt;</code> \u4E3A\u5929\u6570\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~365\uFF1B<code>&lt;hours&gt;</code> \u4E3A\u5C0F\u65F6\u6570\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~23\uFF1B<code>&lt;minutes&gt;</code> \u4E3A\u5206\u6570\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~59\uFF1Binfinite \u4E3A\u6C38\u4E45\u7684\u4F7F\u7528\u3002 \u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u7684\u79DF\u671F\u8BBE\u7F6E\u4E3A1\u5929\u3002 \u547D\u4EE4\u6A21\u5F0F\uFF1ADHCP \u5730\u5740\u6C60\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8BE5\u914D\u7F6E\u547D\u4EE4\u4F7F\u7528\u4E8E\u5E26\u6709 option51 \u9009\u9879\u7684 DHCP \u8BF7\u6C42\u62A5\u6587\u573A\u666F\u4E2D\uFF0C\u5982\u679C\u7528\u6237\u8BF7\u6C42 \u5730\u5740\u79DF\u671F\u7684\u65F6\u95F4\u8D85\u8FC7\u914D\u7F6E\u7684\u6700\u5927\u79DF\u7528\u671F\u9650\uFF0C\u5219 DHCP \u670D\u52A1\u5668\u5206\u914D\u8BE5\u5730\u5740\u7684\u79DF\u671F\u4E3A\u914D\u7F6E\u6700\u5927 \u79DF\u671F\u65F6\u95F4\uFF0C\u5982\u679C\u7528\u6237\u8BF7\u6C42\u5730\u5740\u7684\u79DF\u671F\u65F6\u95F4\u5C0F\u4E8E\u914D\u7F6E\u7684\u6700\u5927\u79DF\u671F\u65F6\u95F4\uFF0C\u5219 DHCP \u670D\u52A1\u5668\u5206\u914D \u8BE5\u5730\u5740\u7684\u79DF\u671F\u4E3A\u7528\u6237\u8BF7\u6C42\u62A5\u6587\u643A\u5E26\u7684\u8BF7\u6C42\u79DF\u7528\u671F\u9650\u3002\u6700\u5927\u79DF\u7528\u671F\u9650\u7684\u8BBE\u7F6E\u53EF\u7531\u7F51\u7EDC\u7BA1\u7406\u5458\u6839 \u636E\u81EA\u8EAB\u7F51\u7EDC\u7684\u7279\u70B9\u8FDB\u884C\u8BBE\u5B9A\u3002\u4EA4\u6362\u673A\u7F3A\u7701\u7684\u6700\u5927\u79DF\u7528\u671F\u9650\u8BBE\u7F6E\u4E3A1\u5929\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1ADHCP\u5730\u5740\u6C601\u7684\u6700\u5927\u79DF\u671F\u8BBE\u7F6E\u4E3A3\u592912\u4E2A\u5C0F\u65F630\u5206\u949F\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-1-config)#max-lease-time 3 12 30
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_1-1-23-netbios-name-server" tabindex="-1"><a class="header-anchor" href="#_1-1-23-netbios-name-server" aria-hidden="true">#</a> 1.1.23 netbios-name-server</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>netbios-name-server &lt;address1&gt;[&lt;address2&gt;[\u2026&lt;address8&gt;]] no netbios-name-server</code></p></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E Wins \u670D\u52A1\u5668\u7684\u5730\u5740\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664 Wins \u670D\u52A1\u5668\u3002</p></li><li><p>\u53C2\u6570\uFF1Aaddress1\u2026address8 \u4E3AIP\u5730\u5740\uFF0C\u5747\u4E3A\u70B9\u5206\u5341\u8FDB\u5236\u683C\u5F0F\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u7F3A\u7701\u6CA1\u6709\u914D\u7F6E Wins \u670D\u52A1\u5668\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCP \u5730\u5740\u6C60\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u4E3A\u5BA2\u6237\u673A\u6307\u5B9A Wins \u670D\u52A1\u5668\uFF0C\u6700\u591A\u53EF\u8BBE\u7F6E8\u4E2A Wins \u670D\u52A1\u5668\uFF0C\u6700\u5148\u8BBE\u7F6E\u7684 Wins \u670D \u52A1\u5668\u7684\u5730\u5740\u4F18\u5148\u7EA7\u6700\u9AD8\uFF0C\u56E0\u6B64 address1 \u4F18\u5148\u7EA7\u6700\u9AD8\uFF0C\u4F9D\u6B21address2\u3001address3\u2026\u2026\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E\u5730\u5740\u6C601\u7684Wins\u670D\u52A1\u5668\u7684\u5730\u5740\u4E3A192.168.1.1\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-1-config)#netbios-name-server 192.168.1.1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_1-1-24-netbios-node-type" tabindex="-1"><a class="header-anchor" href="#_1-1-24-netbios-node-type" aria-hidden="true">#</a> 1.1.24 netbios-node-type</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>netbios-node-type {b-node|h-node|m-node|p-node|&lt;type-number&gt;} no netbios-node-type</code></p></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E DHCP \u5BA2\u6237\u673A\u7684\u8282\u70B9\u7C7B\u578B\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u53D6\u6D88\u8BE5\u9879\u914D\u7F6E\u3002</p></li><li><p>\u53C2\u6570\uFF1Ab-node \u4E3A\u5E7F\u64AD\u578B\uFF1Bh-node \u4E3A\u5148\u70B9\u5BF9\u70B9\u540E\u5E7F\u64AD\u7684\u6DF7\u5408\u578B\uFF1Bm-node \u4E3A\u5148\u5E7F\u64AD\u540E\u70B9\u5BF9\u70B9\u7684</p></li><li><p>\u6DF7\u5408\u578B\uFF1Bp-node \u4E3A\u70B9\u5BF9\u70B9\u578B\uFF1B<code>&lt;type-number&gt;</code> \u4E3A\u8282\u70B9\u7C7B\u578B\u7684\u5341\u516D\u8FDB\u503C\u8868\u793A\u6CD5\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A 0~255\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u6CA1\u6709\u4E3A\u5BA2\u6237\u673A\u6307\u5B9A\u8282\u70B9\u7C7B\u578B\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCP \u5730\u5740\u6C60\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u5982\u679C\u8981\u4E3A\u5BA2\u6237\u673A\u6307\u5B9A\u8282\u70B9\u7C7B\u578B\uFF0C\u5EFA\u8BAE\u628A\u5BA2\u6237\u673A\u7684\u8282\u70B9\u7C7B\u578B\u914D\u7F6E\u4E3A\u5148\u70B9\u5BF9\u70B9\u540E\u5E7F\u64AD \u7684\u6DF7\u5408\u578B\u8282\u70B9\u7C7B\u578B\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5730\u5740\u6C601\u7684\u5BA2\u6237\u673A\u7684\u8282\u70B9\u7C7B\u578B\u4E3A\u5E7F\u64AD\u578B\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-1-config)#netbios-node-type b-node
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_1-1-25-network-address" tabindex="-1"><a class="header-anchor" href="#_1-1-25-network-address" aria-hidden="true">#</a> 1.1.25 network-address</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>network-address &lt;network-number&gt; [&lt;mask&gt; | &lt;prefix-length&gt;] no network-address</code></p></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u5730\u5740\u6C60\u53EF\u5206\u914D\u7684\u5730\u5740\u8303\u56F4\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u53D6\u6D88\u8BE5\u9879\u914D\u7F6E\u3002</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;network-number&gt;</code> \u4E3A\u7F51\u7EDC\u53F7\u7801\uFF1B<code>&lt;mask&gt;</code> \u4E3A\u63A9\u7801\uFF0C\u70B9\u5206\u5341\u8FDB\u5236\u683C\u5F0F\uFF1B<code>&lt;prefix-length&gt;</code> \u4E3A\u7528\u524D\u7F00\u8868\u793A\u6CD5\uFF0C\u5982\u63A9\u7801\u4E3A255.255.255.0\u7528\u524D\u7F00\u6CD5\u8868\u793A\u4E3A\u201C24\u201D\uFF0C\u63A9\u7801\u4E3A255.255.255.252 \u7528\u524D\u7F00\u6CD5\u8868\u793A\u4E3A\u201C30\u201D\u3002\u6CE8\u610F\uFF1A\u5728\u4F7F\u7528 DHCP-SERVER \u7684\u65F6\u5019\uFF0C\u914D\u7F6E\u5730\u5740\u63A9\u7801\u7684\u65F6\u5019\uFF0C\u5E94\u8BE5 \u4F7F\u5730\u5740\u6C60\u4E2D\u63A9\u7801\u957F\u4E8E\u6216\u7B49\u4E8E\u4EA4\u6362\u673A\u4E0A\u5BF9\u5E94\u7F51\u6BB5\u7684\u4E09\u5C42\u63A5\u53E3 IP \u5730\u5740\u7684\u63A9\u7801\uFF0CDHCP \u5730\u5740\u6C60\u914D \u7F6E\u65F6\u65E0\u6CD5\u914D\u7F6E\u63A9\u7801\u4E3A31\u4F4D\u548C32\u4F4D\u7684\u5730\u5740\u6C60\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u5982\u679C\u4E0D\u5E26\u63A9\u7801\uFF0C\u7F3A\u7701\u63A9\u7801\u4E3A\u6309\u7167\u6709\u7C7B\u5730\u5740\u81EA\u52A8\u5206\u914D\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCP \u5730\u5740\u6C60\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1ADHCP \u670D\u52A1\u5668\u7528\u4E8E\u52A8\u6001\u5206\u914DIP\u5730\u5740\u65F6\u4F7F\u7528\u672C\u547D\u4EE4\u914D\u7F6E\u53EF\u5206\u914D\u7684IP\u5730\u5740\u8303\u56F4\uFF0C\u4E00 \u4E2A\u5730\u5740\u6C60\u53EA\u80FD\u5BF9\u5E94\u4E00\u4E2A\u7F51\u6BB5\u3002\u672C\u547D\u4EE4\u4E0E\u624B\u5DE5\u7ED1\u5B9A\u5730\u5740\u7684\u547D\u4EE4\u5373 hardware-address \u547D\u4EE4\u3001host \u547D\u4EE4\u4E92\u65A5\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5730\u5740\u6C601\u7684\u53EF\u5206\u914D\u7684\u5730\u5740\u4E3A10.1.128.0/24\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-1-config)#network-address 10.1.128.0 24
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><p>\u76F8\u5173\u547D\u4EE4\uFF1A<code>ip dhcp excluded-address</code></p><p>1.1.26 next-server</p><p>\u547D\u4EE4\uFF1A<code>next-server &lt;address1&gt;[&lt;address2&gt;[\u2026&lt;address8&gt;] no next-server</code> \u529F\u80FD\uFF1A\u914D\u7F6E\u5BA2\u6237\u673A\u5BFC\u5165\u6587\u4EF6\u5B58\u653E\u7684\u670D\u52A1\u5668\u5730\u5740\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u53D6\u6D88\u8BE5\u9879\u914D\u7F6E\u3002 \u53C2\u6570\uFF1Aaddress1\u2026address8 \u4E3AIP\u5730\u5740\uFF0C\u5747\u4E3A\u70B9\u5206\u5341\u8FDB\u5236\u683C\u5F0F\u3002 \u547D\u4EE4\u6A21\u5F0F\uFF1ADHCP \u5730\u5740\u6C60\u6A21\u5F0F\u3002 \u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0\u3002 \u4F7F\u7528\u6307\u5357\uFF1A\u4E3A\u5BA2\u6237\u673A\u6307\u5B9A\u5BFC\u5165\u6587\u4EF6\u5B58\u653E\u7684\u670D\u52A1\u5668\u5730\u5740\u3002\u4E00\u822C\u7528\u5728\u65E0\u76D8\u5DE5\u4F5C\u7AD9\uFF0C\u7CFB\u7EDF\u542F\u52A8\u65F6\u9700 \u8981\u4ECE\u670D\u52A1\u5668\u4E0A\u4E0B\u8F7D\u914D\u7F6E\u6587\u4EF6\uFF0C\u548C bootfile \u7ED3\u5408\u4F7F\u7528\u3002 \u4E3E\u4F8B\uFF1A\u6587\u4EF6\u5B58\u653E\u7684\u670D\u52A1\u5668\u5730\u5740\u4E3A10.1.128.4\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-config)#next-server 10.1.128.4 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u76F8\u5173\u547D\u4EE4\uFF1A<code>bootfile</code></p><h3 id="_1-1-27-option" tabindex="-1"><a class="header-anchor" href="#_1-1-27-option" aria-hidden="true">#</a> 1.1.27 option</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>option &lt;code&gt; {ascii &lt;string&gt; | hex &lt;hex&gt; | ipaddress &lt;ipaddress&gt;} no option &lt;code&gt;</code></p></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E option \u6240\u6307\u5B9A\u4EE3\u7801\u7684\u7F51\u7EDC\u53C2\u6570\u7684\u503C\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u53D6\u6D88\u5BF9\u8BE5 option \u7684\u914D\u7F6E\u3002</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;code&gt;</code> \u4E3A\u7F51\u7EDC\u53C2\u6570\u7684\u4EE3\u7801\u503C\uFF1B<code>&lt;string&gt;</code> \u4E3A ASC \u2161\u578B\u5B57\u7B26\u4E32\uFF0C\u6700\u957F\u4E0D\u8D85\u8FC7255\u4E2A\u5B57\u7B26\uFF1B <code>&lt;hex&gt;</code> \u4E3A\u5341\u516D\u8FDB\u503C\u8868\u793A\u7684\u6570\u503C\uFF0C\u6700\u957F\u4E0D\u8D85\u8FC7510\uFF0C\u4E14\u957F\u5EA6\u5FC5\u987B\u4E3A\u5076\u6570\uFF1B<code>&lt;ipaddress&gt;</code> \u4E3AIP\u5730\u5740\uFF0C \u70B9\u5206\u5341\u8FDB\u5236\u683C\u5F0F\uFF0C\u6700\u957F\u53EF\u4EE5\u8BBE\u7F6E63\u4E2AIP\u5730\u5740\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCP \u5730\u5740\u6C60\u6A21\u5F0F\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u7CFB\u7EDF\u4E0D\u4EC5\u63D0\u4F9B\u591A\u9879\u5728\u7F51\u7EDC\u914D\u7F6E\u4E2D\u5E38\u7528\u7684\u547D\u4EE4\uFF0C\u8FD8\u63D0\u4F9B\u4E86\u914D\u7F6E\u7F51\u7EDC\u53C2\u6570\u7684\u901A\u7528\u547D\u4EE4\uFF0C \u6EE1\u8DB3\u7528\u6237\u7684\u591A\u65B9\u9762\u7684\u914D\u7F6E\u9700\u6C42\u3002Option \u7684\u4EE3\u7801\u5B9A\u4E49\u5728 RFC2132 \u4E2D\u6709\u8BE6\u7EC6\u4ECB\u7ECD\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E WWW \u670D\u52A1\u5668\u7684\u5730\u5740\u4E3A10.1.128.240\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-1-config)#option 72 ip 10.1.128.240
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_1-1-28-service-dhcp" tabindex="-1"><a class="header-anchor" href="#_1-1-28-service-dhcp" aria-hidden="true">#</a> 1.1.28 service dhcp</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>service dhcp no service dhcp</code></p></li><li><p>\u529F\u80FD\uFF1A\u542F\u52A8 DHCP \u670D\u52A1\u5668\u529F\u80FD\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5173\u95ED DHCP \u670D\u52A1\u3002</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1ADHCP \u670D\u52A1\u7F3A\u7701\u662F\u5173\u95ED\u7684\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1ADHCP \u670D\u52A1\u5305\u62EC DHCP \u670D\u52A1\u5668\u529F\u80FD\u548CDHCP\u4E2D\u7EE7\u7684\u529F\u80FD\u3002\u5F53\u6253\u5F00 DHCP \u670D\u52A1\u65F6\uFF0C DHCP \u670D\u52A1\u5668\u529F\u80FD\u548C DHCP \u4E2D\u7EE7\u529F\u80FD\u90FD\u88AB\u6253\u5F00\u3002\u53EA\u6709\u6253\u5F00 DHCP \u670D\u52A1\u5668\u529F\u80FD\uFF0C\u4EA4\u6362\u673A\u624D\u80FD \u7ED9 DHCP \u5BA2\u6237\u673A\u5206\u914DIP\u5730\u5740\u53CA\u5F00\u542F DHCP \u7684 RELAY \u529F\u80FD\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u6253\u5F00DHCP\u670D\u52A1\u5668\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#service dhcp 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_1-1-29-show-ip-dhcp-binding" tabindex="-1"><a class="header-anchor" href="#_1-1-29-show-ip-dhcp-binding" aria-hidden="true">#</a> 1.1.29 show ip dhcp binding</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ip dhcp binding [ [&lt;ip-addr&gt;] [type {all | manual | dynamic}] [count]</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793AIP\u5730\u5740\u4E0EMAC\u5730\u5740\u7684\u7ED1\u5B9A\u60C5\u51B5\u3002</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;ip-addr&gt;</code> \u4E3A\u67D0\u6307\u5B9A\u7684IP\u5730\u5740\uFF0C\u70B9\u5206\u5341\u8FDB\u5236\u683C\u5F0F\uFF1Ball \u8868\u793A\u6240\u6709\u7684\u7ED1\u5B9A\u7C7B\u578B\uFF08\u624B\u5DE5\u7ED1\u5B9A \u4E0E\u52A8\u6001\u5206\u914D\uFF09\uFF1Bmanual \u8868\u793A\u624B\u5DE5\u7ED1\u5B9A\u7C7B\u578B\uFF1Bdynamic \u8868\u793A\u52A8\u6001\u5206\u914D\u7C7B\u578B\uFF1Bcount \u8868\u793A\u663E\u793A DHCP \u5730\u5740\u7ED1\u5B9A\u8868\u9879\u6570\u91CF\u4FE1\u606F\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4E3E\u4F8B:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#sh ip dhcp binding 
IP address           Hardware address         Lease expiration       Type 
10.1.1.233            00-00-E2-3A-26-04                 Infinite             Manual 
10.1.1.254            00-00-E2-3A-5C-D3                    60              Automatic 

|     \u663E\u793A\u4FE1\u606F     |                \u89E3\u91CA                |
| :--------------: | :--------------------------------: |
|    IP address    |     \u5206\u914D\u7ED9DHCP\u5BA2\u6237\u673A\u7684IP\u5730\u5740\uFF1B     |
| Hardware address |       DHCP\u5BA2\u6237\u673A\u7684\u786C\u4EF6\u5730\u5740\uFF1B       |
| Lease expiration | DHCP\u5BA2\u6237\u673A\u62E5\u6709\u8BE5IP\u5730\u5740\u7684\u6709\u6548\u65F6\u95F4\uFF1B |
|       Type       |  \u7C7B\u578B\uFF0C\u6307\u624B\u5DE5\u7ED1\u5B9A\u8FD8\u662F\u52A8\u6001\u5206\u914D\u7684\u3002  |
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ul><h3 id="_1-1-30-show-ip-dhcp-conflict" tabindex="-1"><a class="header-anchor" href="#_1-1-30-show-ip-dhcp-conflict" aria-hidden="true">#</a> 1.1.30 show ip dhcp conflict</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ip dhcp conflict</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A\u6709\u51B2\u7A81\u8BB0\u5F55\u7684\u5730\u5740\u7684\u65E5\u5FD7\u4FE1\u606F\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#sh ip dhcp conflict 
IP Address     Detection method    Detection Time 
10.1.1.1           Ping           FRI JAN 02 00:07:01 2002
|     \u663E\u793A\u4FE1\u606F     |        \u89E3\u91CA        |
| :--------------: | :----------------: |
|    IP Address    |  \u6709\u51B2\u7A81\u7684IP\u5730\u5740\u3002  |
| Detection method | \u68C0\u6D4B\u5230\u51B2\u7A81\u7684\u65B9\u5F0F\u3002 |
|  Detection Time  | \u68C0\u6D4B\u5230\u51B2\u7A81\u7684\u65F6\u95F4\u3002 |
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ul><h3 id="_1-1-31-show-ip-dhcp-relay-information-option" tabindex="-1"><a class="header-anchor" href="#_1-1-31-show-ip-dhcp-relay-information-option" aria-hidden="true">#</a> 1.1.31 show ip dhcp relay information option</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ip dhcp relay information option</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A DHCP \u4E2D\u7EE7 option 82 \u9009\u9879\u76F8\u5173\u914D\u7F6E\u4FE1\u606F\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4E3E\u4F8B:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#show ip dhcp relay information option 
ip dhcp server relay information option(i.e. option 82) is enabled 
ip dhcp relay information option(i.e. option 82) is enabled 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h3 id="_1-1-32-show-ip-dhcp-server-statistics" tabindex="-1"><a class="header-anchor" href="#_1-1-32-show-ip-dhcp-server-statistics" aria-hidden="true">#</a> 1.1.32 show ip dhcp server statistics</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ip dhcp server statistics</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793ADHCP\u670D\u52A1\u5668\u7684\u5BF9\u5404\u79CDDHCP\u6570\u636E\u5305\u7684\u7EDF\u8BA1\u4FE1\u606F\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#show ip dhcp server statistics 
Address pools       3
Database agents     0
Automatic bindings   2
Manual bindings       0
Conflict bindings      0
Expiried bindings       0
Malformed message      0

Message         Recieved
BOOTREQUEST       3814
DHCPDISCOVER      1899 
DHCPREQUEST        6 
DHCPDECLINE        0 
DHCPRELEASE        1 
DHCPINFORM         1

Message           Send
BOOTREPLY         1911 
DHCPOFFER          6 
DHCPACK            6 
DHCPNAK            0 
DHCPRELAY         1907 
DHCPFORWARD        0

Switch#
| \u663E\u793A\u4FE1\u606F           | \u89E3\u91CA                      |
| ------------------ | ------------------------- |
| Address pools      | \u914D\u7F6E\u7684DHCP\u5730\u5740\u6C60\u4E2A\u6570\uFF1B    |
| Database agents    | \u4EE3\u7406\u6570\u636E\u5E93\u7684\u4E2A\u6570\uFF1B        |
| Automatic bindings | \u81EA\u52A8\u5206\u914D\u5730\u5740\u7684\u4E2A\u6570\uFF1B      |
| Manual bindings    | \u624B\u5DE5\u7ED1\u5B9A\u5730\u5740\u7684\u4E2A\u6570\uFF1B      |
| Conflict bindings  | \u6709\u5730\u5740\u51B2\u7A81\u7684\u4E2A\u6570\uFF1B        |
| Expiried bindings  | \u7ED1\u5B9A\u8D85\u671F\u7684\u4E2A\u6570\uFF1B          |
| Malformed message  | \u9519\u8BEF\u4FE1\u606F\u7684\u4E2A\u6570\uFF1B          |
| Message Recieved   | \u63A5\u6536DHCP\u6570\u636E\u5305\u7684\u7EDF\u8BA1      |
| BOOTREQUEST        | \u63A5\u6536\u7684\u6570\u636E\u5305\u603B\u6570\uFF1B        |
| DHCPDISCOVER       | \u5176\u4E2DDHCPDISCOVER\u5305\u4E2A\u6570\uFF1B  |
| DHCPREQUEST        | \u5176\u4E2DDHCPREQUEST\u5305\u4E2A\u6570\uFF1B   |
| DHCPDECLINE        | \u5176\u4E2DDHCPDECLINE\u5305\u4E2A\u6570\uFF1B   |
| DHCPRELEASE        | \u5176\u4E2DDHCPRELEASE\u5305\u4E2A\u6570\uFF1B   |
| DHCPINFORM         | \u5176\u4E2DDHCPINFORM\u5305\u4E2A\u6570\uFF1B    |
| Message Send       | \u53D1\u9001DHCP\u6570\u636E\u5305\u7684\u7EDF\u8BA1      |
| BOOTREPLY          | \u53D1\u9001\u7684\u6570\u636E\u5305\u7684\u603B\u6570\uFF1B      |
| DHCPOFFER          | \u5176\u4E2DDHCPOFFER\u5305\u7684\u4E2A\u6570\uFF1B   |
| DHCPACK            | \u5176\u4E2DDHCPACK\u5305\u7684\u4E2A\u6570\uFF1B     |
| DHCPNAK            | \u5176\u4E2DDHCPNAK\u5305\u7684\u4E2A\u6570\uFF1B     |
| DHCPRELAY          | \u5176\u4E2DDHCPRELAY\u5305\u7684\u4E2A\u6570\uFF1B   |
| DHCPFORWARD        | \u5176\u4E2DDHCPFORWARD\u5305\u7684\u4E2A\u6570\u3002 |
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div></li></ul><h2 id="_1-2-dhcp\u4E2D\u7EE7\u914D\u7F6E\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_1-2-dhcp\u4E2D\u7EE7\u914D\u7F6E\u547D\u4EE4" aria-hidden="true">#</a> 1.2 DHCP\u4E2D\u7EE7\u914D\u7F6E\u547D\u4EE4</h2><h3 id="_1-2-1-ip-dhcp-broadcast-suppress" tabindex="-1"><a class="header-anchor" href="#_1-2-1-ip-dhcp-broadcast-suppress" aria-hidden="true">#</a> 1.2.1 ip dhcp broadcast suppress</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp broadcast suppress no ip dhcp broadcast suppress</code></p></li><li><p>\u529F\u80FD\uFF1A\u5F00\u542F DHCP \u5E7F\u64AD\u62A5\u6587\u6291\u5236\u529F\u80FD\uFF1Bno \u547D\u4EE4\u4E3A\u5173\u95ED DHCP \u5E7F\u64AD\u62A5\u6587\u6291\u5236\u529F\u80FD\u3002</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u9ED8\u8BA4\u4E0D\u542F\u52A8 DHCP \u5E7F\u64AD\u62A5\u6587\u6291\u5236\u529F\u80FD\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u6291\u5236 DHCP \u5E7F\u64AD\u62A5\u6587\u7684\u8F6C\u53D1\uFF0C\u4EE5\u53CA DHCP \u5E7F\u64AD\u62A5\u6587\u4E22\u5F03\u548C\u590D\u5236\u81F3CPU\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A \u5728\u4EA4\u6362\u673A\u4E0A\u5F00\u542F DHCP \u5E7F\u64AD\u62A5\u6587\u6291\u5236\u529F\u80FD\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ip dhcp broadcast suppress
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_1-2-2-ip-dhcp-relay-share-vlan-vlanid-sub-vlan-vlanlist" tabindex="-1"><a class="header-anchor" href="#_1-2-2-ip-dhcp-relay-share-vlan-vlanid-sub-vlan-vlanlist" aria-hidden="true">#</a> 1.2.2 <code>ip dhcp relay share-vlan &lt;vlanid&gt; sub-vlan &lt;vlanlist&gt;</code></h3><ul><li>\u547D\u4EE4\uFF1A<code>ip dhcp relay share-vlan &lt;vlanid&gt; sub-vlan &lt;vlanlist&gt; no ip dhcp relay share-vlan</code></li><li>\u529F\u80FD\uFF1A\u6307\u5B9A\u4E00\u4E2A share-vlan \u7684 sub-vlan\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u53D6\u6D88 share-vlan \u7684 sub-vlan\u3002</li><li>\u53C2\u6570\uFF1A<code>&lt;vlanid&gt;</code> \u4E3A share-vlan \u7684 vlan \u53F7\uFF0C <code>&lt;vlanlist&gt;</code> \u4E3A sub-vlan \u7684\u5217\u8868\u3002</li><li>\u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0\u3002</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</li><li>\u4F7F\u7528\u6307\u5357\uFF1Ashare-vlan \u53EF\u4EE5\u6709\u8BB8\u591A\u7684 sub-vlan\uFF0C\u4F46\u4E00\u4E2A sub-vlan \u53EA\u80FD\u5BF9\u5E94\u4E00\u4E2A share-vlan\u3002 \u5F53DHCP Relay \u4E8C\u5C42\u8BBE\u5907\u6536\u5230 DHCP Request \u65F6\uFF0C\u9996\u5148\u5224\u65AD\u6536\u5230\u7684\u5305\u4E2D vlan \u662F\u5426\u6709\u4E09\u5C42\u63A5\u53E3\uFF0C\u5982\u679C\u6709 \u5C31\u7528\u6B64\u4E09\u5C42\u63A5\u53E3\u8FDB\u884C DHCP Relay\u3002\u5982\u679C\u6536\u5230\u5305\u4E2D\u7684 vlan \u6CA1\u6709\u4E09\u5C42\u63A5\u53E3\uFF0C\u4F46\u6B64 vlan \u662F\u67D0\u4E2A share-vlan \u7684 sub-vlan\uFF0C\u5219\u7528 share-vlan \u7684\u4E09\u5C42\u63A5\u53E3\u8FDB\u884C DHCP Relay\u3002</li></ul><h3 id="_1-2-3-ip-forward-protocol-udp-bootps" tabindex="-1"><a class="header-anchor" href="#_1-2-3-ip-forward-protocol-udp-bootps" aria-hidden="true">#</a> 1.2.3 ip forward-protocol udp bootps</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip forward-protocol udp bootps no ip forward-protocol udp bootps</code></p></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E DHCP \u4E2D\u7EE7\u8F6C\u53D1\u6307\u5B9A\u7AEF\u53E3\u7684 UDP \u5E7F\u64AD\u62A5\u6587\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u53D6\u6D88\u8BE5\u9879\u670D\u52A1\u3002</p></li><li><p>\u53C2\u6570\uFF1Abootps \u6807\u8BC6\u8F6C\u53D1UDP\u7AEF\u53E3\u4E3A67 DHCP \u5E7F\u64AD\u62A5\u6587\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1ADHCP \u4E2D\u7EE7\u7F3A\u7701\u4E0D\u8F6C\u53D1 DHCP \u5E7F\u64AD\u62A5\u6587\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8BE5\u547D\u4EE4\u7684\u8F6C\u53D1\u76EE\u7684\u5730\u5740\u5728\u968F\u540E\u7684 ip helper-address \u547D\u4EE4\u91CC\u8BBE\u5B9A\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8F6C\u53D1 DHCP \u5305\uFF0C\u4E14\u76EE\u7684\u670D\u52A1\u5668\u5730\u5740\u4E3A 192.168.1.5\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ip forward-protocol udp bootps 
Switch(config)# interface vlan 1
Switch(Config-if-Vlan1)#ip helper-address 192.168.1.5
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h3 id="_1-2-4-ip-helper-address" tabindex="-1"><a class="header-anchor" href="#_1-2-4-ip-helper-address" aria-hidden="true">#</a> 1.2.4 ip helper-address</h3><ul><li>\u547D\u4EE4\uFF1A<code>ip helper-address &lt;ipaddress&gt; no ip helper-address &lt;ipaddress&gt;</code></li><li>\u529F\u80FD\uFF1A\u6307\u5B9A DHCP \u4E2D\u7EE7\u8F6C\u53D1 UDP \u62A5\u6587\u7684\u76EE\u6807\u5730\u5740\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u53D6\u6D88\u8BE5\u9879\u8BBE\u7F6E\u3002</li><li>\u53C2\u6570\uFF1A<code>&lt;ipaddress&gt;</code> \u4E3A DHCP \u4E2D\u7EE7\u8F6C\u53D1 UDP \u62A5\u6587\u7684\u76EE\u6807 IP \u5730\u5740\u3002</li><li>\u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0\u3002</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u63A5\u53E3\u914D\u7F6E\u6A21\u5F0F\u3002</li><li>\u4F7F\u7528\u6307\u5357\uFF1ADHCP \u4E2D\u7EE7\u8F6C\u53D1\u7684\u670D\u52A1\u5668\u5730\u5740\u662F\u4E0E\u8F6C\u53D1 UDP \u7684\u7AEF\u53E3\u76F8\u5BF9\u5E94\u7684\uFF0C\u5373 DHCP \u4E2D\u7EE7\u53EA\u8F6C\u53D1\u76F8\u5E94 UDP \u534F \u8BAE\u7684\u62A5\u6587\u7ED9\u76F8\u5E94\u7684\u670D\u52A1\u5668\uFF0C\u5E76\u4E0D\u662F\u628A\u6240\u6709 UDP \u62A5\u6587\u8F6C\u53D1\u7ED9\u6240\u6709\u7684\u670D\u52A1\u5668\u3002\u5F53\u4F7F\u7528 ip forward-protocol udp <code>&lt;port&gt;</code> \u547D\u4EE4\u540E\uFF0C\u518D\u914D\u7F6E\u672C\u547D\u4EE4\u65F6\uFF0C\u672C\u547D\u4EE4\u6240\u914D\u7F6E\u7684\u8F6C\u53D1\u5730\u5740\u63A5\u6536\u5230\u7684\u662F\u7AEF\u53E3\u53F7\u4E3A<code>&lt;port&gt;</code>\u7684 UDP \u62A5\u6587\u3002</li></ul><h3 id="_1-2-5-show-ip-forward-protocol" tabindex="-1"><a class="header-anchor" href="#_1-2-5-show-ip-forward-protocol" aria-hidden="true">#</a> 1.2.5 show ip forward-protocol</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ip forward-protocol</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A\u5DF2\u914D\u7F6E\u7684\u652F\u6301\u5E7F\u64AD\u62A5\u6587\u8F6C\u53D1\u7684\u534F\u8BAE\u7AEF\u53E3\u53F7\uFF0C\u4E3B\u8981\u6307 DHCP \u62A5\u6587\u8F6C\u53D1\u7684\u7AEF\u53E3\u53F7\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#show ip forward-protocol Forward protocol(UDP port): 67(active)
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_1-2-6-show-ip-helper-address" tabindex="-1"><a class="header-anchor" href="#_1-2-6-show-ip-helper-address" aria-hidden="true">#</a> 1.2.6 show ip helper-address</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ip helper-address</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A\u53EF\u8F6C\u53D1\u5E7F\u64AD\u62A5\u6587\u7684\u534F\u8BAE\u7AEF\u53E3\u53F7\u3001\u652F\u6301\u8F6C\u53D1\u529F\u80FD\u7684\u63A5\u53E3\u4EE5\u53CA\u8F6C\u53D1\u7684\u76EE\u7684IP\u7684\u914D\u7F6E\u5173\u7CFB</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#show ip helper-address 
Forward protocol       Interface       Forward server 
67(active)               Vlan1           192.168.1.1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h1 id="\u7B2C2\u7AE0-dhcpv6\u914D\u7F6E\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u7B2C2\u7AE0-dhcpv6\u914D\u7F6E\u547D\u4EE4" aria-hidden="true">#</a> \u7B2C2\u7AE0 DHCPv6\u914D\u7F6E\u547D\u4EE4</h1><h3 id="_2-1-clear-ipv6-dhcp-binding" tabindex="-1"><a class="header-anchor" href="#_2-1-clear-ipv6-dhcp-binding" aria-hidden="true">#</a> 2.1 clear ipv6 dhcp binding</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>clear ipv6 dhcp binding [&lt;ipv6-address&gt;] [pd &lt;ipv6-prefix|prefix-length&gt;]</code></p></li><li><p>\u529F\u80FD\uFF1A\u5220\u9664\u67D0\u6307\u5B9A DHCPv6 \u5206\u914D\u5730\u5740\u6216\u524D\u7F00\u7684\u7ED1\u5B9A\u8BB0\u5F55\u6216\u6240\u6709 IPv6 \u5730\u5740\u548C\u524D\u7F00\u7684\u7ED1\u5B9A\u8BB0\u5F55\u3002</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;ipv6-address&gt;</code> \u4E3A\u6307\u5B9A\u7684\u6709\u7ED1\u5B9A\u8BB0\u5F55\u7684IPv6\u5730\u5740\uFF1B<code>&lt;ipv6-prefix|prefix-length&gt;</code> \u4E3A\u6307\u5B9A\u7684\u6709\u7ED1\u5B9A\u8BB0\u5F55\u7684 IPv6 \u524D\u7F00\uFF1B\u6CA1\u6709\u6307\u5B9A\u53C2\u6570\u65F6\u8BA4\u4E3A\u6E05\u9664\u6240\u6709 IPv6 \u5730\u5740\u548C\u524D\u7F00\u7684\u7ED1\u5B9A\u8BB0\u5F55\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u901A\u8FC7 show ipv6 dhcp binding \u547D\u4EE4\u53EF\u4EE5\u67E5\u770B IPv6 \u5730\u5740\u548C\u524D\u7F00\u4E0E\u76F8\u5E94\u7684 DHCPv6 \u7ED1\u5B9A\u4FE1\u606F\uFF0C\u5F53 DHCPv6 \u670D\u52A1\u5668\u5F97\u77E5\u67D0 DHCPv6 \u5BA2\u6237\u673A\u56E0\u4E3A\u7279\u6B8A\u539F\u56E0\u6CA1\u6709\u4F7F\u7528\u5206\u914D\u7684 IPv6 \u5730\u5740\u6216\u524D\u7F00\u4F46\u89C4\u5B9A\u7684\u79DF\u671F\u672A\u5230\uFF0CDHCPv6 \u670D\u52A1\u5668\u4E0D\u4F1A\u81EA\u52A8\u89E3\u9664\u8BE5\u7ED1\u5B9A\u4FE1\u606F\uFF0C\u6B64\u65F6\u7CFB\u7EDF\u7BA1\u7406\u5458\u53EF\u4EE5\u4F7F\u7528\u672C\u547D\u4EE4\u624B\u5DE5\u5220\u9664\u8BE5 IP \u5730\u5740\u6216\u524D\u7F00\u4E0E\u5BA2\u6237\u673A\u786C\u4EF6\u5730\u5740\u7684\u81EA\u52A8\u7ED1\u5B9A\uFF1B\u5982\u679C\u6CA1\u6709\u4EFB\u4F55\u53C2\u6570\uFF0C\u672C\u547D\u4EE4\u5C06\u5220\u9664\u6240\u6709\u81EA\u52A8\u7ED1\u5B9A\u8BB0\u5F55\uFF0C\u8FD9\u6837 HCPv6 \u5730\u5740\u6C60\u4E2D\u7684\u6240\u6709\u5730\u5740\u548C\u524D\u7F00\u5C06\u88AB\u91CD\u65B0\u5206\u914D\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5220\u9664\u6240\u6709 IPv6 \u5730\u5740\u548C\u524D\u7F00\u7684\u7ED1\u5B9A\u8BB0\u5F55\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#clear ipv6 dhcp binding
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u76F8\u5173\u547D\u4EE4\uFF1A<code>show ipv6 dhcp binding</code></p></li></ul><h3 id="_2-2-clear-ipv6-dhcp-conflict" tabindex="-1"><a class="header-anchor" href="#_2-2-clear-ipv6-dhcp-conflict" aria-hidden="true">#</a> 2.2 clear ipv6 dhcp conflict</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>clear ipv6 dhcp conflict [&lt;address&gt;]</code></p></li><li><p>\u529F\u80FD\uFF1A\u5220\u9664\u5728\u5730\u5740\u51B2\u7A81\u65E5\u5FD7\u4E2D\u6709\u51B2\u7A81\u8BB0\u5F55\u7684\u5730\u5740</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;address&gt;</code> \u4E3A\u67D0\u6307\u5B9A\u7684\u6709\u51B2\u7A81\u8BB0\u5F55\u7684\u5730\u5740\uFF1B\u4E0D\u6307\u5B9A\u5730\u5740\u5219\u6E05\u9664\u6240\u6709\u51B2\u7A81\u8BB0\u5F55\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u901A\u8FC7 show ipv6 dhcp conflict \u547D\u4EE4\u53EF\u4EE5\u67E5\u770B\u54EA\u4E9BIP\u5730\u5740\u5728\u4F7F\u7528\u4E0A\u6709\u51B2\u7A81\uFF0C\u4F7F\u7528\u672C\u547D\u4EE4\u53EF\u4EE5\u5220\u9664\u67D0\u4E00\u5730\u5740\u7684\u51B2\u7A81\u8BB0\u5F55\uFF0C\u5982\u679C\u4E0D\u6307\u5B9A\u5177\u4F53\u5730\u5740\u5219\u662F\u5220\u9664\u65E5\u5FD7\u4E2D\u6240\u6709\u5730\u5740\u7684\u51B2\u7A81\u8BB0\u5F55\u3002\u5728\u65E5\u5FD7\u4E2D\u5220\u9664\u51B2\u7A81\u8BB0\u5F55\u540E\uFF0C\u8FD9\u4E9B\u5730\u5740\u53EF\u88AB DHCPv6 \u670D\u52A1\u5668\u91CD\u65B0\u4F7F\u7528\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u7F51\u7EDC\u7BA1\u7406\u5458\u67E5\u770B\u51B2\u7A81\u65E5\u5FD7\uFF0C\u53D1\u73B0\u6709\u51B2\u7A81\u8BB0\u5F55\u76842001::1\u5730\u5740\u73B0\u5DF2\u65E0\u4EBA\u4F7F\u7528\uFF0C\u5C06\u8BE5\u5730\u5740\u7684\u8BB0\u5F55\u4ECE\u5730\u5740\u51B2\u7A81\u6587\u4EF6\u4E2D\u5220\u9664\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#clear ipv6 dhcp conflict 2001::1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-3-clear-ipv6-dhcp-statistics" tabindex="-1"><a class="header-anchor" href="#_2-3-clear-ipv6-dhcp-statistics" aria-hidden="true">#</a> 2.3 clear ipv6 dhcp statistics</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>clear ipv6 dhcp statistics</code></p></li><li><p>\u529F\u80FD\uFF1A\u5220\u9664 DHCPv6 \u62A5\u6587\u7EDF\u8BA1\u8BB0\u5F55\uFF0C\u5C06 DHCPv6 \u62A5\u6587\u7EDF\u8BA1\u8BA1\u6570\u5668\u6E05\u96F6\u3002</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u901A\u8FC7 show ipv6 dhcp statistics \u547D\u4EE4\u53EF\u4EE5\u67E5\u770B DHCPv6 \u62A5\u6587\u8BA1\u6570\u5668\u7684\u7EDF\u8BA1\u4FE1\u606F\uFF0C\u6240\u6709\u7684\u7EDF\u8BA1\u4FE1\u606F\u90FD\u662F\u4E00\u4E2A\u7D2F\u8BA1\u503C\uFF0C\u4F7F\u7528\u672C\u547D\u4EE4\u53EF\u4EE5\u5C06\u8BA1\u6570\u5668\u6E05\u96F6\uFF0C\u65B9\u4FBF\u8C03\u8BD5\u67E5\u770B\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5C06 DHCPv6 \u62A5\u6587\u8BA1\u6570\u5668\u6E05\u96F6\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#clear ipv6 dhcp statistics 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u76F8\u5173\u547D\u4EE4\uFF1A<code>show ipv6 dhcp statistics</code></p></li></ul><h3 id="_2-4-debug-ipv6-dhcp-client-packet" tabindex="-1"><a class="header-anchor" href="#_2-4-debug-ipv6-dhcp-client-packet" aria-hidden="true">#</a> 2.4 debug ipv6 dhcp client packet</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>debug ipv6 dhcp client { event | packet } no debug ipv6 dhcp client { event | packet }</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A DHCPv6 \u524D\u7F00\u8BF7\u6C42\u5BA2\u6237\u7AEF\u6536\u53D1\u62A5\u6587\u7684 debug \u663E\u793A\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u5173\u95ED DHCPv6 \u524D\u7F00\u8BF7\u6C42\u5BA2\u6237\u7AEF\u7684 debug \u663E\u793A\u4FE1\u606F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u8C03\u8BD5\u5F00\u5173\u662F\u5173\u95ED\u7684</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch# debug ipv6 dhcp client packet
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-5-debug-ipv6-dhcp-detail" tabindex="-1"><a class="header-anchor" href="#_2-5-debug-ipv6-dhcp-detail" aria-hidden="true">#</a> 2.5 debug ipv6 dhcp detail</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>debug ipv6 dhcp detail no debug ipv6 dhcp detail</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793ADHCPv6\u6536\u53D1\u5404\u7C7B\u62A5\u6587\u8BE6\u7EC6\u5185\u5BB9\u7684 debug \u663E\u793A\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u5173\u95ED DHCPv6 \u6536\u53D1\u62A5\u6587\u5185\u5BB9\u7684 debug \u663E\u793A\u4FE1\u606F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u8C03\u8BD5\u5F00\u5173\u662F\u5173\u95ED\u7684</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch# debug ipv6 dhcp detail
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-6-debug-ipv6-dhcp-relay-packet" tabindex="-1"><a class="header-anchor" href="#_2-6-debug-ipv6-dhcp-relay-packet" aria-hidden="true">#</a> 2.6 debug ipv6 dhcp relay packet</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>debug ipv6 dhcp relay packet no debug ipv6 dhcp relay packet</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A DHCPv6 \u4E2D\u7EE7\u4EE3\u7406\u6536\u53D1\u62A5\u6587\u7684 debug \u663E\u793A\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u5173\u95ED DHCPv6 \u4E2D\u7EE7\u4EE3\u7406\u7684 debug \u663E\u793A\u4FE1\u606F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u8C03\u8BD5\u5F00\u5173\u662F\u5173\u95ED\u7684</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch# debug ipv6 dhcp relay packet
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-7-debug-ipv6-dhcp-server" tabindex="-1"><a class="header-anchor" href="#_2-7-debug-ipv6-dhcp-server" aria-hidden="true">#</a> 2.7 debug ipv6 dhcp server</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>debug ipv6 dhcp server {event | packet} no debug ipv6 dhcp server {event | packet}</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A DHCPv6 \u670D\u52A1\u5668\u7684\u4E8B\u4EF6\u548C\u6536\u53D1\u62A5\u6587\u7684\u60C5\u51B5\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u5173\u95ED DHCPv6 \u670D\u52A1\u5668\u7684 debug \u663E\u793A\u4FE1\u606F</p></li><li><p>\u53C2\u6570\uFF1Aevent \u8868\u793A\u5F00\u542F/\u5173\u95ED DHCPv6 \u670D\u52A1\u5668\u4E8B\u4EF6\u7684 debug \u663E\u793A\uFF0C\u5982\u5730\u5740\u5206\u914D\u60C5\u51B5\uFF1Bpacket \u8868\u793A\u5F00\u542F/\u5173\u95ED DHCPv6 \u670D\u52A1\u5668\u6536\u53D1\u62A5\u6587\u7684 debug \u663E\u793A</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u8C03\u8BD5\u5F00\u5173\u662F\u5173\u95ED\u7684</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#debug ipv6 dhcp server packet
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-8-dns-server" tabindex="-1"><a class="header-anchor" href="#_2-8-dns-server" aria-hidden="true">#</a> 2.8 dns-server</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>dns-server &lt;ipv6-address&gt; no dns-server &lt;ipv6-address&gt;</code></p></li><li><p>\u529F\u80FD\uFF1A\u4E3ADHCPv6\u5BA2\u6237\u673A\u914D\u7F6E DNS \u670D\u52A1\u5668 IPv6 \u5730\u5740\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664 DNS \u670D\u52A1\u5668 IPv6 \u5730\u5740</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;ipv6-address&gt;</code>\u4E3ADNS\u670D\u52A1\u5668\u7684 IPv6 \u5730\u5740</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u6CA1\u6709\u914D\u7F6E\u5730\u5740\u6C60\u7684DNS\u670D\u52A1\u5668\u5730\u5740</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCPv6 \u5730\u5740\u6C60\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u672C\u547D\u4EE4\u6700\u591A\u53EF\u914D\u7F6E3\u6B21\uFF0C\u5373\u6BCF\u4E2A\u5730\u5740\u6C60\u6700\u591A\u5141\u8BB83\u4E2A DNS \u670D\u52A1\u5668\u5730\u5740\uFF0C\u800C\u4E14\u670D\u52A1\u5668\u5730\u5740\u53EA\u80FD\u662F IPv6 \u5730\u5740</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCPv6 \u5BA2\u6237\u673A\u7684DNS\u670D\u52A1\u5668\u7684\u5730\u5740\u4E3A2001:da8::1</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-1-config)#dns-server 2001:da8::1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-9-domain-name" tabindex="-1"><a class="header-anchor" href="#_2-9-domain-name" aria-hidden="true">#</a> 2.9 domain-name</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>domain-name &lt;domain-name&gt; no domain-name &lt;domain-name&gt;</code></p></li><li><p>\u529F\u80FD\uFF1A\u4E3A DHCPv6 \u5BA2\u6237\u673A\u914D\u7F6E\u57DF\u540D\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u57DF\u540D</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;domain-name&gt;</code> \u4E3A\u57DF\u7684\u540D\u79F0\uFF0C\u6700\u957F\u4E0D\u8D85\u8FC732\u5B57\u7B26</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCPv6 \u5730\u5740\u6C60\u6A21\u5F0F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u6CA1\u6709\u914D\u7F6E\u5730\u5740\u6C60\u7684\u57DF\u540D\u53C2\u6570</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u672C\u547D\u4EE4\u6700\u591A\u53EF\u914D\u7F6E 3 \u6B21\uFF0C\u5373\u6BCF\u4E2A\u5730\u5740\u6C60\u6700\u591A\u5141\u8BB8 3 \u4E2A\u57DF\u540D\u53C2\u6570</p></li><li><p>\u4E3E\u4F8B\uFF1A\u6307\u5B9A DHCPv6 \u5BA2\u6237\u673A\u7684\u57DF\u540D\u4E3A test.com.cn</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-1-config)#domain-name test.com.cn
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-10-excluded-address" tabindex="-1"><a class="header-anchor" href="#_2-10-excluded-address" aria-hidden="true">#</a> 2.10 excluded-address</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>excluded-address &lt;ipv6-address&gt; no excluded-address &lt;ipv6-address&gt;</code></p></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u5730\u5740\u6C60\u4E2D\u4E0D\u7528\u4E8E\u52A8\u6001\u5206\u914D\u7684 IPv6 \u5730\u5740\uFF0C\u4EE5\u907F\u514D\u67D0\u4E9B\u4E13\u7528\u5730\u5740\u4E0D\u88AB\u5206\u914D\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u53D6\u6D88\u8BE5\u9879\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;ipv6-address&gt;</code> \u4E3A\u4E0D\u7528\u4E8E\u52A8\u6001\u5206\u914D\u7684\u5730\u5740\u6C60\u4E2D\u7684\u67D0\u4E2A IPv6 \u5730\u5740</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u5730\u5740\u6C60\u7F3A\u7701\u6CA1\u6709\u914D\u7F6E\u4E0D\u7528\u4E8E\u52A8\u6001\u5206\u914D\u7684 IPv6 \u5730\u5740\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCPv6 \u5730\u5740\u6C60\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u4F7F\u7528\u672C\u547D\u4EE4\u53EF\u4EE5\u5C06\u5730\u5740\u6C60\u4E2D\u7684\u4E00\u4E2A\u6216\u591A\u4E2A\u5730\u5740\u6392\u9664\u4E0D\u505A DHCPv6 \u5206\u914D\uFF0C\u8FD9\u4E9B\u5730\u5740\u7531\u7CFB\u7EDF\u7BA1\u7406\u5458\u7559\u4F5C\u5176\u5B83\u7528\u9014\u3002\u672C\u547D\u4EE4\u5728\u4E00\u4E2A\u5730\u5740\u6C60\u4E2D\u53EF\u4EE5\u914D\u7F6E\u591A\u6B21</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5C06 2001:da8:123::1 \u5730\u5740\u4FDD\u7559\uFF0C\u4E0D\u7528\u4E8E\u52A8\u6001\u5206\u914D\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#excluded-address 2001:da8:123::1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-11-ipv6-address" tabindex="-1"><a class="header-anchor" href="#_2-11-ipv6-address" aria-hidden="true">#</a> 2.11 ipv6 address</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 address &lt;prefix-name&gt; &lt;ipv6-prefix/prefix-length&gt; no ipv6 address &lt;prefix-name&gt; &lt;ipv6-prefix/prefix-length&gt;</code></p></li><li><p>\u529F\u80FD\uFF1A\u5728\u6307\u5B9A\u63A5\u53E3\u4E0A\u914D\u7F6E\u4F7F\u7528\u4EE3\u7406\u524D\u7F00\u751F\u6210\u7684 IPv6 \u5730\u5740\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u5728\u6307\u5B9A\u63A5\u53E3\u4E0A\u5220\u9664\u4F7F\u7528\u4EE3\u7406\u524D\u7F00\u751F\u6210\u7684 IPv6 \u5730\u5740</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;prefix-name&gt;</code>\u662F\u4E00\u4E2A\u957F\u5EA6\u5C0F\u4E8E32\u7684\u5B57\u7B26\u4E32\uFF0C\u8868\u793A\u524D\u7F00\u8BF7\u6C42\u5BA2\u6237\u7AEF\u83B7\u5F97\u524D\u7F00\u6216\u624B\u52A8\u914D\u7F6E\u800C\u4FDD\u5B58\u5728\u901A\u7528\u524D\u7F00\u6C60\u4E2D\u7684\u524D\u7F00\u540D\u3002<code>&lt;ipv6-prefix/prefix-length&gt;</code>\u8868\u793A IPv6 \u5730\u5740\u4E2D\u6392\u9664<code>&lt;prefix-name&gt;</code>\u524D\u7F00\u90E8\u5206\u7684\u540E\u7EED\u5730\u5740\u4F4D</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u63A5\u53E3\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4E0D\u5728\u63A5\u53E3\u914D\u7F6E\u5168\u5C40\u5730\u5740</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u63A5\u53E3IPv6\u5730\u5740\u5C06\u7531<code>&lt;prefix-name&gt;</code>\u548C<code>&lt;ipv6-prefix/prefix-length&gt;</code>\u7EC4\u5408\u800C\u6210\uFF0C\u6700\u7EC8 IPv6 \u5730\u5740\u7684\u524D\u7F00\u957F\u5EA6\u5C06\u7531<code>&lt;prefix-length&gt;</code>\u6307\u5B9A\u3002\u5982\u679C\u5F00\u542F\u4E86\u8DEF\u7531\u5668\u516C\u544A\uFF0C\u5C06\u516C\u544A\u524D64\u4F4D\u524D\u7F00\u3002\u7CFB\u7EDF\u5728\u63A5\u53E3\u4E0A\u5220\u9664\u7531<code>&lt;prefix-name&gt;</code>\u548C<code>&lt;ipv6-prefix/prefix-length&gt;</code>\u7EC4\u5408\u800C\u6210\u7684 IPv6 \u5730\u5740\uFF0C\u5E76\u505C\u6B62\u516C\u544A\u8BE5\u524D\u7F00\u3002\u4E00\u4E2A\u63A5\u53E3\u7684\u4E00\u4E2A\u524D\u7F00\u540D\u53EA\u80FD\u914D\u7F6E\u552F\u4E00\u7684<code>&lt;ipv6-prefix/prefix-length&gt;</code>.</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5982\u679C\u524D\u7F00\u540D my-prefix \u8868\u793A 2001:da8:221::/48\uFF0C\u672C\u547D\u4EE4\u5C06\u5728 Vlan1 \u63A5\u53E3\u751F\u6210 2001:da8:221:2008::2008</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config-if-Vlan1)# ipv6 address my-prefix 0:0:0:2008::2008/64
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-12-ipv6-dhcp-client-pd" tabindex="-1"><a class="header-anchor" href="#_2-12-ipv6-dhcp-client-pd" aria-hidden="true">#</a> 2.12 ipv6 dhcp client pd</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp client pd &lt;prefix-name&gt; [rapid-commit] no ipv6 dhcp client pd</code></p></li><li><p>\u529F\u80FD\uFF1A\u5728\u6307\u5B9A\u63A5\u53E3\u4E0A\u542F\u52A8\u5BA2\u6237\u7AEF\u524D\u7F00\u4EE3\u7406\u8BF7\u6C42\u529F\u80FD\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u5728\u6307\u5B9A\u63A5\u53E3\u4E0A\u5173\u95ED\u5BA2\u6237\u7AEF\u524D\u7F00\u4EE3\u7406\u8BF7\u6C42\u529F\u80FD\uFF0C\u5E76\u5220\u9664\u83B7\u5F97\u7684\u524D\u7F00</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;prefix-name&gt;</code>\u662F\u4E00\u4E2A\u957F\u5EA6\u5C0F\u4E8E32\u7684\u5B57\u7B26\u4E32\uFF0C\u8868\u793A\u6210\u529F\u83B7\u5F97\u4EE3\u7406\u524D\u7F00\u540E\uFF0C\u4F7F\u7528\u8BE5\u540D\u79F0\u4FDD\u5B58\u5728\u901A\u7528\u524D\u7F00\u6C60\u4E2D\u3002\u5982\u679C\u6307\u5B9A\u4E86 rapid-commit \u9009\u9879\uFF0C\u4E14\u524D\u7F00\u4EE3\u7406\u670D\u52A1\u5668\u7AEF\u4E5F\u4F7F\u80FD\u4E86 rapid-commmit \u529F\u80FD\uFF0C\u5219\u524D\u7F00\u4EE3\u7406\u670D\u52A1\u5668\u5C06\u5411\u524D\u7F00\u8BF7\u6C42\u5BA2\u6237\u7AEF\u76F4\u63A5\u53D1\u51FA REPLY \u62A5\u6587\uFF0C\u901A\u8FC7\u4E00\u6B21\u6D88\u606F\u4EA4\u6362\u5B8C\u6210\u524D\u7F00\u4EE3\u7406\u8BF7\u6C42\u8FC7\u7A0B</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u63A5\u53E3\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4E0D\u542F\u52A8\u5BA2\u6237\u7AEF\u524D\u7F00\u4EE3\u7406\u8BF7\u6C42\u529F\u80FD\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u7CFB\u7EDF\u5728\u63A5\u53E3\u4E0A\u542F\u52A8\u5BA2\u6237\u7AEF\u524D\u7F00\u4EE3\u7406\u8BF7\u6C42\u529F\u80FD\uFF0C\u53D1\u51FA SOLICIT \u62A5\u6587\uFF0C\u5E0C\u671B\u4ECE\u670D\u52A1\u5668\u83B7\u5F97\u4EE3\u7406\u524D\u7F00\u3002\u4E00\u65E6\u83B7\u5F97\u4E86\u524D\u7F00\uFF0C\u5C31\u53EF\u4EE5\u901A \u8FC7\u5176\u4ED6\u547D\u4EE4\uFF08\u6BD4\u5982ipv6 address \u547D\u4EE4\uFF09\u5F15\u7528\u901A\u7528\u524D\u7F00\u6C60\u4E2D\u7684\u8FD9\u4E2A\u524D\u7F00\u3002\u672C\u547D\u4EE4\u4E0E ipv6 dhcp server \u548C ipv6 dhcp relay de stination \u547D\u4EE4\u4E92\u65A5\u3002\u5982\u679C\u7CFB\u7EDF\u5728\u63A5\u53E3\u4E0A\u5173\u95ED\u5BA2\u6237\u7AEF\u524D\u7F00\u4EE3\u7406\u8BF7\u6C42\u529F\u80FD\uFF0C\u5219\u4ECE\u901A\u7528\u524D\u7F00\u6C60\u4E2D\u5220\u9664\u83B7\u5F97\u7684\u524D\u7F00\uFF0C\u540C\u65F6\u5220\u9664\u4F7F\u7528\u8BE5\u524D\u7F00\u751F\u6210 \u7684\u63A5\u53E3\u5730\u5740\uFF0C\u4E0D\u518D\u4F7F\u7528\u8BE5\u524D\u7F00\u8FDB\u884C\u8DEF\u7531\u516C\u544A\u3002\u5982\u679C\u5DF2\u7ECF\u901A\u8FC7 ipv6general-prefix \u547D\u4EE4\u914D\u7F6E\u4E86\u540C\u4E00\u901A\u7528\u524D\u7F00\u540D\uFF0C\u5219\u4E0D\u80FD\u6CE8\u518C\u6B64\u901A\u7528\u524D\u7F00\u540D\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config-if-Vlan1)#ipv6 dhcp client pd ClientA rapid-commit
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-13-ipv6-dhcp-client-pd-hint" tabindex="-1"><a class="header-anchor" href="#_2-13-ipv6-dhcp-client-pd-hint" aria-hidden="true">#</a> 2.13 ipv6 dhcp client pd hint</h3><ul><li>\u547D\u4EE4\uFF1A<code>ipv6 dhcp client pd hint &lt;prefix|prefix-length&gt; no ipv6 dhcp client pd hint &lt;prefix|prefix-length&gt;</code></li><li>\u529F\u80FD\uFF1A\u5728\u6307\u5B9A\u63A5\u53E3\u4E0A\u6307\u5B9A\u5BA2\u6237\u7AEF\u5E0C\u671B\u83B7\u53D6\u7684\u524D\u7F00\u548C\u524D\u7F00\u957F\u5EA6\u7684\u529F\u80FD\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u5728\u6307\u5B9A\u63A5\u53E3\u4E0A\u5220\u9664\u5BA2\u6237\u7AEF\u5E0C\u671B\u83B7\u53D6\u7684\u524D\u7F00\u548C\u524D\u7F00\u957F\u5EA6</li><li>\u53C2\u6570\uFF1A<code>&lt;prefix|prefix-length&gt;</code> \u8868\u793A\u5BA2\u6237\u7AEF\u5E0C\u671B\u83B7\u53D6\u7684\u524D\u7F00\u548C\u524D\u7F00\u957F\u5EA6</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u63A5\u53E3\u914D\u7F6E\u6A21\u5F0F</li><li>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4E0D\u6307\u5B9A\u5BA2\u6237\u7AEF\u5E0C\u671B\u83B7\u53D6\u7684\u524D\u7F00\u548C\u524D\u7F00\u957F\u5EA6\u7684\u529F\u80FD</li><li>\u4F7F\u7528\u6307\u5357\uFF1A\u7CFB\u7EDF\u5728\u63A5\u53E3\u4E0A\u4E3A\u5BA2\u6237\u7AEF\u6307\u5B9A\u4E86\u5176\u5E0C\u671B\u83B7\u53D6\u7684\u524D\u7F00\u548C\u524D\u7F00\u957F\u5EA6\uFF0C\u5982\u679C\u5728\u63A5\u53E3\u4E0A\u542F\u52A8\u4E86\u5BA2\u6237\u7AEF\u524D\u7F00\u4EE3\u7406\u8BF7\u6C42\u529F\u80FD\u4E14\u524D\u7F00\u670D\u52A1\u5668\u4F7F\u80FD\u4E86 hint \u529F\u80FD\uFF0C\u5219\u670D\u52A1\u5668\u7AEF\u4F18\u5148\u628A\u5BA2\u6237\u7AEF\u5E0C\u671B\u83B7\u53D6\u5F97\u524D\u7F00\u548C\u524D\u7F00\u957F\u5EA6\u5206\u914D\u7ED9\u5BA2\u6237\u7AEF\u3002\u7CFB\u7EDF\u76EE\u524D\u53EA\u5141\u8BB8\u914D\u7F6E\u4E00\u4E2A hint \u524D\u7F00</li><li>\u4E3E\u4F8B\uFF1A<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(vlan-1-config)#ipv6 dhcp client pd hint 2001::/48
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-14-ipv6-dhcp-pool" tabindex="-1"><a class="header-anchor" href="#_2-14-ipv6-dhcp-pool" aria-hidden="true">#</a> 2.14 ipv6 dhcp pool</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp pool &lt;poolname&gt; no ipv6 dhcp pool &lt;poolname&gt;</code></p></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E DHCPv6 \u5730\u5740\u6C60\uFF0C\u8FDB\u5165 DHCPv6 \u5730\u5740\u6C60\u6A21\u5F0F\uFF0C\u5728\u6B64\u6A21\u5F0F\u4E0B\u914D\u7F6E\u53EF\u5206\u914D\u7ED9\u5BA2\u6237\u7AEF\u7684\u5730\u5740\u524D\u7F00\u3001DNS \u670D\u52A1\u5668\u3001\u57DF\u540D\u7B49\u4FE1\u606F\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u8BE5\u5730\u5740\u6C60</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;poolname&gt;</code>\u4E3ADHCPv6\u5730\u5740\u6C60\u540D\uFF0C\u6700\u957F\u4E0D\u8D85\u8FC732\u4E2A\u5B57\u7B26</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4E0D\u914D\u7F6E\u4EFB\u4F55DHCPv6\u5730\u5740\u6C60</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u5728\u5168\u5C40\u6A21\u5F0F\u4E0B\u5B9A\u4E49\u4E00\u4E2A DHCPv6 \u5730\u5740\u6C60\uFF0C\u8FDB\u5165\u5230 DHCPv6 \u5730\u5740\u6C60\u914D\u7F6E\u6A21\u5F0F\u3002\u5982\u679C\u60F3\u8981\u5220\u9664\u4E00\u4E2A\u5730\u5740\u6C60\uFF0C\u5219\u9700\u8981\u5148\u89E3\u9664\u4E0E\u8BE5\u5730\u5740\u76F8\u5173\u7684\u63A5\u53E3\u7ED1\u5B9A\uFF0C\u5E76\u4E14\u6E05\u9664\u6240\u6709\u76F8\u5173\u7684\u5730\u5740\u7ED1\u5B9A</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5B9A\u4E49\u4E00\u4E2A\u5730\u5740\u6C60\uFF0C\u53D6\u540D1\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ipv6 dhcp pool 1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-15-ipv6-dhcp-relay-destination" tabindex="-1"><a class="header-anchor" href="#_2-15-ipv6-dhcp-relay-destination" aria-hidden="true">#</a> 2.15 ipv6 dhcp relay destination</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp relay destination { [&lt;ipv6-address&gt;] [ interface { &lt;interface-name&gt; | vlan &lt;1-4096&gt; } ] } no ipv6 dhcp relay destination { [&lt;ipv6-address&gt;] [ interface { &lt;interface-name&gt; | vlan &lt;1-4096&gt; } ] }</code></p></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E DHCPv6 \u63A5\u53E3\u4E2D\u7EE7\u4EE3\u7406\u4E3A\u5BA2\u6237\u7AEF\u9012\u4EA4\u4E2D\u7EE7\u62A5\u6587\u7684\u76EE\u7684 IPv6 \u5730\u5740\uFF0C\u53EF\u4EE5\u662F\u53E6\u5916\u7684 DHCPv6 \u4E2D\u7EE7\u4EE3\u7406\u7684\u5730\u5740\u4E5F\u53EF\u4EE5\u662F DHCPv6 \u670D\u52A1\u5668\u7684\u5730\u5740\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u53D6\u6D88\u8BE5\u9879\u914D\u7F6E\u3002</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;ipv6-address&gt;</code>\u4E3ADHCPv6\u4E2D\u7EE7\u4EE3\u7406\u8F6C\u53D1\u4E2D\u7EE7\u62A5\u6587\u7684\u76EE\u7684 IPv6 \u5730\u5740\uFF1B<code>&lt;interface-name&gt;</code>\u6216 vlan \u53C2\u6570\u662F\u8F6C\u53D1\u51FA\u62A5\u6587\u7684\u4EA4\u6362\u673A\u63A5\u53E3\u540D\u6216\u63A5\u53E3\u53F7\uFF0C<code>&lt;interface-name&gt;</code>\u53EA\u80FD\u4E3A\u4E09\u5C42\u63A5\u53E3 vlan \u540D\u79F0\uFF0Cvlan \u63A5\u53E3\u53F7\u7684\u53D6\u503C\u8303\u56F4\u4E3A1\uFF5E4096\u3002\u5F53<code>&lt;ipv6-address&gt;</code>\u4E3A\u5168\u7403\u5355\u64AD\u5730\u5740\u65F6\uFF0C\u4E0D\u914D\u7F6E\u8F6C\u53D1\u7684\u63A5\u53E3\u53C2\u6570\uFF1B\u5F53<code>&lt;ipv6-address&gt;</code>\u4E3A\u672C\u5730\u94FE\u8DEF\u5730\u5740\u65F6\uFF0C\u5FC5\u987B\u914D\u7F6E\u8F6C\u53D1\u7684\u63A5\u53E3\u540D\u79F0\uFF1B\u5F53\u53EA\u914D\u7F6E\u62A5\u6587\u8F6C\u53D1\u51FA\u7684\u63A5\u53E3\u540D\u79F0\u65F6\uFF0C\u6B64\u65F6\u9ED8\u8BA4\u8F6C\u53D1\u76EE\u7684\u5730\u5740\u4E3A\u6240\u6709 DHCPv6 \u670D\u52A1\u5668\u7684\u672C\u5730\u7AD9\u70B9\u591A\u64AD\u5730\u5740 All_DHCP_Servers (FF05::1:3)\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u63A5\u53E3\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u6CA1\u6709\u914D\u7F6E DHCPv6 \u4E2D\u7EE7\u4EE3\u7406\u7684\u76EE\u7684 IPv6 \u5730\u5740\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u914D\u7F6E\u672C\u547D\u4EE4\u6307\u793A\u672C\u63A5\u53E3\u542F\u7528 DHCPv6 \u4E2D\u7EE7\u4EE3\u7406\u529F\u80FD\uFF0C\u4EE5\u540E\u628A\u914D\u7F6E\u7684\u5730\u5740\u4F5C\u4E3A RELAY-FORWARD \u62A5\u6587\u7684\u76EE\u7684\u5730\u5740\uFF0C\u8BE5\u5730\u5740\u53EF\u4EE5\u662F\u53E6\u5916\u7684 DHCPv6 \u4E2D\u7EE7\u4EE3\u7406\u7684\u5730\u5740\u4E5F\u53EF\u4EE5\u662F DHCPv6 \u670D\u52A1\u5668\u7684\u5730\u5740\u3002\u7CFB\u7EDF\u6700\u591A\u5141\u8BB8\u914D\u7F6E3\u4E2A\u4E2D\u7EE7\u4EE3\u7406\u7684\u76EE\u7684\u5730\u5740\u3002\u6CE8\u610F\u53EA\u6709\u8BE5\u63A5\u53E3\u6240\u6709 DHCPv6 \u4E2D\u7EE7\u4EE3\u7406\u7684\u76EE\u7684\u5730\u5740\u90FD\u88AB\u5220\u9664\uFF0C\u8BE5\u63A5\u53E3\u7684 DHCPv6 \u4E2D\u7EE7\u4EE3\u7406\u529F\u80FD\u624D\u4E0D\u53EF\u7528\u3002\u672C\u547D\u4EE4\u4E0E ipv6 dhcp server \u548C ipv6 dhcp client pd \u547D\u4EE4\u4E92\u65A5</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config-if-Vlan1)#ipv6 dhcp relay destination 2001:da8::1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-16-ipv6-dhcp-server" tabindex="-1"><a class="header-anchor" href="#_2-16-ipv6-dhcp-server" aria-hidden="true">#</a> 2.16 ipv6 dhcp server</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp server &lt;poolname&gt; [preference &lt;value&gt;] [rapid-commit] [allow-hint] no ipv6 dhcp server &lt;poolname&gt;</code></p></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u672C\u547D\u4EE4\u7ED1\u5B9A\u4E86 DHCPv6 \u670D\u52A1\u5668\u5728\u63A5\u53E3\u4F7F\u7528\u7684 DHCPv6 \u5730\u5740\u6C60\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u5220\u9664\u6307\u5B9A\u63A5\u53E3\u4E0A\u7684 DHCPv6 \u5730\u5740\u6C60\uFF0C\u505C\u6B62\u672C\u63A5\u53E3\u7684 DHCPv6 \u670D\u52A1</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;poolname&gt;</code> \u662F\u4E00\u4E2A\u957F\u5EA6\u5C0F\u4E8E32\u7684\u5B57\u7B26\u4E32\uFF0C\u8868\u793A\u4E0E\u672C\u63A5\u53E3\u5173\u8054\u7684 DHCPv6 \u5730\u5740\u6C60\u540D\u79F0\u3002\u5982\u679C\u6307\u5B9A\u4E86 rapid-commit \u9009\u9879\uFF0C\u5219DHCPv6\u670D\u52A1\u5668\u6536\u5230\u5BA2\u6237\u7AEF\u7684 SOLICIT \u62A5\u6587\u540E\uFF0C\u5411\u5BA2\u6237\u7AEF\u76F4\u63A5\u53D1\u51FA REPLY \u62A5\u6587\uFF0C\u901A\u8FC7\u4E00\u6B21\u6D88\u606F\u4EA4\u6362\u5B8C\u6210\u5730\u5740\u6216\u524D\u7F00\u8BF7\u6C42\u8FC7\u7A0B\u3002\u5982\u679C\u6307\u5B9A\u4E86 preference \u9009\u9879\uFF0C\u5219<code>&lt;value&gt;</code>\u8868\u793A\u672C\u670D\u52A1\u5668\u7684\u4F18\u5148\u503C\uFF0C\u53D6\u503C\u8303\u56F4\u662F 0\uFF5E255\uFF0C\u9ED8\u8BA4\u503C\u662F 0\uFF0C\u503C\u8D8A\u5927\u670D\u52A1\u5668\u4F18\u5148\u7EA7\u8D8A\u9AD8\u3002\u5982\u679C\u6307\u5B9A\u4E86 allow-hint \u9009\u9879\uFF0C\u8868\u793A\u4F18\u5148\u6EE1\u8DB3\u5BA2\u6237\u7AEF\u671F\u671B\u5206\u914D\u7684\u914D\u7F6E\u53C2\u6570\uFF0C\u8FD9\u4E9B\u671F\u671B\u53C2\u6570\u5728\u5BA2\u6237\u7AEF\u53D1\u51FA\u7684\u8BF7\u6C42\u62A5\u6587\u4E2D\u7ED9\u51FA</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u63A5\u53E3\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u6CA1\u6709\u914D\u7F6E\u63A5\u53E3\u7684 DHCPv6 \u5730\u5740\u6C60</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u914D\u7F6E\u672C\u547D\u4EE4\u8BB0\u5F55\u4E86 DHCPv6 \u670D\u52A1\u5668\u5728\u63A5\u53E3\u4F7F\u7528\u7684 DHCPv6 \u5730\u5740\u6C60\uFF0C\u53CA\u5728\u8BE5\u63A5\u53E3\u63D0\u4F9B DHCPv6 \u670D\u52A1\u7684\u76F8\u5173\u53C2\u6570\u3002\u4E00\u4E2A\u63A5\u53E3\u4E0A\u53EF\u4EE5\u7ED1\u5B9A\u591A\u4E2A DHCPv6 \u5730\u5740\u6C60\uFF0C\u53EF\u4EE5\u540C\u65F6\u4E3A\u76F4\u8FDE\u94FE\u8DEF\u7684 DHCPv6 \u8BF7\u6C42\u4EE5\u53CA\u6765\u81EA\u4E2D\u7EE7\u4EE3\u7406\u7684 DHCPv6 \u8BF7\u6C42\u62A5\u6587\u5206\u914D\u5730\u5740</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config-if-Vlan1)#ipv6 dhcp server PoolA preference 80 rapid-commit allow-hint
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-17-ipv6-general-prefix" tabindex="-1"><a class="header-anchor" href="#_2-17-ipv6-general-prefix" aria-hidden="true">#</a> 2.17 ipv6 general-prefix</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 general-prefix &lt;prefix-name&gt; &lt;ipv6-prefix/prefix-length&gt; no ipv6 general-prefix &lt;prefix-name&gt;</code></p></li><li><p>\u529F\u80FD\uFF1A\u5B9A\u4E49\u4E00\u4E2AIPv6 \u901A\u7528\u524D\u7F00\u3002\u672C\u547D\u4EE4\u7684no\u64CD\u4F5C\u53D6\u6D88\u8BE5\u9879\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;prefix-name&gt;</code>\u662F\u4E00\u4E2A\u957F\u5EA6\u5C0F\u4E8E32\u7684\u5B57\u7B26\u4E32\uFF0C\u8868\u793A IPv6 \u901A\u7528\u524D\u7F00\u540D\u79F0\u3002<code>&lt;ipv6-prefix/prefix-length&gt;</code>\u8868\u793A\u5B9A\u4E49\u7684 IPv6 \u901A\u7528\u524D\u7F00</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u6CA1\u6709\u914D\u7F6E IPv6 \u901A\u7528\u524D\u7F00</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u5B9A\u4E49\u4E86 IPv6 \u901A\u7528\u524D\u7F00\u540E\uFF0C\u5728\u63A5\u53E3\u4E0A\u53EF\u4EE5\u5F15\u7528\u8BE5\u901A\u7528\u524D\u7F00\u751F\u6210\u63A5\u53E3 IPv6 \u5730\u5740\u3002\u5728\u4F7F\u7528\u4E0A\u901A\u7528\u524D\u7F00\u4E00\u822C\u8868\u793A\u4F01\u4E1A\u7EA7\u7684 IPv6 \u524D\u7F00\uFF0C\u8FD9\u6837\u5728\u63A5\u53E3\u4E0A\u8F93\u5165\u5730\u5740\u65F6\u53EA\u9700\u8981\u7ED9\u51FA\u901A\u7528\u524D\u7F00\u540D\u52A0\u4E0A\u63A5\u53E3\u524D\u7F00\u540E\u7EED\u90E8\u5206\uFF0C\u7B80\u5316\u4E86\u7528\u6237\u4E66\u5199\u3002\u5B9A\u4E49\u7684\u901A\u7528\u524D\u7F00\u5C06\u4FDD\u5B58\u5728\u901A\u7528\u524D\u7F00\u6C60\u4E2D\u3002\u7CFB\u7EDF\u6700\u591A\u53EF\u914D\u7F6E 8 \u4E2A\u901A\u7528\u524D\u7F00\u3002\u5F53\u5220\u9664\u6307\u5B9A\u7684\u901A\u7528\u524D\u7F00\u540D\u79F0\u65F6\uFF0C\u5982\u679C\u6709\u63A5\u53E3\u5F15\u7528\u4E86\u8FD9\u4E2A\u901A\u7528\u524D\u7F00\uFF0C\u672C\u547D\u4EE4\u6267\u884C\u4E0D\u6210\u529F\u3002\u4E00\u4E2A\u901A\u7528\u524D\u7F00\u540D\u53EA\u80FD\u914D\u7F6E\u4E00\u4E2A\u901A\u7528\u524D\u7F00\u3002\u5982\u679C\u6709\u63A5\u53E3\u4F7F\u80FD IPv6 dhcp \u524D\u7F00\u4EE3\u7406\u5BA2\u6237\u7AEF\u5360\u7528\u4E86\u901A\u7528\u524D\u7F00\u540D\uFF0C\u5219\u4E0D\u80FD\u4F7F\u7528\u6B64\u547D\u4EE4\u914D\u7F6E\u76F8\u540C\u7684\u901A\u7528\u524D\u7F00\u540D</p></li><li><p>\u4E3E\u4F8B\uFF1A\u628A 2001:da8:221::/48 \u524D\u7F00\u5206\u914D\u7ED9\u901A\u7528\u524D\u7F00\u540D my-prefix</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)# ipv6 general-prefix my-prefix 2001:da8:221::/48
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-18-ipv6-local-pool" tabindex="-1"><a class="header-anchor" href="#_2-18-ipv6-local-pool" aria-hidden="true">#</a> 2.18 ipv6 local pool</h3><ul><li>\u547D\u4EE4\uFF1A<code>ipv6 local pool &lt;poolname&gt; &lt;prefix/prefix-length&gt; &lt;assigned-length&gt; no ipv6 local pool &lt;poolname&gt;</code></li><li>\u529F\u80FD\uFF1A\u914D\u7F6E IPv6 \u4EE3\u7406\u524D\u7F00\u6C60\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u5220\u9664 IPv6 \u4EE3\u7406\u524D\u7F00\u6C60</li><li>\u53C2\u6570\uFF1A<code>&lt;poolname&gt;</code>\u8868\u793A IPv6 \u4EE3\u7406\u524D\u7F00\u6C60\u7684\u540D\u5B57\uFF0C\u5B83\u662F\u957F\u5EA6\u5C0F\u4E8E 32 \u7684\u5B57\u7B26\u4E32\u3002<code>&lt;prefix/prefix-length&gt;</code>\u8868\u793A\u5206\u914D\u7ED9\u8FD9\u4E2A\u4EE3\u7406\u524D\u7F00\u6C60\u7684\u524D\u7F00\u548C\u524D\u7F00\u957F\u5EA6\u3002<code>&lt;assigned-length&gt;</code>\u8868\u793A\u5206\u914D\u7ED9\u4F7F\u7528\u8FD9\u4E2A\u4EE3\u7406\u524D\u7F00\u6C60\u7684\u524D\u7F00\u8BF7\u6C42\u5BA2\u6237\u7AEF\u7684\u524D\u7F00\u957F\u5EA6\uFF0C\u5B83\u4E0D\u80FD\u5C0F\u4E8E<code>&lt;prefix-length&gt;</code></li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</li><li>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u6CA1\u6709\u914D\u7F6E IPv6 \u4EE3\u7406\u524D\u7F00\u6C60</li><li>\u4F7F\u7528\u6307\u5357\uFF1A\u672C\u547D\u4EE4\u5C06\u4E0E prefix-degation pool \u547D\u4EE4\u914D\u5408\u4F7F\u7528\uFF0C\u5411\u524D\u7F00\u8BF7\u6C42\u5BA2\u6237\u7AEF\u5206\u914D\u524D\u7F00\u3002\u5220\u9664 IPv6 \u4EE3\u7406\u524D\u7F00\u6C60\u540E\uFF0C\u5730\u5740\u6C60\u4E2D\u4E0E\u4E4B\u5173\u8054\u7684 prefix-delegation \u547D\u4EE4\u5C06\u65E0\u6548\u3002</li></ul><h3 id="_2-19-lifetime" tabindex="-1"><a class="header-anchor" href="#_2-19-lifetime" aria-hidden="true">#</a> 2.19 lifetime</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>lifetime {&lt;valid-time&gt; | infinity} {&lt;preferred-time&gt; | infinity} no lifetime</code></p></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E DHCPv6 \u5730\u5740\u6C60\u52A8\u6001\u5206\u914D\u5730\u5740\u6216\u524D\u7F00\u7684\u751F\u5B58\u671F\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u6062\u590D\u9ED8\u8BA4\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;valid-time&gt;</code> \u548C<code>&lt;preferred-time&gt;</code>\u5206\u522B\u4E3A\u672C\u5730\u5740\u6C60\u5206\u914D IPv6 \u5730\u5740\u7684\u6709\u6548\u751F\u5B58\u671F\u548C\u4F18\u9009\u751F\u5B58\u671F\uFF0C\u5355\u4F4D\u4E3A\u79D2\uFF0C\u53D6\u503C\u8303\u56F4\u662F 1-31536000\uFF0C\u4F46<code>&lt;preferred-time&gt;</code>\u5FC5\u987B\u4E0D\u5927\u4E8E<code>&lt;valid-time&gt;</code>\u3002\u53C2\u6570 infinity \u8868\u793A\u751F\u5B58\u671F\u4E3A\u65E0\u9650\u503C</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCPv6 \u5730\u5740\u6C60\u6A21\u5F0F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u5730\u5740\u6C60\u6709\u6548\u751F\u5B58\u671F\u548C\u4F18\u9009\u751F\u5B58\u671F\u9ED8\u8BA4\u4E3A 2592000\u79D2(30\u5929) \u548C 604800\u79D2(7\u5929)</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E\u6709\u6548\u751F\u5B58\u671F\u4E3A 1000\u79D2\uFF0C\u4F18\u9009\u751F\u5B58\u671F\u4E3A 600\u79D2</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#lifetime 1000 600
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-20-network-address" tabindex="-1"><a class="header-anchor" href="#_2-20-network-address" aria-hidden="true">#</a> 2.20 network-address</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>network-address &lt;ipv6-pool-start-address&gt; {&lt;ipv6-pool-end-address&gt; | &lt;prefix-length&gt;} [eui-64] no network-address</code></p></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E DHCPv6 \u5730\u5740\u6C60\u53EF\u5206\u914D\u7684 IPv6 \u5730\u5740\u8303\u56F4\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u53D6\u6D88\u8BE5\u9879\u914D\u7F6E</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;ipv6-pool-start-address&gt;</code>\u4E3A\u5730\u5740\u6C60IPv6\u8D77\u59CB\u5730\u5740\uFF1B<code>&lt;ipv6-pool-end-address&gt;</code>\u4E3A\u5730\u5740\u6C60IPv6\u7EC8\u6B62\u5730\u5740\uFF1B<code>&lt;prefix-length&gt;</code>\u4E3A\u524D\u7F00\u957F\u5EA6\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A3-128\uFF0C\u5EFA\u8BAE\u914D\u7F6E\u4E3A64\uFF0C\u4F9D\u636E<code>&lt;prefix-length&gt;</code>\u8BA1\u7B97\u51FA\u5730\u5740\u6C60 IPv6 \u7EC8\u6B62\u5730\u5740\u3002<code>&lt;ipv6-pool-end-address&gt;</code> \u548C<code>&lt;prefix-length&gt;</code>\u4E8C\u8005\u53D6\u5176\u4E00\u3002\u5982\u679C\u914D\u7F6E\u7684<code>&lt;prefix-length&gt;</code>\u4E3A64\uFF0C\u540C\u65F6\u914D\u7F6E\u4E86 eui-64 \u9009\u9879\uFF0C\u5219 DHCPv6 \u670D\u52A1\u5668\u5411\u5BA2\u6237\u7AEF\u5206\u914D\u57FA\u4E8E EUI-64 \u89C4\u8303\u7684 IPv6 \u5730\u5740\uFF0C\u5426\u5219\u5C06\u6309\u81EA\u7136\u987A\u5E8F\u4E3A\u5BA2\u6237\u7AEF\u5206\u914D\u5730\u5740</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1ADHCPv6 \u5730\u5740\u6C60\u9ED8\u8BA4\u6CA1\u6709\u914D\u7F6E\u53EF\u5206\u914D\u7684 IPv6 \u5730\u5740\u8303\u56F4</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCPv6 \u5730\u5740\u6C60\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1ADHCPv6 \u670D\u52A1\u5668\u4F7F\u7528\u672C\u547D\u4EE4\u914D\u7F6E\u53EF\u5206\u914D\u7684 IPv6 \u5730\u5740\u8303\u56F4\uFF0C\u4E00\u4E2A\u5730\u5740\u6C60\u53EA\u80FD\u5206\u914D\u4E00\u4E2A\u5730\u5740\u8303\u56F4\u3002\u6CE8\u610F\u5728\u4F7F\u7528 DHCPv6 \u670D\u52A1\u5668\u5E76\u914D\u7F6E\u524D\u7F00\u957F\u5EA6\u7684\u65F6\u5019\uFF0C\u5E94\u8BE5\u4F7F\u5730\u5740\u6C60\u4E2D\u524D\u7F00\u957F\u5EA6\u5927\u4E8E\u6216\u7B49\u4E8E\u4EA4\u6362\u673A\u4E0A\u5BF9\u5E94\u7F51\u6BB5\u7684\u4E09\u5C42\u63A5\u53E3 IPv6 \u5730\u5740\u7684\u524D\u7F00\u957F\u5EA6\u3002\u5982\u679C<code>&lt;ipv6-pool-end-address&gt;</code>\u6BD4<code>&lt;ipv6-pool-start-address&gt;</code>\u5927\uFF0C\u672C\u547D\u4EE4\u7ACB\u5373\u8FD4\u56DE</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5730\u5740\u6C601\u7684\u53EF\u5206\u914D\u7684\u5730\u5740\u8303\u56F4\u4E3A 2001:da8:123::100-2001:da8:123::200</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-1-config)#network-address 2001:da8:123::100 2001:da8:123::200
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-21-prefix-delegation" tabindex="-1"><a class="header-anchor" href="#_2-21-prefix-delegation" aria-hidden="true">#</a> 2.21 prefix-delegation</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>prefix-delegation &lt;ipv6-prefix/prefix-length&gt; &lt;client-DUID&gt; [iaid &lt;iaid&gt;] [lifetime &lt;valid-time&gt; &lt;preferred-time&gt;] no prefix-delegation &lt;ipv6-prefix/prefix-length&gt; &lt;client-DUID&gt; [iaid &lt;iaid&gt;]</code></p></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u5206\u914D\u7ED9\u7279\u5B9A\u524D\u7F00\u8BF7\u6C42\u5BA2\u6237\u7AEF\u7684\u4EE3\u7406\u524D\u7F00\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u5220\u9664\u5206\u914D\u7ED9\u7279\u5B9A\u524D\u7F00\u8BF7\u6C42\u5BA2\u6237\u7AEF\u7684\u4EE3\u7406\u524D\u7F00</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;ipv6-prefix/prefix-length&gt;</code> \u4E3A\u5206\u914D\u7ED9\u7279\u5B9A\u524D\u7F00\u8BF7\u6C42\u5BA2\u6237\u7AEF\u7684\u4EE3\u7406\u524D\u7F00\u3002<code>&lt;client-DUID&gt;</code> \u4E3A\u6307\u5B9A\u524D\u7F00\u8BF7\u6C42\u5BA2\u6237\u7AEF\u7684 DUID\uFF0C\u672C\u6587\u652F\u6301 DUID-LLT \u7C7B\u578B\u7684 DUID\uFF0C\u5B83\u662F\u957F\u5EA6\u4E3A14\u7684\u5B57\u7B26\u4E32\uFF0C \u540C\u65F6\u652F\u6301 DUID-LL \u7C7B\u578B\u7684 DUID\u3002<code>&lt;iaid&gt;</code> \u662F\u5BA2\u6237\u7AEF\u8BF7\u6C42\u62A5\u6587\u4E2D IA_PD \u9009\u9879\u4E2D\u6307\u5B9A\u7684 IAID \u503C\u3002<code>&lt;valid-time&gt;</code> \u548C <code>&lt;preferred-time&gt;</code> \u5206\u522B\u4E3A\u5BA2\u6237\u5206\u914D IPv6 \u524D\u7F00\u7684\u6709\u6548\u751F\u5B58\u671F\u548C\u4F18\u9009\u751F\u5B58\u671F\uFF0C\u5355\u4F4D\u4E3A\u79D2\uFF0C\u53D6\u503C\u8303\u56F4\u662F 1-31536000\uFF0C\u4F46<code>&lt;preferred-time&gt;</code>\u5FC5\u987B\u5C0F\u4E8E<code>&lt;valid-time&gt;</code>\uFF0C\u5982\u679C\u4E0D\u914D\u7F6E\uFF0C\u9ED8\u8BA4\u7684\u503C<code>&lt;valid-time&gt;</code>\u4E3A2592000\uFF0C<code>&lt;preferred-time&gt;</code>\u4E3A604800</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCPv6 \u5730\u5740\u6C60\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u6CA1\u6709\u914D\u7F6E\u5206\u914D\u7ED9\u7279\u5B9A\u524D\u7F00\u8BF7\u6C42\u5BA2\u6237\u7AEF\u7684\u4EE3\u7406\u524D\u7F00</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u672C\u547D\u4EE4\u6307\u5B9A IPv6 \u524D\u7F00\u4E0E\u67D0\u4E2A\u524D\u7F00\u8BF7\u6C42\u5BA2\u6237\u7AEF\u9759\u6001\u7ED1\u5B9A\u3002\u5982\u679C\u6CA1\u6709\u914D\u7F6EIAID\u5219\u5BA2\u6237\u7AEF\u7684\u4EFB\u4F55IA\u90FD\u53EF\u4EE5\u83B7\u53D6\u6B64\u524D\u7F00\u3002\u4E00\u4E2A\u5730\u5740\u6C60\u6700\u591A\u53EF\u4EE5\u914D\u7F6E8\u4E2A\u9759\u6001\u7ED1\u5B9A\u7684\u4EE3\u7406\u524D\u7F00\u3002\u5728\u524D\u7F00\u4EE3\u7406\u670D\u52A1\u4E2D\uFF0C\u9759\u6001\u7ED1\u5B9A\u524D\u7F00\u4F18\u5148\u4E8E\u524D\u7F00\u6C60\u88AB\u4F7F\u7528</p></li><li><p>\u4E3E\u4F8B\uFF1A\u4EE5\u4E0B\u547D\u4EE4\u628A 2001:da8::/48 \u5206\u914D\u7ED9 DUID \u4E3A 0001000600000005000BBFAA2408 \uFF0CIAID \u4E3A12\u7684\u524D\u7F00\u8BF7\u6C42\u5BA2\u6237\u7AEF\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-1-config)#prefix-delegation      2001:da8::/48 
0001000600000005000BBFAA2408 12
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h3 id="_2-22-prefix-delegation-pool" tabindex="-1"><a class="header-anchor" href="#_2-22-prefix-delegation-pool" aria-hidden="true">#</a> 2.22 prefix-delegation pool</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>prefix-delegation pool &lt;poolname&gt; [lifetime &lt;valid-time&gt; &lt;preferred-time&gt;] no prefix-delegation pool &lt;poolname&gt;</code></p></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E DHCPv6 \u5730\u5740\u6C60\u4F7F\u7528\u7684\u4EE3\u7406\u524D\u7F00\u6C60\u540D\u79F0\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u5220\u9664 DHCPv6 \u5730\u5740\u6C60\u4F7F\u7528\u7684\u4EE3\u7406\u524D\u7F00\u6C60\u540D\u79F0</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;poolname&gt;</code>\u4E3A\u4EE3\u7406\u524D\u7F00\u6C60\u7684\u540D\u79F0\uFF0C\u5B83\u662F\u957F\u5EA6\u5C0F\u4E8E32\u7684\u5B57\u7B26\u4E32\u3002<code>&lt;valid-time&gt;</code> \u548C<code>&lt;preferred-time&gt;</code>\u5206\u522B\u4E3A\u4ECE\u8BE5\u524D\u7F00\u6C60\u5206\u914D IPv6 \u524D\u7F00\u7684\u6709\u6548\u751F\u5B58\u671F\u548C\u4F18\u9009\u751F\u5B58\u671F\uFF0C\u5355\u4F4D\u4E3A\u79D2\uFF0C\u53D6\u503C\u8303\u56F4\u662F 1-31536000\uFF0C\u4F46<code>&lt;preferred-time&gt;</code>\u5FC5\u987B\u4E0D\u5927\u4E8E<code>&lt;valid-time&gt;</code>\uFF0C\u5982\u679C\u4E0D\u914D\u7F6E\uFF0C\u9ED8\u8BA4\u7684\u503C<code>&lt;valid-time&gt;</code>\u4E3A2592000\uFF0C<code>&lt;preferred-time&gt;</code>\u4E3A604800\u3002\u53C2\u6570 infinity \u8868\u793A\u751F\u5B58\u671F\u4E3A\u65E0\u9650\u503C</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCPv6 \u5730\u5740\u6C60\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u6CA1\u6709\u914D\u7F6E DHCPv6 \u5730\u5740\u6C60\u4F7F\u7528\u7684\u4EE3\u7406\u524D\u7F00\u6C60\u540D\u79F0</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u672C\u547D\u4EE4\u6307\u5B9A DHCPv6 \u5730\u5740\u6C60\u4F7F\u7528\u7684\u4EE3\u7406\u524D\u7F00\u6C60\u540D\u79F0\uFF0C\u670D\u52A1\u5668\u63D0\u4F9B\u4EE3\u7406\u524D\u7F00\u670D\u52A1\u65F6\u5C06\u4ECE\u8BE5\u524D\u7F00\u6C60\u4E2D\u5206\u914D\u53EF\u7528\u7684\u524D\u7F00\u7ED9\u5BA2\u6237\u7AEF\u3002\u672C\u547D\u4EE4\u4E0E ipv6 local pool \u547D\u4EE4\u914D\u5408\u4F7F\u7528\u3002\u4E00\u4E2A\u5730\u5740\u6C60\u6700\u591A\u53EF\u4EE5\u7ED1\u5B9A1\u4E2A\u4EE3\u7406\u524D\u7F00\u6C60\u3002\u5728\u5220\u9664 DHCPv6 \u5730\u5740\u6C60\u4F7F\u7528\u7684\u4EE3\u7406\u524D\u7F00\u6C60\u540D\u79F0\u65F6\uFF0C\u5982\u679C\u5730\u5740\u6C60\u5DF2\u4E0D\u5173\u8054\u4EE3\u7406\u524D\u7F00\u6C60\uFF0C\u4E5F\u6CA1\u6709\u914D\u7F6E\u9759\u6001\u7ED1\u5B9A\u4EE3\u7406\u524D\u7F00\uFF0C\u5219\u670D\u52A1\u5668\u7684\u524D\u7F00\u4EE3\u7406\u670D\u52A1\u5C06\u4E0D\u53EF\u7528</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(dhcp-1-config)#prefix-delegation pool abc
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-23-service-dhcpv6" tabindex="-1"><a class="header-anchor" href="#_2-23-service-dhcpv6" aria-hidden="true">#</a> 2.23 service dhcpv6</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>service dhcpv6 no service dhcpv6</code></p></li><li><p>\u529F\u80FD\uFF1A\u542F\u52A8DHCPv6\u670D\u52A1\u5668\u529F\u80FD\uFF1B\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5173\u95ED DHCPv6 \u670D\u52A1</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1ADHCPv6 \u670D\u52A1\u7F3A\u7701\u662F\u5173\u95ED\u7684</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1ADHCPv6 \u670D\u52A1\u5305\u62EC DHCPv6 \u670D\u52A1\u5668\u529F\u80FD\u3001DHCPv6 \u4E2D\u7EE7\u7684\u529F\u80FD\u548C DHCPv6 \u524D\u7F00\u4EE3\u7406\u529F\u80FD\u3002DHCPv6 \u670D\u52A1\u5668\u529F\u80FD\u3001DHCPv6 \u4E2D\u7EE7\u529F\u80FD\u548C DHCPv6 \u524D\u7F00\u4EE3\u7406\u529F\u80FD\u914D\u7F6E\u5728\u63A5\u53E3\u4E0A\u3002\u53EA\u6709\u6253\u5F00 DHCPv6 \u670D\u52A1\u5668\u529F\u80FD\uFF0C\u4EA4\u6362\u673A\u624D\u80FD\u5728\u63A5\u53E3\u4E0A\u7ED9 DHCPv6 \u5BA2\u6237\u673A\u5206\u914D IP \u5730\u5740\u3001\u5F00\u542F DHCPv6 \u7684 RELAY \u529F\u80FD\u4EE5\u53CA\u5F00\u542F DHCPv6 \u524D\u7F00\u4EE3\u7406\u529F\u80FD</p></li><li><p>\u4E3E\u4F8B\uFF1A\u6253\u5F00 DHCPv6 \u670D\u52A1\u5668\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#service dhcpv6
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-24-show-ipv6-dhcp" tabindex="-1"><a class="header-anchor" href="#_2-24-show-ipv6-dhcp" aria-hidden="true">#</a> 2.24 show ipv6 dhcp</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ipv6 dhcp</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A\u4EA4\u6362\u673A DHCPv6 \u670D\u52A1\u7684\u4F7F\u80FD\u5F00\u5173\u4EE5\u53CA DUID</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u663E\u793A\u4EA4\u6362\u673A DHCPv6 \u670D\u52A1\u7684\u4F7F\u80FD\u5F00\u5173\u4EE5\u53CA DUID\uFF0C\u670D\u52A1\u5668\u6807\u8BC6\u7B26\u9009\u9879\u53EA\u4F1A\u4F7F\u7528 DUID-LLT \u7C7B\u578B\u7684 DUID</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#show ipv6 dhcp
DHCPv6 is enabled 
LLT DUID is &lt;00:01:00:01:43:b7:1b:81:00:03:0f:01:5f:9d&gt;
LL DUID is &lt;00:03:00:01:00:03:0f:01:5f:9d&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul><h3 id="_2-25-show-ipv6-dhcp-binding" tabindex="-1"><a class="header-anchor" href="#_2-25-show-ipv6-dhcp-binding" aria-hidden="true">#</a> 2.25 show ipv6 dhcp binding</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ipv6 dhcp binding [&lt;ipv6-address&gt; | pd &lt;ipv6-prefix|prefix-length&gt; | count]</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A DHCPv6 \u6240\u6709\u7684\u5730\u5740\u6216\u524D\u7F00\u7ED1\u5B9A\u4FE1\u606F</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;ipv6-address&gt;</code>\u4E3A\u67D0\u6307\u5B9A\u7684 IPv6 \u5730\u5740\uFF1Bcount \u8868\u793A\u663E\u793A DHCPv6 \u5730\u5740\u7ED1\u5B9A\u8868\u9879\u6570\u91CF\u4FE1\u606F</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u663E\u793A DHCPv6 \u6240\u6709\u7684\u5730\u5740\u6216\u524D\u7F00\u7ED1\u5B9A\u4FE1\u606F\uFF0C\u5305\u62EC\u7C7B\u578B\u3001DUID\u3001IAID\u3001\u524D\u7F00\u3001\u8D85\u65F6\u65F6\u95F4\u7B49</p></li><li><p>\u4E3E\u4F8B:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#show ipv6 dhcp binding 
Client: iatype IANA, iaid 0x0e001d92 
DUID: 00:01:00:01:0f:55:82:4f:00:19:e0:3f:d1:83 
IANA leased address: 2001:da8::10 
Preferred lifetime 604800 seconds, valid lifetime 2592000 seconds 
Lease obtained at %Jan 01 01:34:44 1970 
Lease expires at %Jan 31 01:34:44 1970 (2592000 seconds left) 
The number of DHCPv6 bindings is 1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ul><h3 id="_2-26-show-ipv6-dhcp-conflict" tabindex="-1"><a class="header-anchor" href="#_2-26-show-ipv6-dhcp-conflict" aria-hidden="true">#</a> 2.26 show ipv6 dhcp conflict</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ipv6 dhcp conflict</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A\u6709\u51B2\u7A81\u8BB0\u5F55\u7684\u5730\u5740\u7684\u65E5\u5FD7\u4FE1\u606F</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>witch#show ipv6 dhcp conflict
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-27-show-ipv6-dhcp-interface" tabindex="-1"><a class="header-anchor" href="#_2-27-show-ipv6-dhcp-interface" aria-hidden="true">#</a> 2.27 show ipv6 dhcp interface</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ipv6 dhcp interface [&lt;interface-name&gt;]</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A\u4EA4\u6362\u673ADHCPv6\u63A5\u53E3\u7684\u4FE1\u606F</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;interface-name&gt;</code> \u4E3A\u4EA4\u6362\u673A\u63A5\u53E3\u540D\u79F0\u53CA\u63A5\u53E3\u53F7\uFF0C\u5982\u679C\u6CA1\u6709\u63D0\u4F9B<code>&lt;interface-name&gt;</code>\u53C2\u6570\uFF0C\u5219\u7CFB\u7EDF\u663E\u793A\u5F53\u524D\u6240\u6709 DHCPv6 \u63A5\u53E3\u7684\u4FE1\u606F\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u663E\u793A\u4EA4\u6362\u673ADHCPv6\u63A5\u53E3\u7684\u4FE1\u606F\uFF0C\u5305\u62EC\u63A5\u53E3\u5DE5\u4F5C\u6A21\u5F0F\uFF08Prefix delegation client\u3001DHCPv6 server\u3001DHCPv6 relay\uFF09\uFF0C\u4EE5\u53CA\u5404\u79CD\u6A21\u5F0F\u4E0B\u7684\u76F8\u5173\u914D\u7F6E\u4FE1\u606F</p></li><li><p>\u4E3E\u4F8B</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#show ipv6 dhcp interface vlan10
Vlan10 is in server mode 
Using pool: poolv6 
Preference value: 20 
Rapid-Commit is disabled
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul><h3 id="_2-28-show-ipv6-dhcp-pool" tabindex="-1"><a class="header-anchor" href="#_2-28-show-ipv6-dhcp-pool" aria-hidden="true">#</a> 2.28 show ipv6 dhcp pool</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ipv6 dhcp pool [&lt;poolname&gt;]</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793ADHCPv6\u5730\u5740\u6C60\u7684\u4FE1\u606F</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;poolname&gt;</code>\u4E3A\u7CFB\u7EDF\u5F53\u524D\u5DF2\u914D\u7F6E DHCPv6 \u5730\u5740\u6C60\u540D\u79F0\uFF0C\u957F\u5EA6\u5C0F\u4E8E32\u4E2A\u5B57\u7B26\u3002\u5982\u679C\u4E0D\u63D0\u4F9B<code>&lt;poolname&gt;</code>\u53C2\u6570\uFF0C\u5219\u7CFB\u7EDF\u663E\u793A\u6240\u6709 DHCPv6 \u5730\u5740\u6C60\u7684\u4FE1\u606F</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u663E\u793A\u4EA4\u6362\u673A DHCPv6 \u5730\u5740\u6C60\u7684\u914D\u7F6E\u4FE1\u606F\u4EE5\u53CA\u52A8\u6001\u5206\u914D\u4FE1\u606F\uFF0C\u5305\u62EC DHCPv6 \u5730\u5740\u6C60\u7684\u540D\u79F0\uFF0CDHCPv6 \u5730\u5740\u6C60\u7684\u524D\u7F00\u4FE1\u606F\uFF0C\u6392\u9664\u5730\u5740\uFF0CDNS server \u7B49\u914D\u7F6E\u4FE1\u606F\uFF0C\u4EE5\u53CA\u5173\u8054\u7684\u524D\u7F00\u6C60\u4FE1\u606F\u3002\u5BF9\u4E8E\u7528\u4F5C\u5730\u5740\u5206\u914D\u670D\u52A1\u5668\u6A21\u5F0F\u7684\u5730\u5740\u6C60\uFF0C\u663E\u793A\u5DF2\u7ECF\u5206\u914D\u7684\u5730\u5740\u7ED1\u5B9A\u4E2A\u6570\u3002\u5BF9\u4E8E\u7528\u4F5C\u524D\u7F00\u4EE3\u7406\u670D\u52A1\u5668\u6A21\u5F0F\u7684\u5730\u5740\u6C60\uFF0C\u663E\u793A\u5DF2\u5206\u914D\u7684\u524D\u7F00\u4E2A\u6570</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#show ipv6 dhcp pool poolv6
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-29-show-ipv6-dhcp-statistics" tabindex="-1"><a class="header-anchor" href="#_2-29-show-ipv6-dhcp-statistics" aria-hidden="true">#</a> 2.29 show ipv6 dhcp statistics</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ipv6 dhcp statistics</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A DHCPv6 \u670D\u52A1\u5668\u7684\u5BF9\u5404\u79CD DHCPv6 \u6570\u636E\u5305\u7684\u7EDF\u8BA1\u4FE1\u606F</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#show ipv6 dhcp statistics
Address pools               1 
Active bindings             0 
Expiried bindings           0 
Malformed message           0

Message Recieved
DHCP6SOLICIT                0 
DHCP6ADVERTISE              0 
DHCP6REQUEST                0 
DHCP6REPLY                  0 
DHCP6RENEW                  0 
DHCP6REBIND                 0
DHCP6RELEASE                0 
DHCP6DECLINE                0 
DHCP6CONFIRM                0 
DHCP6RECONFIGURE            0 
DHCP6INFORMREQ              0 
DHCP6RELAYFORW              0 
DHCP6RELAYREPLY             0

Message Send
DHCP6SOLICIT                0 
DHCP6ADVERTISE              0 
DHCP6REQUEST                0 
DHCP6REPLY                  0 
DHCP6RENEW                  0 
DHCP6REBIND                 0 
DHCP6RELEASE                0 
DHCP6DECLINE                0 
DHCP6CONFIRM                0 
DHCP6RECONFIGURE            0 
DHCP6INFORMREQ              0 
DHCP6RELAYFORW              0 
DHCP6RELAYREPLY             0



| \u663E\u793A\u4FE1\u606F          | \u89E3\u91CA                           |
| ----------------- | ------------------------------ |
| Address pools     | \u914D\u7F6E\u7684DHCPv6\u5730\u5740\u6C60\u4E2A\u6570         |
| Active bindings   | \u81EA\u52A8\u5206\u914D\u5730\u5740\u7684\u4E2A\u6570             |
| Expiried bindings | \u7ED1\u5B9A\u8D85\u671F\u7684\u4E2A\u6570                 |
| Malformed message | \u9519\u8BEF\u4FE1\u606F\u7684\u4E2A\u6570\uFF1B               |
| Message Recieved  | \u63A5\u6536DHCPv6\u6570\u636E\u5305\u7684\u7EDF\u8BA1         |
| DHCP6SOLICIT      | \u5176\u4E2DDHCPv6 SOLICIT\u62A5\u6587\u4E2A\u6570     |
| DHCP6ADVERTISE    | \u5176\u4E2DDHCPv6 ADVERTISE\u62A5\u6587\u4E2A\u6570   |
| DHCPv6REQUEST     | \u5176\u4E2DDHCPv6 REQUEST\u62A5\u6587\u4E2A\u6570     |
| DHCP6REPLY        | \u5176\u4E2DDHCPv6 REPLY\u62A5\u6587\u4E2A\u6570       |
| DHCP6RENEW        | \u5176\u4E2DDHCPv6 RENEW\u62A5\u6587\u4E2A\u6570       |
| DHCP6RELEASE      | \u5176\u4E2DDHCPv6 RELEASE\u62A5\u6587\u4E2A\u6570     |
| DHCP6DECLINE      | \u5176\u4E2DDHCPv6 DECLINE\u62A5\u6587\u4E2A\u6570     |
| DHCP6CONFIRM      | \u5176\u4E2DDHCPv6 CONFIRM\u62A5\u6587\u4E2A\u6570     |
| DHCP6RECONFIGURE  | \u5176\u4E2DDHCPv6 RECONFIGURE\u62A5\u6587\u4E2A\u6570 |
| DHCP6INFORMREQ    | \u5176\u4E2DDHCPv6 INFORMREQ\u62A5\u6587\u4E2A\u6570   |
| DHCP6RELAYFORW    | \u5176\u4E2DDHCPv6 RELAYFORW\u62A5\u6587\u4E2A\u6570   |
| Message Send      | \u53D1\u9001DHCPv6\u6570\u636E\u5305\u7684\u7EDF\u8BA1         |
| DHCP6SOLICIT      | \u5176\u4E2DDHCPv6 SOLICIT\u62A5\u6587\u4E2A\u6570     |
| DHCP6ADVERTISE    | \u5176\u4E2DDHCPv6 ADVERTISE\u62A5\u6587\u4E2A\u6570   |
| DHCPv6REQUEST     | \u5176\u4E2DDHCPv6 REQUEST\u62A5\u6587\u4E2A\u6570     |
| DHCP6REPLY        | \u5176\u4E2DDHCPv6 REPLY\u62A5\u6587\u4E2A\u6570       |
| DHCP6RENEW        | \u5176\u4E2DDHCPv6 RENEW\u62A5\u6587\u4E2A\u6570       |
| DHCP6REBIND       | \u5176\u4E2DDHCPv6 REBIND\u62A5\u6587\u4E2A\u6570      |
| DHCP6RELEASE      | \u5176\u4E2DDHCPv6 RELEASE\u62A5\u6587\u4E2A\u6570     |
| DHCP6DECLINE      | \u5176\u4E2DDHCPv6 DECLINE\u62A5\u6587\u4E2A\u6570     |
| DHCP6CONFIRM      | \u5176\u4E2DDHCPv6 CONFIRM\u62A5\u6587\u4E2A\u6570     |
| DHCP6RECONFIGURE  | \u5176\u4E2DDHCPv6 RECONFIGURE\u62A5\u6587\u4E2A\u6570 |
| DHCP6INFORMREQ    | \u5176\u4E2DDHCPv6 INFORMREQ\u62A5\u6587\u4E2A\u6570   |
| DHCP6RELAYFORW    | \u5176\u4E2DDHCPv6 RELAYFORW\u62A5\u6587\u4E2A\u6570   |
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br></div></div></li></ul><h3 id="_2-30-show-ipv6-general-prefix" tabindex="-1"><a class="header-anchor" href="#_2-30-show-ipv6-general-prefix" aria-hidden="true">#</a> 2.30 show ipv6 general-prefix</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ipv6 general-prefix</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A IPv6 \u901A\u7528\u524D\u7F00\u6C60\u7684\u4FE1\u606F</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u663E\u793A IPv6 \u901A\u7528\u524D\u7F00\u6C60\u7684\u4FE1\u606F\uFF0C\u5305\u62EC\u901A\u7528\u524D\u7F00\u6C60\u4E2D\u7684\u524D\u7F00\u6570\u76EE\uFF0C\u6BCF\u4E2A\u524D\u7F00\u7684\u540D\u79F0\uFF0C\u83B7\u53D6\u8BE5\u524D\u7F00\u7684\u63A5\u53E3\uFF0C\u5177\u4F53\u7684\u524D\u7F00\u503C</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#show ipv6 general-prefix
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_2-31-show-ipv6-local-pool" tabindex="-1"><a class="header-anchor" href="#_2-31-show-ipv6-local-pool" aria-hidden="true">#</a> 2.31 show ipv6 local pool</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ipv6 local pool</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A DHCPv6 \u524D\u7F00\u6C60\u7684\u4FE1\u606F\u548C\u7EDF\u8BA1</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u663E\u793A DHCPv6 \u524D\u7F00\u6C60\u7684\u4FE1\u606F\u548C\u7EDF\u8BA1\uFF0C\u5305\u62EC\u524D\u7F00\u6C60\u7684\u540D\u79F0\uFF0CDHCPv6 \u6C60\u4E2D\u7684\u524D\u7F00\u3001\u524D\u7F00\u957F\u5EA6\u3001\u5206\u914D\u7684\u524D\u7F00\u957F\u5EA6\uFF0C\u53EF\u4EE5\u81EA\u7531\u5206\u914D\u524D\u7F00\u7684\u4E2A\u6570\uFF0C\u5DF2\u7ECF\u5206\u914D\u7684\u524D\u7F00\u7684\u4E2A\u6570\u548C\u524D\u7F00\u4FE1\u606F</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#show ipv6 local pool 
Pool        Prefix            Free          In use 
  a         2010::1/0/48      65536            0
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="\u7B2C3\u7AE0-dhcp-option-82\u914D\u7F6E\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u7B2C3\u7AE0-dhcp-option-82\u914D\u7F6E\u547D\u4EE4" aria-hidden="true">#</a> \u7B2C3\u7AE0 DHCP option 82\u914D\u7F6E\u547D\u4EE4</h2><h3 id="_3-1-debug-ip-dhcp-relay-packet" tabindex="-1"><a class="header-anchor" href="#_3-1-debug-ip-dhcp-relay-packet" aria-hidden="true">#</a> 3.1 debug ip dhcp relay packet</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>debug ip dhcp relay packet</code></p></li><li><p>\u529F\u80FD\uFF1A\u4F7F\u7528\u672C\u547D\u4EE4\u663E\u793A DHCP \u4E2D\u7EE7\u4EE3\u7406\u5904\u7406\u6570\u636E\u5305\u7684\u4FE1\u606F\uFF0C\u5305\u62EC option 82 \u9009\u9879\u7684\u6DFB\u52A0\u548C\u5265\u79BB\u52A8\u4F5C\u4FE1\u606F</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u914D\u7F6E\u6A21\u5F0F\u4F7F\u7528\u6307\u5357\uFF1A\u8FD0\u884C\u65F6\u4F7F\u7528\u672C\u547D\u4EE4\u663E\u793A\u4E2D\u7EE7\u4EE3\u7406\u5904\u7406\u4E2D\u7EE7\u6570\u636E\u5305\u7684\u8FC7\u7A0B\uFF0C\u5E76\u663E\u793A\u76F8\u5E94\u7684 option82 \u52A8\u4F5C\u4FE1\u606F</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E\u663E\u793A DHCP \u4E2D\u7EE7\u4EE3\u7406\u5904\u7406\u6570\u636E\u5305\u7684\u4FE1\u606F</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#debug ip dhcp relay packet
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_3-2-ip-dhcp-relay-information-option" tabindex="-1"><a class="header-anchor" href="#_3-2-ip-dhcp-relay-information-option" aria-hidden="true">#</a> 3.2 ip dhcp relay information option</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp relay information option no ip dhcp relay information option</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BBE\u7F6E\u672C\u547D\u4EE4\u542F\u7528\u4EA4\u6362\u673A\u4E2D\u7EE7\u4EE3\u7406\u7684 option82 \u529F\u80FD\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u5173\u95ED\u4EA4\u6362\u673A\u4E2D\u7EE7\u4EE3\u7406\u7684 option82 \u529F\u80FD</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u5173\u95ED option82 \u529F\u80FD</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u53EA\u6709\u914D\u7F6E\u672C\u547D\u4EE4 DHCP \u4E2D\u7EE7\u4EE3\u7406\u624D\u80FD\u5728 DHCP \u8BF7\u6C42\u62A5\u6587\u4E2D\u6DFB\u52A0 option82 \u9009\u9879\u4EA4\u7ED9\u670D\u52A1\u5668\u5904\u7406\u3002\u542F\u7528\u672C\u529F\u80FD\u4E4B\u524D\u786E\u4FDD\u7CFB\u7EDF\u5DF2\u7ECF\u4F7F\u80FD DHCP \u670D\u52A1\u5E76\u914D\u7F6E\u8F6C\u53D1\u76EE\u7684\u7AEF\u53E367\u7684 udp \u5E7F\u64AD\u62A5\u6587</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5F00\u542F\u4EA4\u6362\u673A\u4E2D\u7EE7\u4EE3\u7406\u7684 option82 \u529F\u80FD</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#service dhcp 
Switch(config)#ip forward-protocol udp bootps 
Switch(config)#ip dhcp relay information option
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h3 id="_3-3-ip-dhcp-relay-information-option-delimiter" tabindex="-1"><a class="header-anchor" href="#_3-3-ip-dhcp-relay-information-option-delimiter" aria-hidden="true">#</a> 3.3 ip dhcp relay information option delimiter</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp relay information option delimiter [colon | dot | slash | space] no ip dhcp relay information option delimiter</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BE5\u547D\u4EE4\u7528\u6765\u914D\u7F6E\u7528\u6237\u5728\u5168\u5C40\u5B9A\u4E49\u7684\u7528\u6765\u751F\u6210 option82 \u5B50\u9009\u9879\u7684\u5404\u53C2\u6570\u7684\u5206\u9694\u7B26\uFF0C\u8BE5\u547D\u4EE4\u7684 no \u5F62\u5F0F\u6062\u590D\u5206\u9694\u7B26\u4E3A\u9ED8\u8BA4\u503C\uFF0C\u5373 slash</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u5206\u9694\u7B26\u4E3A slash (\u201C/\u201D)\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u5F53\u7528\u6237\u5728\u5168\u5C40\u81EA\u5B9A\u4E49\u4E86\u7528\u6765\u751F\u6210 option82 \u5B50\u9009\u9879\uFF08remote-id\uFF0Ccircuit-id\uFF09\u7684\u5404\u53C2\u6570\u540E\uFF0C\u8BE5\u547D\u4EE4\u914D\u7F6E\u7684\u5206\u9694\u7B26\u7528\u6765\u5206\u9694\u8FD9\u4E9B\u53C2\u6570\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E option82 \u5B50\u9009\u9879\u5404\u53C2\u6570\u5206\u9694\u7B26\u4E3Adot\uFF08\u201C.\u201D\uFF09\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ip dhcp relay information option delimiter dot
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_3-4-ip-dhcp-relay-information-option-remote-id" tabindex="-1"><a class="header-anchor" href="#_3-4-ip-dhcp-relay-information-option-remote-id" aria-hidden="true">#</a> 3.4 ip dhcp relay information option remote-id</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp relay information option remote-id {standard | &lt;remote-id&gt;} no ip dhcp relay information option remote-id</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u7528\u4E8E\u8BBE\u7F6E\u4ECE\u63A5\u53E3\u63A5\u6536\u7684 DHCP \u8BF7\u6C42\u62A5\u6587\u6DFB\u52A0 option 82 \u5B50\u9009\u98792(\u8FDC\u7A0BID\u9009\u9879)\u7684\u5177\u4F53\u5185\u5BB9\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u628A\u6DFB\u52A0 option 82\u5B50\u9009\u98792(\u8FDC\u7A0BID\u9009\u9879)\u7684\u5F62\u5F0F\u8BBE\u7F6E\u4E3A standard</p></li><li><p>\u53C2\u6570\uFF1Astandard \u8868\u793A\u9ED8\u8BA4\u7684\u4EA4\u6362\u673A VLAN MAC \u683C\u5F0F\uFF0C<code>&lt;remote-id&gt;</code>\u4E3A\u7528\u6237\u81EA\u5DF1\u6307\u5B9A\u7684 option 82 \u7684 remote-id \u5185\u5BB9\uFF0C\u5B83\u662F\u4E00\u4E2A\u957F\u5EA6\u5C0F\u4E8E\u7B49\u4E8E64\u7684\u5B57\u7B26\u4E32</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528 standard \u5F62\u5F0F\u8BBE\u7F6E option 82 \u4E2D\u7684 remote-id</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u56E0\u4E3A\u4EA4\u6362\u673A\u6DFB\u52A0\u7684 option 82 \u4FE1\u606F\u8981\u914D\u5408\u7B2C\u4E09\u65B9\u7684 DHCP \u670D\u52A1\u5668\u4F7F\u7528\uFF0C\u5728\u4EA4\u6362\u673A\u7684\u6807\u51C6 remote-id \u5F62\u5F0F\u4E0D\u80FD\u6EE1\u8DB3\u670D\u52A1\u5668\u7684\u8981\u6C42\u65F6\uFF0C\u63D0\u4F9B\u4E00\u79CD\u624B\u6BB5\u7531\u7528\u6237\u4F9D\u636E\u670D\u52A1\u5668\u60C5\u51B5\u81EA\u5DF1\u6307\u5B9A remote-id \u7684\u5185\u5BB9</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCP option82 \u9009\u9879\u7684\u5B50\u9009\u9879 remote-id \u4E3A street-1-1\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)# ip dhcp relay information option remote-id street-1-1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_3-5-ip-dhcp-relay-information-option-remote-id-format" tabindex="-1"><a class="header-anchor" href="#_3-5-ip-dhcp-relay-information-option-remote-id-format" aria-hidden="true">#</a> 3.5 ip dhcp relay information option remote-id format</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp relay information option remote-id format {default | vs-hp}</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u8BBE\u7F6E\u4EA4\u6362\u673A\u4E2D\u7EE7\u4EE3\u7406\u7684 option82 \u529F\u80FD remote-id \u9ED8\u8BA4\u683C\u5F0F</p></li><li><p>\u53C2\u6570\uFF1Adefault \u8868\u793A remote-id \u4E3A\u5341\u516D\u8FDB\u5236\u683C\u5F0F\u7684\u4EA4\u6362\u673A VLAN MAC \u5730\u5740\uFF0Cvs-hp \u8868\u793A remote-id \u517C\u5BB9\u8BBE\u5907\u5382\u5546HP\u7684 remote-id \u683C\u5F0F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4 option82 \u529F\u80FD remote-id \u683C\u5F0F\u4E3A default</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u9ED8\u8BA4 remote-id \u683C\u5F0F\u5B9A\u4E49\u5982\u4E0B\uFF1A <img src="`+n+'" alt="1.jpg"> \u5176\u4E2DMAC\u4E3A\u4EA4\u6362\u673AVLAN MAC\u5730\u5740\u3002 \u517C\u5BB9\u8BBE\u5907\u5382\u5546HP\u7684remote-id\u683C\u5F0F\u5B9A\u4E49\u5982\u4E0B\uFF1A <img src="'+p+`" alt="2.jpg"> \u5176\u4E2DIP\u4E3ADHCP\u62A5\u6587\u6765\u81EA\u4E09\u5C42\u63A5\u53E3\u7684\u4E3BIP\u5730\u5740\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E\u4EA4\u6362\u673A\u4E2D\u7EE7\u4EE3\u7406 option82 \u529F\u80FD remote-id \u4E3A\u517C\u5BB9\u8BBE\u5907\u5382\u5546HP\u683C\u5F0F\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ip dhcp relay information option remote-id format vs-hp
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_3-6-ip-dhcp-relay-information-option-self-defined-remote-id" tabindex="-1"><a class="header-anchor" href="#_3-6-ip-dhcp-relay-information-option-self-defined-remote-id" aria-hidden="true">#</a> 3.6 ip dhcp relay information option self-defined remote-id</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp relay information option self-defined remote-id {hostname | mac | string WORD} no ip dhcp relay information option self-defined remote-id</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BE5\u547D\u4EE4\u7528\u6765\u914D\u7F6E option82 \u7684\u751F\u6210\u65B9\u5F0F\uFF0C\u7528\u6237\u53EF\u4EE5\u81EA\u5B9A\u4E49\u7528\u6765\u751F\u6210 option82 \u5B50\u9009\u9879 remote-id \u7684\u53C2\u6570\uFF08\u96C6\uFF09</p></li><li><p>\u53C2\u6570\uFF1A WORD \u81EA\u5B9A\u4E49\u7684 remote-id \u5B57\u7B26\u4E32\uFF0C\u6700\u5927\u957F\u5EA6\u4E3A64\u3002\u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u91C7\u7528\u6807\u51C6\u751F\u6210\u65B9\u5F0F</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u914D\u7F6E\u672C\u547D\u4EE4\u540E\uFF0C\u82E5\u7528\u6237\u6CA1\u6709\u5728\u63A5\u53E3\u4E0A\u914D\u7F6E remote-id\uFF0C\u5219\u6839\u636E\u672C\u547D\u4EE4\u7684\u81EA\u5B9A\u4E49\u751F\u6210\u65B9\u5F0F\u6765\u751F\u6210 option82 \u5B50\u9009\u9879 remote-id\u3002\u5BF9\u4E8E mac\uFF0C\u5982\u679C\u662F\u7528 ascii \u7684\u5F62\u5F0F\u586B\u5230\u62A5\u6587\u4E2D\u5219\u91C7\u7528\u5F62\u5982 00-02-d1-2e-3a-0d \u7684\u5F62\u5F0F\u3002\u5BF9\u4E8E mac\uFF0C\u5982\u679C\u662F\u7528 ascii \u7684\u5F62\u5F0F\u586B\u5230\u62A5\u6587\u4E2D\u5219\u91C7\u7528\u5F62\u5982 00-02-d1-2e-3a-0d \u7684\u5F62\u5F0F\uFF0C\u5982\u679C\u662F hex \u5F62\u5F0F\u5219\u53606\u4E2A\u5B57\u8282\u3002\u5404\u4E2A\u9009\u9879\u6309\u7167\u547D\u4EE4\u914D\u7F6E\u7684\u987A\u5E8F\u586B\u5165\u62A5\u6587\uFF0C\u4E2D\u95F4\u7528\u5206\u9694\u7B26\u5206\u9694\uFF08\u5206\u9694\u7B26\u4E3A ip dhcp relay information option delimiter \u914D\u7F6E\uFF09</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E option82 \u5B50\u9009\u9879 remote-id \u7684\u751F\u6210\u65B9\u5F0F\u4E3A hostname \u548C\u5B57\u7B26\u4E32\u201Cabc\u201D\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ip dhcp relay information option self-defined remote-id hostname string abc
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_3-7-ip-dhcp-relay-information-option-self-defined-remote-id-format" tabindex="-1"><a class="header-anchor" href="#_3-7-ip-dhcp-relay-information-option-self-defined-remote-id-format" aria-hidden="true">#</a> 3.7 ip dhcp relay information option self-defined remote-id format</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp relay information option self-defined remote-id format [ascii | hex]</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BE5\u547D\u4EE4\u7528\u6765\u914D\u7F6E relay option82 \u4E2D remote-id \u7684\u751F\u6210\u683C\u5F0F</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u751F\u6210\u683C\u5F0F\u4E3A ascii</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u4F7F\u7528\u6307\u5357\uFF1A\u672C\u547D\u4EE4\u7684\u751F\u6210\u683C\u5F0F\u6307\u5B9A\u4E86\u7528\u547D\u4EE4 ip dhcp relay information option type self-defined remote-id \u751F\u6210 remote-id \u7684\u683C\u5F0F\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E relay option82 \u4E2D remote-id \u7684\u751F\u6210\u683C\u5F0F\u4E3Ahex\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)# ip dhcp relay information option self-defined remote-id format hex
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_3-8-ip-dhcp-relay-information-option-self-defined-subscriber-id" tabindex="-1"><a class="header-anchor" href="#_3-8-ip-dhcp-relay-information-option-self-defined-subscriber-id" aria-hidden="true">#</a> 3.8 ip dhcp relay information option self-defined subscriber-id</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp relay information option self-defined subscriber-id {vlan | port | id (switch-id (mac | hostname)| remote-mac)| string WORD } no ip dhcp relay information option self-defined subscriber-id</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BE5\u547D\u4EE4\u7528\u6765\u914D\u7F6E option82 \u7684\u751F\u6210\u65B9\u5F0F\uFF0C\u7528\u6237\u53EF\u4EE5\u81EA\u5B9A\u4E49\u7528\u6765\u751F\u6210 option82 \u5B50\u9009\u9879 circuit-id \u7684\u53C2\u6570\uFF08\u96C6\uFF09\u3002\u53C2\u6570\uFF1AWORD \u81EA\u5B9A\u4E49\u7684 circuit-id \u5B57\u7B26\u4E32\uFF0C\u6700\u5927\u957F\u5EA6\u4E3A64</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u91C7\u7528\u6807\u51C6\u751F\u6210\u65B9\u5F0F</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u914D\u7F6E\u672C\u547D\u4EE4\u540E\uFF0C\u82E5\u7528\u6237\u6CA1\u6709\u5728\u63A5\u53E3\u4E0A\u914D\u7F6E circuit-id\uFF0C\u5219\u6839\u636E\u672C\u547D\u4EE4\u7684\u81EA\u5B9A\u4E49\u751F\u6210\u65B9\u5F0F\u6765\u751F\u6210 option82 \u5B50\u9009\u9879 circuit-id\u3002\u7528\u8BE5\u547D\u4EE4\u751F\u6210\u7684 circuit-id \u7684\u683C\u5F0F\u4E3A\uFF1A\u82E5 self-defined format\u4E3Aascii\uFF0C\u5219\u586B\u5165\u7684 vlan \u9009\u9879\u5F62\u5982\u201CVlan2\u201D\uFF0Cport\u9009\u9879\u5F62\u5982\u201CEthernet1/0/1\u201D\uFF0Cmac \u9009\u9879\u548C remote-mac \u9009\u9879\u5F62\u5982 \u201C00-02-d1-2e-3a-0d\u201D \uFF1B\u82E5 self-defined format \u4E3A hex \uFF0C\u5219\u586B\u5165\u7684 vlan \u9009\u9879\u5360\u4E24\u4E2A\u5B57\u8282\uFF0Cport \u9009\u9879\u53604\u4E2A\u5B57\u8282\uFF0C\u4E00\u4E2A\u5B57\u8282\u8868\u793Aslot\uFF08\u5BF9\u4E8E\u673A\u67B6\u5F0F\u4EA4\u6362\u673A\uFF0C\u8868\u793A\u63D2\u69FD\u53F7\uFF1B\u5BF9\u4E8E\u76D2\u5F0F\u4EA4\u6362\u673A\uFF0C\u4E3A1\uFF09\uFF0C\u4E00\u4E2A\u5B57\u8282\u8868\u793A Module\uFF08\u9ED8\u8BA4\u4E3A0\uFF09\uFF0C\u4E24\u4E2A\u5B57\u8282\u8868\u793A\u7AEF\u53E3\u53F7\uFF0C\u4ECE1\u5F00\u59CB\uFF0Cmac \u9009\u9879\u548C remote-mac \u9009\u9879\u53606\u4E2A\u5B57\u8282\u3002\u5404\u4E2A\u9009\u9879\u6309\u7167\u547D\u4EE4\u914D\u7F6E\u7684\u987A\u5E8F\u586B\u5165\u62A5\u6587\uFF0C\u4E2D\u95F4\u7528\u5206\u9694\u7B26\u5206\u9694\uFF08\u5206\u9694\u7B26\u4E3Aip dhcp relay information option delimiter\u914D\u7F6E\uFF09</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E\u751F\u6210 option82 \u5B50\u9009\u9879 circuit-id \u7684\u751F\u6210\u65B9\u5F0F\u4E3A port\uFF0Cmac\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)# ip dhcp relay information option self-defined subscriber-id port id switch-id mac
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_3-9-ip-dhcp-relay-information-option-self-defined-subscriber-id-format" tabindex="-1"><a class="header-anchor" href="#_3-9-ip-dhcp-relay-information-option-self-defined-subscriber-id-format" aria-hidden="true">#</a> 3.9 ip dhcp relay information option self-defined subscriber-id format</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp relay information option self-defined subscriber-id format [ascii | hex]</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BE5\u547D\u4EE4\u7528\u6765\u914D\u7F6E relay option82\u4E2Dcircuit-id \u7684\u751F\u6210\u683C\u5F0F</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u751F\u6210\u683C\u5F0F\u4E3A ascii</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u4F7F\u7528\u6307\u5357\uFF1A\u672C\u547D\u4EE4\u7684\u751F\u6210\u683C\u5F0F\u6307\u5B9A\u4E86\u7528\u547D\u4EE4 ip dhcp relay information option type self-defined subscriber-id \u751F\u6210 circuit-id \u7684\u683C\u5F0F</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E relay option82\u4E2Dcircuit-id \u7684\u751F\u6210\u683C\u5F0F\u4E3A hex\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)# ip dhcp relay information option self-defined subscriber-id format hex
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_3-10-ip-dhcp-relay-information-option-subscriber-id" tabindex="-1"><a class="header-anchor" href="#_3-10-ip-dhcp-relay-information-option-subscriber-id" aria-hidden="true">#</a> 3.10 ip dhcp relay information option subscriber-id</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp relay information option subscriber-id {standard | &lt;circuit-id&gt;} no ip dhcp relay information option subscriber-id</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u7528\u4E8E\u8BBE\u7F6E\u4ECE\u63A5\u53E3\u63A5\u6536\u7684 DHCP \u8BF7\u6C42\u62A5\u6587\u6DFB\u52A0 option 82 \u5B50\u9009\u98791(\u7535\u8DEFID\u9009\u9879)\u7684\u5F62\u5F0F\uFF0Cstandard \u8868\u793A\u6807\u51C6\u7684 vlan \u540D\u52A0\u7269\u7406\u7AEF\u53E3\u540D\u5F62\u5F0F\uFF0C\u5982\u201CVlan2+Ethernet1/0/12\u201D\uFF0C<code>&lt;circuit-id&gt;</code>\u4E3A\u7528\u6237\u81EA\u5DF1\u6307\u5B9A\u7684 option 82 \u7684 circuit-id \u5185\u5BB9\uFF0C\u5B83\u662F\u4E00\u4E2A\u957F\u5EA6\u5C0F\u4E8E64\u7684\u5B57\u7B26\u4E32\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u628A\u6DFB\u52A0 option 82 \u5B50\u9009\u98791(\u7535\u8DEFID\u9009\u9879)\u7684\u5F62\u5F0F\u8BBE\u7F6E\u4E3A standard \u5F62\u5F0F</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u63A5\u53E3\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528 standard \u5F62\u5F0F\u8BBE\u7F6E option 82 \u4E2D\u7684 circuit-id</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u56E0\u4E3A\u4EA4\u6362\u673A\u6DFB\u52A0\u7684 option 82 \u4FE1\u606F\u8981\u914D\u5408\u7B2C\u4E09\u65B9\u7684 DHCP \u670D\u52A1\u5668\u4F7F\u7528\uFF0C\u5728\u4EA4\u6362\u673A\u7684\u6807\u51C6 circuit-id \u5F62\u5F0F\u4E0D\u80FD\u6EE1\u8DB3\u670D\u52A1\u5668\u7684\u8981\u6C42\u65F6\uFF0C\u63D0\u4F9B\u4E00\u79CD\u624B\u6BB5\u7531\u7528\u6237\u4F9D\u636E\u670D\u52A1\u5668\u60C5\u51B5\u81EA\u5DF1\u6307\u5B9A circuit-id \u7684\u5185\u5BB9</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCP option82 \u9009\u9879\u7684\u5B50\u9009\u9879 circuit-id\u4E3Afoobar</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config-if-vlan1)#ip dhcp relay information option subscriber-id foobar
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_3-11-ip-dhcp-relay-information-option-subscriber-id-format" tabindex="-1"><a class="header-anchor" href="#_3-11-ip-dhcp-relay-information-option-subscriber-id-format" aria-hidden="true">#</a> 3.11 ip dhcp relay information option subscriber-id format</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp relay information option subscriber-id format {hex | acsii | vs-hp}</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u8BBE\u7F6E\u4EA4\u6362\u673A\u4E2D\u7EE7\u4EE3\u7406\u7684option82\u529F\u80FDsubscriber-id\u9ED8\u8BA4\u683C\u5F0F</p></li><li><p>\u53C2\u6570\uFF1Ahex\u8868\u793Asubscriber-id\u4E3A\u5341\u516D\u8FDB\u5236\u683C\u5F0F\u7684VLAN\u548C\u7AEF\u53E3\u4FE1\u606F\uFF0Cacsii\u8868\u793Asubscriber-id\u4E3AACSII\u683C\u5F0F\u7684VLAN\u548C\u7AEF\u53E3\u4FE1\u606F\uFF0Cvs-hp\u8868\u793Asubscriber-id\u517C\u5BB9\u8BBE\u5907\u5382\u5546HP\u7684\u683C\u5F0F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4option82\u529F\u80FDsubscriber-id\u683C\u5F0F\u4E3Aacsii</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1AASCII\u683C\u5F0F\u7684VLAN\u548C\u7AEF\u53E3\u4FE1\u606F\u5F62\u5982\u201CVlan1+Ethernet1/0/11\u201D\u3002\u5341\u516D\u8FDB\u5236\u683C\u5F0F\u7684 VLAN\u548C\u7AEF\u53E3\u4FE1\u606F\u5B9A\u4E49\u5982\u4E0B\uFF1A <img src="`+l+'" alt="3.jpg"> \u5176\u4E2D\uFF0CVLAN\u5B57\u6BB5\u586B\u5199\u4EA4\u6362\u673AVLAN ID\u3002Slot\u5BF9\u4E8E\u673A\u67B6\u5F0F\u4EA4\u6362\u673A\uFF0C\u8868\u793A\u63D2\u69FD\u53F7\uFF1B\u5BF9\u4E8E\u76D2\u5F0F\u4EA4\u6362\u673A\uFF0C\u4E3A1\u3002Module\u9ED8\u8BA4\u4E3A0\u3002Port\u8868\u793A\u7AEF\u53E3\u53F7\uFF0C\u4ECE1\u5F00\u59CB\u3002 \u517C\u5BB9\u8BBE\u5907\u5382\u5546HP\u7684subscriber-id\u683C\u5F0F\u5B9A\u4E49\u5982\u4E0B\uFF1A <img src="'+a+`" alt="4.jpg"> \u5176\u4E2DPort\u8868\u793A\u7AEF\u53E3\u53F7\uFF0C\u4ECE1\u5F00\u59CB</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E\u4EA4\u6362\u673A\u4E2D\u7EE7\u4EE3\u7406option82\u529F\u80FDsubscriber-id\u683C\u5F0F\u4E3A\u5341\u516D\u8FDB\u5236\u683C\u5F0F</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ip dhcp relay information option subscriber-id format hex
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_3-12-ip-dhcp-relay-information-policy" tabindex="-1"><a class="header-anchor" href="#_3-12-ip-dhcp-relay-information-policy" aria-hidden="true">#</a> 3.12 ip dhcp relay information policy</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp relay information policy {drop | keep | replace} no ip dhcp relay information policy</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u7528\u4E8E\u8BBE\u7F6E\u7CFB\u7EDF\u5BF9\u4E8E\u63A5\u6536\u5230\u7684\u542B\u6709 option82 \u9009\u9879\u7684 DHCP \u8BF7\u6C42\u62A5\u6587\u7684\u91CD\u8F6C\u53D1\u7B56\u7565\uFF0C\u5176\u4E2D drop \u6A21\u5F0F\u8868\u793A\u5982\u679C\u62A5\u6587\u4E2D\u542B\u6709 option82 \u9009\u9879\uFF0C\u5219\u7CFB\u7EDF\u4E22\u5F03\u8BE5 DHCP \u62A5\u6587\u4E0D\u4F5C\u5904\u7406\uFF1Bkeep \u6A21\u5F0F\u8868\u793A\u7CFB\u7EDF\u4FDD\u6301\u73B0\u6709\u62A5\u6587\u4E2D\u7684 option82 \u9009\u9879\u4E0D\u53D8\u8F6C\u53D1\u7ED9\u670D\u52A1\u5668\u5904\u7406\uFF1Breplace \u6A21\u5F0F\u8868\u793A\u7CFB\u7EDF\u4F7F\u7528\u81EA\u5DF1\u7684 option82 \u9009\u9879\u66FF\u6362\u73B0\u6709\u62A5\u6587\u4E2D\u7684 option82 \u9009\u9879\uFF0C\u7136\u540E\u8F6C\u53D1\u7ED9\u670D\u52A1\u5668\u5904\u7406\u3002\u672C\u547D\u4EE4\u7684no\u64CD\u4F5C\u8BBE\u7F6E option82 \u9009\u9879DHCP\u62A5\u6587\u7684\u91CD\u8F6C\u53D1\u7B56\u7565\u4E3A replace</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u63A5\u53E3\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528 replace \u6A21\u5F0F\u4F7F\u7528\u672C\u7CFB\u7EDF\u7684 option82 \u9009\u9879\u66FF\u6362\u73B0\u6709\u62A5\u6587\u4E2D\u7684 option \u9009\u9879\u3002\u4F7F\u7528\u6307\u5357\uFF1A\u7531\u4E8E DHCP \u5BA2\u6237\u7AEF\u62A5\u6587\u5411 DHCP \u670D\u52A1\u5668\u4F20\u9012\u7684\u8FC7\u7A0B\u4E2D\u53EF\u80FD\u7ECF\u8FC7\u591A\u4E2A DHCP \u4E2D\u7EE7\u4EE3\u7406\uFF0C\u8BE5\u8DEF\u5F84\u4E0A\u540E\u7EED\u4E2D\u7EE7\u9700\u8981\u8BBE\u7F6E\u7B56\u7565\u51B3\u5B9A\u5982\u4F55\u5BF9\u5148\u524D\u4E2D\u7EE7\u6DFB\u52A0\u7684 option82 \u9009\u9879\u8FDB\u884C\u5904\u7406\u3002Option 82 \u91CD\u8F6C\u53D1\u7B56\u7565\u7684\u9009\u62E9\u8981\u914D\u5408 DHCP \u670D\u52A1\u5668\u7684\u914D\u7F6E\u7B56\u7565\u800C\u5B9A</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCP \u62A5\u6587 option82 \u9009\u9879\u7684\u91CD\u8F6C\u53D1\u7B56\u7565\u4E3A keep</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config-if-vlan1)#ip dhcp relay information policy keep
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_3-13-ip-dhcp-server-relay-information-enable" tabindex="-1"><a class="header-anchor" href="#_3-13-ip-dhcp-server-relay-information-enable" aria-hidden="true">#</a> 3.13 ip dhcp server relay information enable</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp server relay information enable no ip dhcp server relay information enable</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u7528\u4E8E\u8BBE\u7F6E\u4EA4\u6362\u673A DHCP \u670D\u52A1\u5668\u652F\u6301\u5BF9 option82 \u9009\u9879\u7684\u8BC6\u522B\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4F7F\u670D\u52A1\u5668\u5FFD\u7565\u5904\u7406 option 82 \u9009\u9879</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4E0D\u542F\u7528 option82 \u9009\u9879\u8BC6\u522B\u529F\u80FD</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u5982\u679C\u5E0C\u671B\u4EA4\u6362\u673A DHCP \u670D\u52A1\u5668\u8BC6\u522B option82 \u9009\u9879\u5E76\u5728\u5E94\u7B54\u62A5\u6587\u4E2D\u8FD4\u56DE option 82 \u4FE1\u606F\uFF0C\u9700\u8981\u914D\u7F6E\u672C\u547D\u4EE4\uFF0C\u5426\u5219\u4EA4\u6362\u673A DHCP \u670D\u52A1\u5668\u4F1A\u5FFD\u89C6 option82 \u9009\u9879\u7684\u5B58\u5728</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCP \u670D\u52A1\u5668\u652F\u6301 option82 \u9009\u9879</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)# ip dhcp server relay information enable
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_3-14-show-ip-dhcp-relay-information-option" tabindex="-1"><a class="header-anchor" href="#_3-14-show-ip-dhcp-relay-information-option" aria-hidden="true">#</a> 3.14 show ip dhcp relay information option</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ip dhcp relay information option</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u663E\u793A\u7CFB\u7EDFDHCP option 82\u7684\u72B6\u6001\u4FE1\u606F\uFF0C\u5305\u62ECoption82\u4F7F\u80FD\u5F00\u5173\uFF0C\u63A5\u53E3\u91CD\u8F6C\u53D1\u7B56\u7565\uFF0C\u63A5\u53E3\u7535\u8DEFID\u6A21\u5F0F\uFF0C\u4EE5\u53CA\u4EA4\u6362\u673ADHCP\u670D\u52A1\u5668option82\u4F7F\u80FD\u5F00\u5173</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8FD0\u884C\u65F6\u4F7F\u7528\u672C\u547D\u4EE4\u68C0\u67E5\u4E2D\u7EE7\u4EE3\u7406option82\u72B6\u6001\u4FE1\u606F\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#show ip dhcp relay information option 
ip dhcp server relay information option(i.e. option 82) is disabled 
ip dhcp relay information option(i.e. option 82) is enabled
 
Vlan2: 
      ip dhcp relay information policy keep 
      ip dhcp relay information option subscriber-id standard 
Vlan3: 
      ip dhcp relay information policy replace 
      ip dhcp relay information option subscriber-id foobar
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li></ul><h2 id="\u7B2C4\u7AE0-dhcp-option-60\u548Coption-43\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u7B2C4\u7AE0-dhcp-option-60\u548Coption-43\u547D\u4EE4" aria-hidden="true">#</a> \u7B2C4\u7AE0 DHCP option 60\u548Coption 43\u547D\u4EE4</h2><h3 id="_4-1-option-43-ascii-line" tabindex="-1"><a class="header-anchor" href="#_4-1-option-43-ascii-line" aria-hidden="true">#</a> 4.1 option 43 ascii LINE</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>option 43 ascii LINE no option 43</code></p></li><li><p>\u529F\u80FD\uFF1A\u5728 ip dhcp pool \u6A21\u5F0F\u4E0B\u4EE5 ascii \u683C\u5F0F\u914D\u7F6E option 43 \u5B57\u7B26\u4E32\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E\u7684 option 43</p></li><li><p>\u53C2\u6570\uFF1ALINE\uFF1A\u4EE5 ascii \u683C\u5F0F\u914D\u7F6E\u7684 option 43 \u5B57\u7B26\u4E32\uFF0C\u5B57\u7B26\u4E32\u957F\u5EA6\u8303\u56F4\u4E3A 1-255</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u9ED8\u8BA4\u6CA1\u6709\u914D\u7F6E option 43 \u5B57\u7B26\u4E32</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1Aip dhcp pool \u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u65E0</p></li><li><p>\u4E3E\u4F8B\uFF1A\u4EE5 ascii \u683C\u5F0F\u914D\u7F6E option 43 \u4E3A&quot;AP 1000&quot;</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#ip dhcp pool a 
switch (dhcp-a-config)#option 43 ascii AP 1000
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h3 id="_4-2-option-43-hex-word" tabindex="-1"><a class="header-anchor" href="#_4-2-option-43-hex-word" aria-hidden="true">#</a> 4.2 option 43 hex WORD</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>option 43 hex WORD no option 43</code></p></li><li><p>\u529F\u80FD\uFF1A\u5728 ip dhcp pool \u6A21\u5F0F\u4E0B\u4EE5 hex \u683C\u5F0F\u914D\u7F6E option 43 \u5B57\u7B26\u4E32\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E\u7684 option 43</p></li><li><p>\u53C2\u6570\uFF1AWORD\uFF1A\u4EE5 hex \u683C\u5F0F\u914D\u7F6E\u7684 option 43\u5B57\u7B26\u4E32\uFF0C\u5982 a1241b</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u9ED8\u8BA4\u6CA1\u6709\u914D\u7F6E option 43</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1Aip dhcp pool \u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u5F53\u4F7F\u7528 hex \u65B9\u5F0F\u914D\u7F6E option 43 \u65F6\uFF0C\u5B57\u7B26\u4E32\u9700\u8981\u6309\u7167 TLV\uFF08Type-Length-Value\uFF09\u7684\u683C\u5F0F\u586B\u5199\u3002\u6BD4\u5982\u901A\u8FC7 option 43 \u4E0B\u53D1 ip \u5730\u574010.1.1.1\uFF0C\u5219\u6B64\u5904\u7684 hex \u5B57\u7B26\u4E32\u5E94\u8BE5\u4E3A 01040A010101\uFF0C\u5176\u4E2D Type=0x01\uFF0C\u8868\u793A IP \u5730\u5740\uFF1BLength=0x04\uFF0C\u5373 IP \u5730\u5740\u7684\u957F\u5EA6\u4E3A4\u5B57\u8282\uFF1BValue=0x0A010101\uFF0C\u537310.1.1.1\u7684\u5341\u516D\u8FDB\u5236\u683C\u5F0F</p></li><li><p>\u4E3E\u4F8B\uFF1A\u4EE5 hex \u683C\u5F0F\u914D\u7F6E option 43 \u4E3A&quot;01040a010101&quot;</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#ip dhcp pool a 
switch (dhcp-a-config)#option 43 hex 01040a010101
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h3 id="_4-3-option-43-ip-a-b-c-d" tabindex="-1"><a class="header-anchor" href="#_4-3-option-43-ip-a-b-c-d" aria-hidden="true">#</a> 4.3 option 43 ip A.B.C.D</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>option 43 ip A.B.C.D no option 43</code></p></li><li><p>\u529F\u80FD\uFF1A\u5728 ip dhcp pool \u6A21\u5F0F\u4E0B\u4EE5IP\u683C\u5F0F\u914D\u7F6E option 43 \u5B57\u7B26\u4E32\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E\u7684 option 43</p></li><li><p>\u53C2\u6570\uFF1AA.B.C.D\uFF1A\u4EE5IP\u683C\u5F0F\u914D\u7F6E\u7684 option 43\uFF0C\u5982 192.168.1.1</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u9ED8\u8BA4\u6CA1\u6709\u914D\u7F6E option 43\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1Aip dhcp pool \u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u7528\u8BE5\u547D\u4EE4\u914D\u7F6E\u5F62\u5982&quot;192.168.1.1&quot;\u7684 option 43\uFF0C\u5219\u586B\u5165\u62A5\u6587\u4E2D\u7684 option 43 \u4E3A&quot;C0A80101&quot;\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u4EE5IP\u683C\u5F0F\u914D\u7F6E option 43 \u4E3A&quot;192.168.1.1&quot;\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#ip dhcp pool a 
switch (dhcp-a-config)#option 43 ip 192.168.1.1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h3 id="_4-4-option-60-ascii-line" tabindex="-1"><a class="header-anchor" href="#_4-4-option-60-ascii-line" aria-hidden="true">#</a> 4.4 option 60 ascii LINE</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>option 60 ascii LINE no option 60</code></p></li><li><p>\u529F\u80FD\uFF1A\u5728 ip dhcp pool \u6A21\u5F0F\u4E0B\u4EE5 ascii \u683C\u5F0F\u914D\u7F6E option 60 \u5B57\u7B26\u4E32\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E\u7684 option 60</p></li><li><p>\u53C2\u6570\uFF1ALINE\uFF1A\u4EE5 ascii \u683C\u5F0F\u914D\u7F6E\u7684 option 60 \u5B57\u7B26\u4E32\uFF0C\u5B57\u7B26\u4E32\u957F\u5EA6\u8303\u56F4\u4E3A1-255</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u9ED8\u8BA4\u6CA1\u6709\u914D\u7F6E option 60 \u5B57\u7B26\u4E32</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1Aip dhcp pool \u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u65E0</p></li><li><p>\u4E3E\u4F8B\uFF1A\u4EE5 ascii \u683C\u5F0F\u914D\u7F6E option 60 \u4E3A&quot;AP 1000&quot;\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#ip dhcp pool a 
switch (dhcp-a-config)#option 60 ascii AP 1000
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h3 id="_4-5-option-60-hex-word" tabindex="-1"><a class="header-anchor" href="#_4-5-option-60-hex-word" aria-hidden="true">#</a> 4.5 option 60 hex WORD</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>option 60 hex WORD no option 60</code></p></li><li><p>\u529F\u80FD\uFF1A\u5728 ip dhcp pool \u6A21\u5F0F\u4E0B\u4EE5 hex \u683C\u5F0F\u914D\u7F6E option 60 \u5B57\u7B26\u4E32\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E\u7684 option 60</p></li><li><p>\u53C2\u6570\uFF1AWORD\uFF1A\u4EE5 hex \u683C\u5F0F\u914D\u7F6E\u7684 option 60 \u5B57\u7B26\u4E32\uFF0C\u5982a1241b</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u9ED8\u8BA4\u6CA1\u6709\u914D\u7F6E option 60</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1Aip dhcp pool \u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u65E0\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u4EE5 hex \u683C\u5F0F\u914D\u7F6E option 60 \u4E3A&quot;41502031303030&quot;\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#ip dhcp pool a 
switch(dhcp-a-config)#option 60 hex 41502031303030
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h3 id="_4-6-option-60-ip-a-b-c-d" tabindex="-1"><a class="header-anchor" href="#_4-6-option-60-ip-a-b-c-d" aria-hidden="true">#</a> 4.6 option 60 ip A.B.C.D</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>option 60 ip A.B.C.D no option 60</code></p></li><li><p>\u529F\u80FD\uFF1A\u5728 ip dhcp pool \u6A21\u5F0F\u4E0B\u4EE5IP\u683C\u5F0F\u914D\u7F6E option 60 \u5B57\u7B26\u4E32\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4E3A\u5220\u9664\u914D\u7F6E\u7684 option 60</p></li><li><p>\u53C2\u6570\uFF1AA.B.C.D\uFF1A\u4EE5IP\u683C\u5F0F\u914D\u7F6E\u7684 option 60\uFF0C\u5982192.168.1.1</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u9ED8\u8BA4\u6CA1\u6709\u914D\u7F6E option 60\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1Aip dhcp pool \u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u7528\u8BE5\u547D\u4EE4\u914D\u7F6E\u5F62\u5982&quot;192.168.1.1&quot;\u7684 option 60\uFF0C\u5219\u5339\u914D\u62A5\u6587\u4E2D\u7684 option 60 \u4E3A&quot;C0A80101&quot;\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u4EE5IP\u683C\u5F0F\u914D\u7F6E option 60 \u4E3A&quot;192.168.1.1&quot;\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#ip dhcp pool a 
switch (dhcp-a-config)#option 60 ip 192.168.1.1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h2 id="\u7B2C5\u7AE0-dhcpv6-option37-38\u914D\u7F6E\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u7B2C5\u7AE0-dhcpv6-option37-38\u914D\u7F6E\u547D\u4EE4" aria-hidden="true">#</a> \u7B2C5\u7AE0 DHCPv6 option37\uFF0C38\u914D\u7F6E\u547D\u4EE4</h2><h3 id="_5-1-1-address-range" tabindex="-1"><a class="header-anchor" href="#_5-1-1-address-range" aria-hidden="true">#</a> 5.1.1 address range</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>address range &lt;start-ip&gt; &lt;end-ip&gt; no address range &lt;start-ip&gt; &lt;end-ip&gt;</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u5728 DHCPv6 \u5730\u5740\u6C60\u914D\u7F6E\u6A21\u5F0F\u4E0B\u7528\u6765\u4E3A DHCPv6 \u670D\u52A1\u5668\u5730\u5740\u6C60\u4E2D\u7684\u4E00\u4E2A DHCPv6 class \u8BBE\u7F6E\u4E00\u4E2A\u5730\u5740\u8303\u56F4\uFF0Cno \u547D\u4EE4\u7528\u6765\u79FB\u9664\u8FD9\u4E2A\u5730\u5740\u8303\u56F4\u3002\u4E0D\u652F\u6301 prefix/plen \u5F62\u5F0F</p></li><li><p>\u53C2\u6570\uFF1A</p><ul><li>start-ip\uFF1A\u5B9A\u4E49\u5730\u5740\u6C60\u4E2D\u5730\u5740\u8303\u56F4\u7684\u8D77\u59CB\u5730\u5740</li><li>end-ip\uFF1A\u5B9A\u4E49\u5730\u5740\u6C60\u4E2D\u5730\u5740\u8303\u56F4\u7684\u7ED3\u675F\u5730\u5740</li></ul></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCPv6 \u5730\u5740\u6C60 class \u914D\u7F6E\u6A21\u5F0F\u4F7F\u7528\u6307\u5357\uFF1A\u4F7F\u7528\u8BE5\u547D\u4EE4\u4E3A class \u5206\u914D\u7684\u5730\u5740\u8303\u56F4\u5E94\u505A\u5730\u5740\u68C0\u67E5\uFF0C\u4FDD\u8BC1\u5206\u914D\u5230\u7684\u5730\u5740\u8303\u56F4\u4E0D\u8D85\u51FA\u6240\u5728\u5730\u5740\u6C60\u7684\u5730\u5740\u8303\u56F4\u3002\u4E00\u4E2A class \u4EC5\u5206\u914D\u4E00\u6BB5\u5730\u5740\u8303\u56F4\uFF0C\u5728\u540C\u4E00\u5730\u5740\u6C60\u4E2D\u7684\u591A\u4E2A class \u6240\u5206\u914D\u7684\u5730\u5740\u8303\u56F4\u662F\u53EF\u4EE5\u6709\u91CD\u53E0\u7684\u3002\u5982\u679C\u4E0D\u7528\u8BE5\u547D\u4EE4\u4E3A\u4E00\u4E2A DHCPv6 class \u5728DHCPv6\u670D\u52A1\u5668\u5730\u5740\u6C60\u4E2D\u5206\u914D\u5730\u5740\u8303\u56F4\uFF0C\u90A3\u4E48\u9ED8\u8BA4\u8FD9\u4E2A class \u7684\u5730\u5740\u8303\u56F4\u662F\u5730\u5740\u6C60\u4E2D\u7684\u6574\u4E2A\u5B50\u7F51</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5C06\u540D\u4E3A CLASS1 \u7684 DHCPv6 class \u5173\u8054\u5230 dhcpv6 pool 1 \u4E2D\uFF0C\u4E3A CLASS1 \u5206\u914D\u5730\u5740\u8303\u56F4\u4E3A 2001:da8\u{1F4AF}1::2 \u52302001:da8\u{1F4AF}1::30</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config)#ipv6 dhcp pool 1
Switch(dhcp-1-config)#class CLASS1
Switch(dhcp-1-class-CLASS1-config)#address   range   2001:da8:100:1::2 2001:da8:100:1::30
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h3 id="_5-1-2-class" tabindex="-1"><a class="header-anchor" href="#_5-1-2-class" aria-hidden="true">#</a> 5.1.2 class</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>class &lt;class-name&gt; no class &lt;class-name&gt;</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u5728DHCPv6\u5730\u5740\u6C60\u914D\u7F6E\u6A21\u5F0F\u4E0B\u5C06 class \u5173\u8054\u5230\u5730\u5740\u6C60\u4E2D\uFF0C\u5E76\u8FDB\u5165\u5730\u5740\u6C60\u4E2D class \u7684\u914D\u7F6E\u6A21\u5F0F\uFF0C\u7528 no \u547D\u4EE4\u5220\u9664\u8FD9\u79CD\u5173\u8054</p></li><li><p>\u53C2\u6570\uFF1Aclass-name\uFF1ADHCPv6 class\u7684\u540D\u5B57</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1ADHCPv6 \u5730\u5740\u6C60\u914D\u7F6E\u6A21\u5F0F\u4F7F\u7528\u6307\u5357\uFF1A\u5E94\u8BE5\u9996\u5148\u7528 IPv6 DHCP Class \u5168\u5C40\u914D\u7F6E\u547D\u4EE4\u5B9A\u4E49\u597D\u8FD9\u4E2A class\u3002\u5982\u679C\u7528 class \u547D\u4EE4\u8F93\u5165\u4E86\u4E00\u4E2A\u5C1A\u4E0D\u5B58\u5728\u7684 class \u540D\uFF0C\u90A3\u4E48\u5C06\u4E0D\u521B\u5EFA\u8BE5 class</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5C06\u540D\u4E3A CLASS1 \u7684 DHCPv6 class \u5173\u8054\u5230 dhcpv6 pool 1 \u4E2D</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config)#ipv6 dhcp pool 1 
Switch(dhcp-1-config)#class CLASS1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h3 id="_5-1-3-ipv6-dhcp-class" tabindex="-1"><a class="header-anchor" href="#_5-1-3-ipv6-dhcp-class" aria-hidden="true">#</a> 5.1.3 ipv6 dhcp class</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp class &lt;class-name&gt; no ipv6 dhcp class &lt;class-name&gt;</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u7528\u4E8E\u5B9A\u4E49\u4E00\u4E2A DHCPv6 class \u5E76\u8FDB\u5165 DHCPv6 class \u914D\u7F6E\u6A21\u5F0F\uFF0Cno \u547D\u4EE4\u7528\u4E8E\u5220\u9664\u8FD9\u4E2A DHCPv6 class</p></li><li><p>\u53C2\u6570\uFF1Aclass-name\uFF1ADHCPv6 class \u7684\u540D\u5B57\uFF0C\u5B83\u662F\u4E00\u4E2A\u957F\u5EA6\u5C0F\u4E8E32\u7684\u5B57\u7B26\u4E32</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u5728\u4E00\u4E2A DHCPv6 class \u4E2D\u53EF\u4EE5\u914D\u7F6E\u4E00\u7EC4 option 37 \u6216\u8005 option 38 \u9009\u9879\u5185\u5BB9\uFF0C\u6216\u8005\u540C\u65F6\u914D\u7F6E option 37 \u548C option 38 \u9009\u9879\u5185\u5BB9\u3002\u8BE5\u547D\u4EE4\u5F53\u670D\u52A1\u5668\u7AEF\u652F\u6301 DHCPv6 class \u7684\u65F6\u5019\u624D\u80FD\u4F7F\u7528</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5B9A\u4E49\u4E00\u4E2A\u540D\u4E3A CLASS1 \u7684 DHCPv6 class\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>witch(Config)# ipv6 dhcp class CLASS1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_5-1-4-ipv6-dhcp-relay-remote-id" tabindex="-1"><a class="header-anchor" href="#_5-1-4-ipv6-dhcp-relay-remote-id" aria-hidden="true">#</a> 5.1.4 ipv6 dhcp relay remote-id</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp relay remote-id &lt;remote-id&gt; no ipv6 dhcp relay remote-id</code></p></li><li><p>\u529F\u80FD\uFF1A \u672C\u547D\u4EE4\u7528\u4E8E\u8BBE\u7F6E\u4ECE\u63A5\u53E3\u63A5\u6536\u7684 DHCPv6 \u8BF7\u6C42\u62A5\u6587\u6DFB\u52A0 option 37 \u9009\u9879\u7684\u5F62\u5F0F\uFF0C<code>&lt;remote-id&gt;</code> \u4E3A\u7528\u6237\u81EA\u5B9A\u4E49\u7684 option 37 \u7684 remote-id \u5185\u5BB9\uFF0C\u5B83\u662F\u4E00\u4E2A\u957F\u5EA6\u5C0F\u4E8E 128 \u7684\u5B57\u7B26\u4E32\u3002 \u672C\u547D\u4EE4\u7684no\u64CD\u4F5C\u6062\u590D option 37 \u7684 remote-id \u9009\u9879\u7684\u5F62\u5F0F\u4E3A\u9ED8\u8BA4\u7684 enterprise-number \u548C vlan MAC \u5730\u5740</p></li><li><p>\u53C2\u6570\uFF1Aremote-id\uFF1A\u7528\u6237\u81EA\u5B9A\u4E49\u7684 option 37 \u7684\u5185\u5BB9</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528 vlan MAC \u5730\u5740\u4F5C\u4E3A remote-id \u7684\u5185\u5BB9\uFF0Cvlan MAC \u5F62\u5F0F\u5982 \u201C00-01-ac-12-23\u201D\uFF0C\u4E2D\u95F4\u7684\u8FDE\u5B57\u7B26\u4E3A \u2018-\u2019</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u63A5\u53E3\u914D\u7F6E\u6A21\u5F0F\u4F7F\u7528\u6307\u5357\uFF1A\u56E0\u4E3A\u4EA4\u6362\u673A\u6DFB\u52A0\u7684 option 37 \u4FE1\u606F\u6709\u53EF\u80FD\u914D\u5408\u7B2C\u4E09\u65B9\u7684 DHCPv6 \u670D\u52A1\u5668\u4F7F\u7528\uFF0C\u5728\u4EA4\u6362\u673A\u7684\u9ED8\u8BA4 remote-id \u5F62\u5F0F\u4E0D\u80FD\u6EE1\u8DB3\u670D\u52A1\u5668\u7684\u8981\u6C42\u65F6\uFF0C\u63D0\u4F9B\u4E00\u79CD\u624B\u6BB5\u7531\u7528\u6237\u4F9D\u636E\u670D\u52A1\u5668\u60C5\u51B5\u81EA\u5DF1\u6307\u5B9A remote-id \u7684\u5185\u5BB9\u3002\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528 enterprise-number \u548C vlan MAC \u5730\u5740\u4F5C\u4E3A remote-id \u7684\u5185\u5BB9</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCPv6 option 37 \u9009\u9879\u7684 remote-id\u4E3Aabc</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config-if-vlan1)# ipv6 dhcp relay remote-id abc
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_5-1-5-ipv6-dhcp-relay-remote-id-option" tabindex="-1"><a class="header-anchor" href="#_5-1-5-ipv6-dhcp-relay-remote-id-option" aria-hidden="true">#</a> 5.1.5 ipv6 dhcp relay remote-id option</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp relay remote-id option no ipv6 dhcp relay remote-id option</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BBE\u7F6E\u672C\u547D\u4EE4\u5141\u8BB8\u4EA4\u6362\u673A\u4E2D\u7EE7\u652F\u6301 option 37 \u9009\u9879\u529F\u80FD\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u5173\u95ED\u4EA4\u6362\u673A\u4E2D\u7EE7\u7684 option 37 \u9009\u9879\u529F\u80FD</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u5173\u95ED\u4EA4\u6362\u673A\u4E2D\u7EE7\u7684 option 37 \u9009\u9879\u529F\u80FD\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u53EA\u6709\u914D\u7F6E\u672C\u547D\u4EE4 DHCPv6 \u4E2D\u7EE7\u4EE3\u7406\u624D\u80FD\u5728 DHCPv6 \u8BF7\u6C42\u62A5\u6587\u4E2D\u6DFB\u52A0 option 37 \u9009\u9879\u4EA4\u7ED9\u670D\u52A1\u5668\u6216\u4E0B\u4E00\u7EA7\u4E2D\u7EE7\u4EE3\u7406\u5904\u7406\u3002\u6267\u884C\u672C\u547D\u4EE4\u4E4B\u524D\u786E\u4FDD\u7CFB\u7EDF\u5DF2\u7ECF\u4F7F\u80FD DHCPv6 \u670D\u52A1</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5F00\u542F\u4EA4\u6362\u673A\u4E2D\u7EE7\u652F\u6301 option 37 \u9009\u9879\u529F\u80FD\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config)#service dhcpv6 
Switch(Config)#ipv6 dhcp relay remote-id option
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h3 id="_5-1-6-ipv6-dhcp-relay-subscriber-id" tabindex="-1"><a class="header-anchor" href="#_5-1-6-ipv6-dhcp-relay-subscriber-id" aria-hidden="true">#</a> 5.1.6 ipv6 dhcp relay subscriber-id</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp relay subscriber-id &lt;subscriber-id&gt; no ipv6 dhcp relay subscriber-id</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u7528\u4E8E\u8BBE\u7F6E\u4ECE\u63A5\u53E3\u63A5\u6536\u7684 DHCPv6 \u8BF7\u6C42\u62A5\u6587\u6DFB\u52A0 option 38 \u9009\u9879\u7684\u5F62\u5F0F\uFF0C<code>&lt;subscriber-id&gt;</code> \u4E3A\u7528\u6237\u81EA\u5B9A\u4E49\u7684 option 38 \u7684 subscriber-id \u5185\u5BB9\uFF0C\u5B83\u662F\u4E00\u4E2A\u957F\u5EA6\u5C0F\u4E8E 128 \u7684\u5B57\u7B26\u4E32\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u6062\u590D option 38 \u7684 subscriber-id \u9009\u9879\u7684\u5F62\u5F0F\u4E3A\u9ED8\u8BA4\u7684VLAN\u540D\u52A0\u7269\u7406\u7AEF\u53E3\u540D\u5F62\u5F0F\uFF0C\u5982 \u201CVlan2+Ethernet1/0/2\u201D</p></li><li><p>\u53C2\u6570\uFF1Asubscriber-id\uFF1A\u7528\u6237\u81EA\u5B9A\u4E49\u7684 option 38 \u7684\u5185\u5BB9</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528 VLAN \u540D\u52A0\u7269\u7406\u7AEF\u53E3\u540D\u5F62\u5F0F\u7684\u5F62\u5F0F\u8BBE\u7F6E option 38 \u4E2D\u7684 subscriber-id</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u63A5\u53E3\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u56E0\u4E3A\u4EA4\u6362\u673A\u6DFB\u52A0\u7684 option 38 \u4FE1\u606F\u6709\u53EF\u80FD\u914D\u5408\u7B2C\u4E09\u65B9\u7684 DHCPv6 \u670D\u52A1\u5668\u4F7F\u7528\uFF0C\u5728\u4EA4\u6362\u673A\u7684\u6807\u51C6 subscriber-id \u5F62\u5F0F\u4E0D\u80FD\u6EE1\u8DB3\u670D\u52A1\u5668\u7684\u8981\u6C42\u65F6\uFF0C\u63D0\u4F9B\u4E00\u79CD\u624B\u6BB5\u7531\u7528\u6237\u4F9D\u636E\u670D\u52A1\u5668\u60C5\u51B5\u81EA\u5DF1\u6307\u5B9A subscriber-id \u7684\u5185\u5BB9\u3002\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528VLAN\u540D\u52A0\u7269\u7406\u7AEF\u53E3\u540D\u5F62\u5F0F\u7684\u5F62\u5F0F\u8BBE\u7F6E option 38 \u4E2D\u7684 subscriber-id</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCPv6 option 38 \u9009\u9879\u7684 subscriber-id \u4E3A abc</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config-if-vlan1)# ipv6 dhcp relay subscriber-id abc
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_5-1-7-ipv6-dhcp-relay-subscriber-id-option" tabindex="-1"><a class="header-anchor" href="#_5-1-7-ipv6-dhcp-relay-subscriber-id-option" aria-hidden="true">#</a> 5.1.7 ipv6 dhcp relay subscriber-id option</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp relay subscriber-id option no ipv6 dhcp relay subscriber-id optio</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BBE\u7F6E\u672C\u547D\u4EE4\u5141\u8BB8\u4EA4\u6362\u673A\u4E2D\u7EE7\u652F\u6301 option 38 \u9009\u9879\u529F\u80FD\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u5173\u95ED\u4EA4\u6362\u673A\u4E2D\u7EE7\u7684 option 38 \u9009\u9879\u529F\u80FD</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u5173\u95ED\u4EA4\u6362\u673A\u4E2D\u7EE7\u7684 option 38\u9009\u9879\u529F\u80FD</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u4F7F\u7528\u6307\u5357\uFF1A\u53EA\u6709\u914D\u7F6E\u672C\u547D\u4EE4 DHCPv6 \u4E2D\u7EE7\u4EE3\u7406\u624D\u80FD\u5728 DHCPv6 \u8BF7\u6C42\u62A5\u6587\u4E2D\u6DFB\u52A0 option 38 \u9009\u9879\u4EA4\u7ED9\u670D\u52A1\u5668\u6216\u4E0B\u4E00\u7EA7\u4E2D\u7EE7\u4EE3\u7406\u5904\u7406\u3002\u6267\u884C\u672C\u547D\u4EE4\u4E4B\u524D\u786E\u4FDD\u7CFB\u7EDF\u5DF2\u7ECF\u4F7F\u80FD DHCPv6 \u670D\u52A1\u3002\u7CFB\u7EDF\u9ED8\u8BA4\u5173\u95ED\u4EA4\u6362\u673A\u4E2D\u7EE7\u7684 option 38 \u9009\u9879\u529F\u80FD</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5F00\u542F\u4EA4\u6362\u673A\u4E2D\u7EE7\u652F\u6301 option 38 \u9009\u9879\u529F\u80FD</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config)#service dhcpv6
Switch(Config)#ipv6 dhcp relay subscriber-id option
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h3 id="_5-1-8-ipv6-dhcp-relay-subscriber-id-select-delimiter" tabindex="-1"><a class="header-anchor" href="#_5-1-8-ipv6-dhcp-relay-subscriber-id-select-delimiter" aria-hidden="true">#</a> 5.1.8 ipv6 dhcp relay subscriber-id select delimiter</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp relay subscriber-id select (sp | sv | pv | spv) delimiter WORD (delimiter WORD | ) no ipv6 dhcp relay subscriber-id select delimiter</code></p></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u7528\u6237\u914D\u7F6E\u9009\u9879\u6765\u751F\u6210 subscriber-id\uFF0Cno \u547D\u4EE4\u6062\u590D\u4E3A\u6700\u521D\u7684\u9ED8\u8BA4\u914D\u7F6E\u5373 VLAN \u540D\u52A0\u7AEF\u53E3\u540D\u7684\u5F62\u5F0F</p></li><li><p>\u53C2\u6570\uFF1A(sp | sv | pv | spv)\uFF1A\u6B64\u9009\u9879\u662F\u5BF9 slot\uFF0Cport\uFF0Cvlan \u7684\u7EC4\u5408\u5F62\u5F0F\u7684\u9009\u62E9\uFF0Csp \u4EE3\u8868 slot \u548C port\uFF0Csv \u4EE3\u8868 slot \u548C vlan\uFF0Cpv \u4EE3\u8868 port \u548C vlan\uFF0Cspv \u4EE3\u8868 slot\u3001port \u548C vlan\u3002WORD\uFF1Aslot\uFF0Cport\uFF0Cvlan \u5206\u9694\u7B26\uFF0C\u53D6\u503C\u8303\u56F4\u662F(#|.|,|;|:|/|space)\uFF0C\u6CE8\u610F\uFF0C\u8FD9\u91CC\u6709\u4E24\u4E2A delimiter WORD\uFF0C\u7B2C\u4E00\u4E2A\u662F slot \u548C port \u95F4\u7684\u5206\u9694\u7B26\uFF0C\u7B2C\u4E8C\u4E2A\u662F port \u548C vlan \u95F4\u7684\u5206\u9694\u7B26</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u9ED8\u8BA4\u6B64\u914D\u7F6E\u4E3A\u7A7A</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8BE5\u547D\u4EE4\u5BF9\u5DF2\u7ECF\u81EA\u5B9A\u4E49 subscriber-id \u7684\u7AEF\u53E3\u4E0D\u8D77\u4F5C\u7528\uFF0C\u5982\u679C\u914D\u7F6E\u8BE5\u547D\u4EE4\u540E\uFF0C\u7528\u6237\u53C8\u81EA\u5B9A\u4E49\u7AEF\u53E3\u7684 subscriber-id\uFF0C\u5219\u4EE5\u7528\u6237\u81EA\u5B9A\u4E49\u4E3A\u51C6\u3002\u9ED8\u8BA4\u6B64\u914D\u7F6E\u4E3A\u7A7A</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Swithch(config)# ipv6 dhcp relay subscriber-id select sp delimiter 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_5-1-9-ipv6-dhcp-server-remote-id-option" tabindex="-1"><a class="header-anchor" href="#_5-1-9-ipv6-dhcp-server-remote-id-option" aria-hidden="true">#</a> 5.1.9 ipv6 dhcp server remote-id option</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp server remote-id option no ipv6 dhcp server remote-id option</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u7528\u4E8E\u8BBE\u7F6E DHCPv6 \u670D\u52A1\u5668\u652F\u6301\u5BF9 option 37 \u9009\u9879\u7684\u8BC6\u522B\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4F7F\u7CFB\u7EDF\u4E0D\u652F\u6301 option 37 \u9009\u9879</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4E0D\u652F\u6301 option 37 \u9009\u9879\u529F\u80FD</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u5982\u679C\u5E0C\u671B\u4EA4\u6362\u673A DHCPv6 \u670D\u52A1\u5668\u8BC6\u522B option 37 \u9009\u9879\u5E76\u505A\u5904\u7406\uFF0C\u9700\u8981\u914D\u7F6E\u672C\u547D\u4EE4\uFF0C\u5426\u5219\u4EA4\u6362\u673A DHCPv6 \u670D\u52A1\u5668\u4F1A\u5FFD\u89C6 option 37 \u9009\u9879\u7684\u5B58\u5728\u3002\u7CFB\u7EDF\u9ED8\u8BA4\u4E0D\u652F\u6301 option 37 \u9009\u9879\u529F\u80FD</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCPv6 \u670D\u52A1\u5668\u652F\u6301 option 37 \u9009\u9879\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config)# ipv6 dhcp server remote-id option
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_5-1-10-ipv6-dhcp-server-select-relay-forw" tabindex="-1"><a class="header-anchor" href="#_5-1-10-ipv6-dhcp-server-select-relay-forw" aria-hidden="true">#</a> 5.1.10 ipv6 dhcp server select relay-forw</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp server select relay-forw no ipv6 dhcp server select relay-forw</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u7528\u4E8E\u8BBE\u7F6E DHCPv6 \u670D\u52A1\u5668\u652F\u6301\u5BF9\u62A5\u6587\u4E2D\u5B58\u5728\u591A\u4E2A option 37 \u9009\u9879\u6216\u8005 option38 \u9009\u9879\u65F6\u5BF9\u5176\u8FDB\u884C\u9009\u62E9\uFF0C\u9009\u62E9\u6700\u91CC\u5C42 relay-forw \u4E2D\u7684 option 37 \u9009\u9879\u548C option38 \u9009\u9879\u3002\u672C\u547D\u4EE4\u7684no\u64CD\u4F5C\u6062\u590D\u9ED8\u8BA4\u8BBE\u7F6E\uFF0C\u5373\u9009\u62E9\u539F\u59CB\u62A5\u6587\u4E2D\u7684 option 37 \u9009\u9879\u548C option38 \u9009\u9879</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u9009\u62E9\u539F\u59CB\u62A5\u6587\u4E2D\u7684 option 37 \u9009\u9879\u548C option38 \u9009\u9879\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u63A5\u53E3\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u4F7F\u7528\u8BE5\u547D\u4EE4\u524D\u786E\u5B9A\u670D\u52A1\u5668\u7AEF\u5DF2\u5F00\u542F\u5BF9 option 37 \u9009\u9879\u548C option38 \u9009\u9879\u7684\u652F\u6301\u3002\u7CFB\u7EDF\u9ED8\u8BA4\u9009\u62E9\u539F\u59CB\u62A5\u6587\u4E2D\u7684 option 37 \u9009\u9879\u548C option38 \u9009</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCPv6 \u670D\u52A1\u5668 vlan1 \u63A5\u53E3\u9009\u62E9\u6700\u91CC\u5C42 relay-forw \u4E2D\u7684 option 37 \u548C option38 \u9009\u9879\u9009\u9879</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config-if-vlan1)# ipv6 dhcp server select relay-forw
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_5-1-11-ipv6-dhcp-server-subscriber-id-option" tabindex="-1"><a class="header-anchor" href="#_5-1-11-ipv6-dhcp-server-subscriber-id-option" aria-hidden="true">#</a> 5.1.11 ipv6 dhcp server subscriber-id option</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp server subscriber-id option no ipv6 dhcp server subscriber-id option</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u7528\u4E8E\u8BBE\u7F6E DHCPv6 \u670D\u52A1\u5668\u652F\u6301\u5BF9 option 38 \u9009\u9879\u7684\u8BC6\u522B\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4F7F\u7CFB\u7EDF\u4E0D\u652F\u6301 option 38 \u9009\u9879</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4E0D\u652F\u6301 option 38 \u9009\u9879\u529F\u80FD</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u4F7F\u7528\u6307\u5357\uFF1A\u5982\u679C\u5E0C\u671B\u4EA4\u6362\u673A DHCPv6 \u670D\u52A1\u5668\u8BC6\u522B option 38 \u9009\u9879\u5E76\u505A\u5904\u7406\uFF0C\u9700\u8981\u914D\u7F6E\u672C\u547D\u4EE4\uFF0C\u5426\u5219\u4EA4\u6362\u673A DHCPv6 \u670D\u52A1\u5668\u4F1A\u5FFD\u89C6 option 38 \u9009\u9879\u7684\u5B58\u5728\u3002\u7CFB\u7EDF\u9ED8\u8BA4\u4E0D\u652F\u6301 option 38 \u9009\u9879\u529F\u80FD</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCPv6 \u670D\u52A1\u5668\u652F\u6301 option 38 \u9009\u9879</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config)# ipv6 dhcp server subscriber-id option
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_5-1-12-ipv6-dhcp-snooping-information-option-remote-id-format" tabindex="-1"><a class="header-anchor" href="#_5-1-12-ipv6-dhcp-snooping-information-option-remote-id-format" aria-hidden="true">#</a> 5.1.12 ipv6 dhcp snooping information option remote-id format</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp snooping information option remote-id format {hex | acsii }</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u8BBE\u7F6E\u4EA4\u6362\u673A\u4E2D\u7EE7\u4EE3\u7406\u7684 DHCPV6 option37 \u529F\u80FD remote-id \u683C\u5F0F</p></li><li><p>\u53C2\u6570\uFF1Ahex \u8868\u793A remote-id \u4E3A\u5341\u516D\u8FDB\u5236\u683C\u5F0F\u7684\u4EA4\u6362\u673A VLAN MAC \u5730\u5740\uFF0Cacsii \u8868\u793A remote-id \u4E3A\u4E3A ACSII \u683C\u5F0F\u7684\u4EA4\u6362\u673A VLAN MAC \u5730\u5740</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4 option37 \u529F\u80FD remote-id \u683C\u5F0F\u4E3A acsii</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u4F7F\u7528\u6307\u5357\uFF1A\u5341\u516D\u8FDB\u5236\u7684 remote-id \u683C\u5F0F\u5B9A\u4E49\u5982\u4E0B\uFF1A <img src="`+s+`" alt="5.jpg"> \u5176\u4E2DMAC\u4E3A\u4EA4\u6362\u673A VLAN MAC \u5730\u5740\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E\u4EA4\u6362\u673A DHCP snooping option37 \u529F\u80FD remote-id \u4E3A\u9ED8\u8BA4\u683C\u5F0F</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ipv6 dhcp snooping information option remote-id format acsii
\u200B\`\`\`5555555555555

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h3 id="_5-1-13-ipv6-dhcp-snooping-information-option-subscriber-id-format" tabindex="-1"><a class="header-anchor" href="#_5-1-13-ipv6-dhcp-snooping-information-option-subscriber-id-format" aria-hidden="true">#</a> 5.1.13 ipv6 dhcp snooping information option subscriber-id format</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp snooping information option subscriber-id format {hex | acsii }</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u8BBE\u7F6E DHCPv6 snooping option38 \u529F\u80FD subscriber-id \u9ED8\u8BA4\u683C\u5F0F</p></li><li><p>\u53C2\u6570\uFF1Ahex \u8868\u793A subscriber-id \u4E3A\u5341\u516D\u8FDB\u5236\u683C\u5F0F\u7684 VLAN \u548C\u7AEF\u53E3\u4FE1\u606F\uFF0Cacsii \u8868\u793A subscriber-id \u4E3A ACSII \u683C\u5F0F\u7684 VLAN \u548C\u7AEF\u53E3\u4FE1\u606F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4 option38 \u529F\u80FD subscriber-id \u683C\u5F0F\u4E3A acsii</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1AASCII \u683C\u5F0F\u7684VLAN\u548C\u7AEF\u53E3\u4FE1\u606F\u5F62\u5982 Vlan1+Ethernet1/0/11\u3002\u5341\u516D\u8FDB\u5236\u683C\u5F0F\u7684 VLAN \u548C\u7AEF\u53E3\u4FE1\u606F\u5B9A\u4E49\u5982\u4E0B \u7684 VLAN \u548C\u7AEF\u53E3\u4FE1\u606F\u5B9A\u4E49\u5982\u4E0B\uFF1A \uFF01<a href="./img/07/6.jpg">6.jpg</a> \u5176\u4E2D\uFF0CVLAN \u5B57\u6BB5\u586B\u5199\u4EA4\u6362\u673A VLAN ID\u3002Slot \u5BF9\u4E8E\u673A\u67B6\u5F0F\u4EA4\u6362\u673A\uFF0C\u8868\u793A\u63D2\u69FD\u53F7\uFF1B\u5BF9\u4E8E\u76D2\u5F0F\u4EA4\u6362\u673A\uFF0C\u4E3A1\u3002Module \u9ED8\u8BA4\u4E3A0\u3002Port \u8868\u793A\u7AEF\u53E3\u53F7\uFF0C\u4ECE1\u5F00\u59CB</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E\u4EA4\u6362\u673A DHCP snooping option38 \u529F\u80FD subscriber-id \u683C\u5F0F\u4E3A\u5341\u516D\u8FDB\u5236\u683C\u5F0F\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ipv6 dhcp snooping information option subscriber-id format hex
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_5-1-14-ipv6-dhcp-snooping-remote-id" tabindex="-1"><a class="header-anchor" href="#_5-1-14-ipv6-dhcp-snooping-remote-id" aria-hidden="true">#</a> 5.1.14 ipv6 dhcp snooping remote-id</h3><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp snooping remote-id &lt;remote-id&gt; no ipv6 dhcp snooping remote-id</code> \u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u7528\u4E8E\u8BBE\u7F6E\u5728\u63A5\u6536\u7684DHCPv6\u8BF7\u6C42\u62A5\u6587\u4E2D\u6DFB\u52A0 option 37 \u9009\u9879\u7684\u5F62\u5F0F\uFF0C<code>&lt;remote-id&gt;</code>\u4E3A\u7528\u6237\u81EA\u5B9A\u4E49\u7684 option 37 \u4E2D remote-id \u7684\u5185\u5BB9\uFF0C\u5B83\u662F\u4E00\u4E2A\u957F\u5EA6\u5C0F\u4E8E128\u7684\u5B57\u7B26\u4E32\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u6062\u590D option 37 \u4E2D remote-id \u7684\u5185\u5BB9\u4E3A\u9ED8\u8BA4\u7684 enterprise-number \u548C vlan MAC \u5730\u5740 \u53C2\u6570\uFF1Aremote-id\uFF1A\u7528\u6237\u81EA\u5B9A\u4E49\u7684 option 37 \u7684\u5185\u5BB9 \u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528 vlan MAC \u5730\u5740\u4F5C\u4E3A remote-id \u7684\u5185\u5BB9\uFF0Cvlan MAC \u5F62\u5F0F\u5982\u201C00-01-ac-12-23\u201D\uFF0C\u4E2D\u95F4\u7684\u8FDE\u5B57\u7B26\u4E3A\u2018-\u2019 \u547D\u4EE4\u6A21\u5F0F\uFF1A\u7AEF\u53E3\u914D\u7F6E\u6A21\u5F0F \u4F7F\u7528\u6307\u5357\uFF1A\u56E0\u4E3A\u4EA4\u6362\u673A\u6DFB\u52A0\u7684 option 37 \u4FE1\u606F\u6709\u53EF\u80FD\u914D\u5408\u7B2C\u4E09\u65B9\u7684 DHCPv6 \u670D\u52A1\u5668\u4F7F\u7528\uFF0C\u5728\u4EA4\u6362\u673A\u7684\u6807\u51C6 remote-id \u5F62\u5F0F\u4E0D\u80FD\u6EE1\u8DB3\u670D\u52A1\u5668\u7684\u8981\u6C42\u65F6\uFF0C\u63D0\u4F9B\u4E00\u79CD\u624B\u6BB5\u7531\u7528\u6237\u4F9D\u636E\u670D\u52A1\u5668\u60C5\u51B5\u81EA\u5DF1\u6307\u5B9A remote-id \u7684\u5185\u5BB9\u3002\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528 enterprise-number \u548C vlan MAC \u5730\u5740\u4F5C\u4E3A remote-id \u7684\u5185\u5BB9 \u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCPv6 option 37 \u9009\u9879\u7684 remote-id\u4E3Aabc\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config-if-Ethernet1/0/1)#ipv6 dhcp snooping remote-id abc
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_5-1-15-ipv6-dhcp-snooping-remote-id-option" tabindex="-1"><a class="header-anchor" href="#_5-1-15-ipv6-dhcp-snooping-remote-id-option" aria-hidden="true">#</a> 5.1.15 ipv6 dhcp snooping remote-id option</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp snooping remote-id option no ipv6 dhcp snooping remote-id option</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BBE\u7F6E\u672C\u547D\u4EE4\u5141\u8BB8 DHCPv6 SNOOPING \u652F\u6301 option 37 \u9009\u9879\u529F\u80FD\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u5173\u95ED DHCPv6 SNOOPING \u7684 option 37 \u9009\u9879\u529F\u80FD</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u5173\u95ED DHCPv6 SNOOPING \u4E2D\u7684 option 37 \u9009\u9879\u529F\u80FD</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u53EA\u6709\u914D\u7F6E\u672C\u547D\u4EE4 DHCPv6 SNOOPING \u624D\u80FD\u5728 DHCPv6 \u62A5\u6587\u4E2D\u6DFB\u52A0 option 37 \u9009\u9879\u4EA4\u7ED9\u4E2D\u7EE7\u4EE3\u7406\u6216\u670D\u52A1\u5668\u3002\u6267\u884C\u672C\u547D\u4EE4\u4E4B\u524D\u786E\u4FDD\u7CFB\u7EDF\u5DF2\u7ECF\u4F7F\u80FD DHCPv6 SNOOPING\u3002\u7CFB\u7EDF\u9ED8\u8BA4\u5173\u95ED DHCPv6 SNOOPING \u4E2D\u7684 option 37 \u9009\u9879\u529F\u80FD</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5F00\u542F DHCPv6 SNOOPING \u7684 option 37 \u9009\u9879\u529F\u80FD</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config)#ipv6 dhcp snooping enable
Switch(Config)#ipv6 dhcp snooping remote-id option
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h3 id="_5-1-16-ipv6-dhcp-snooping-remote-id-policy" tabindex="-1"><a class="header-anchor" href="#_5-1-16-ipv6-dhcp-snooping-remote-id-policy" aria-hidden="true">#</a> 5.1.16 ipv6 dhcp snooping remote-id policy</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp snooping remote-id policy {drop | keep | replace} no ipv6 dhcp snooping remote-id policy</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u7528\u4E8E\u8BBE\u7F6E\u7CFB\u7EDF\u5BF9\u4E8E\u63A5\u6536\u5230\u7684\u542B\u6709 option 37 \u9009\u9879\u7684 DHCPv6 \u62A5\u6587\u7684\u91CD\u8F6C\u53D1\u7B56\u7565\uFF0C\u5176\u4E2Ddrop\u6A21\u5F0F\u8868\u793A\u5982\u679C\u62A5\u6587\u4E2D\u542B\u6709 option 37 \u9009\u9879\uFF0C\u5219\u7CFB\u7EDF\u4E22\u5F03\u8BE5 DHCPv6 \u62A5\u6587\u4E0D\u4F5C\u5904\u7406\uFF1Bkeep \u6A21\u5F0F\u8868\u793A\u7CFB\u7EDF\u4FDD\u6301\u73B0\u6709\u62A5\u6587\u4E2D\u7684 option 37 \u9009\u9879\u4E0D\u53D8\u8F6C\u53D1\u7ED9\u670D\u52A1\u5668\u5904\u7406\uFF1Breplace\u6A21\u5F0F\u8868\u793A\u7CFB\u7EDF\u4F7F\u7528\u81EA\u5DF1\u7684 option 37 \u9009\u9879\u66FF\u6362\u73B0\u6709\u62A5\u6587\u4E2D\u7684 option 37 \u9009\u9879\uFF0C\u7136\u540E\u8F6C\u53D1\u7ED9\u670D\u52A1\u5668\u5904\u7406\u3002\u672C\u547D\u4EE4\u7684no\u64CD\u4F5C\u8BBE\u7F6E option 37 \u9009\u9879 DHCPv6 \u62A5\u6587\u7684\u91CD\u8F6C\u53D1\u7B56\u7565\u4E3A replace</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528 replace \u6A21\u5F0F\u4F7F\u7528\u672C\u7CFB\u7EDF\u7684 option 37 \u9009\u9879\u66FF\u6362\u73B0\u6709\u62A5\u6587\u4E2D\u7684 option \u9009\u9879</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u4F7F\u7528\u6307\u5357\uFF1A\u7531\u4E8E DHCPv6 \u5BA2\u6237\u7AEF\u62A5\u6587\u53EF\u80FD\u5DF2\u7ECF\u542B\u6709 option 37 \u9009\u9879\u4FE1\u606F\uFF0C\u6240\u4EE5\u987B\u5236\u5B9A DHCPv6 SNOOPING \u5BF9\u8BE5\u4FE1\u606F\u7684\u5904\u7406\u7B56\u7565\u3002\u5982\u679C\u91CD\u8F6C\u53D1\u7B56\u7565\u8BBE\u7F6E\u4E3A replace\uFF0C\u7CFB\u7EDF\u9884\u5148\u5FC5\u987B\u5F00\u542F option 37 \u9009\u9879\u529F\u80FD\u3002\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528 replace \u6A21\u5F0F\u4F7F\u7528\u672C\u7CFB\u7EDF\u7684 option 37 \u9009\u9879\u66FF\u6362\u73B0\u6709\u62A5\u6587\u4E2D\u7684 option \u9009\u9879</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCPv6 SNOOPING \u5BF9 DHCPv6 \u62A5\u6587\u7684 ption 37 \u9009\u9879\u7684\u91CD\u8F6C\u53D1\u7B56\u7565\u4E3A keep</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config)# ipv6 dhcp snooping remote-id policy keep
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_5-1-17-ipv6-dhcp-snooping-subscriber-id" tabindex="-1"><a class="header-anchor" href="#_5-1-17-ipv6-dhcp-snooping-subscriber-id" aria-hidden="true">#</a> 5.1.17 ipv6 dhcp snooping subscriber-id</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp snooping subscriber-id &lt;subscriber-id&gt; no ipv6 dhcp snooping subscriber-id</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u7528\u4E8E\u8BBE\u7F6E\u5728\u63A5\u6536\u7684 DHCPv6 \u8BF7\u6C42\u62A5\u6587\u4E2D\u6DFB\u52A0 option 38 \u9009\u9879\u7684\u5F62\u5F0F\uFF0C<code>&lt;subscriber-id&gt;</code>\u4E3A\u7528\u6237\u81EA\u5B9A\u4E49\u7684 option 38 \u4E2D subscriber-id \u7684\u5185\u5BB9\uFF0C\u5B83\u662F\u4E00\u4E2A\u957F\u5EA6\u5C0F\u4E8E 128 \u7684\u5B57\u7B26\u4E32\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u6062\u590D option 38 \u4E2D subscriber-id \u7684\u5185\u5BB9\u4E3A\u9ED8\u8BA4\u7684 VLAN \u540D\u52A0\u7269\u7406\u7AEF\u53E3\u540D\u5F62\u5F0F\uFF0C\u5982 \u201CVlan2+Ethernet1/0/2\u201D</p></li><li><p>\u53C2\u6570\uFF1Asubscriber-id\uFF1A\u7528\u6237\u81EA\u5B9A\u4E49\u7684 option 38 \u7684\u5185\u5BB9</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528 VLAN \u540D\u52A0\u7269\u7406\u7AEF\u53E3\u540D\u5F62\u5F0F\u7684\u5F62\u5F0F\u8BBE\u7F6E option 38 \u4E2D\u7684 subscriber-id</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7AEF\u53E3\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u56E0\u4E3A\u4EA4\u6362\u673A\u6DFB\u52A0\u7684 option 38 \u4FE1\u606F\u6709\u53EF\u80FD\u914D\u5408\u7B2C\u4E09\u65B9\u7684 DHCPv6 \u670D\u52A1\u5668\u4F7F\u7528\uFF0C\u5728\u4EA4\u6362\u673A\u7684\u6807\u51C6 subscriber-id \u5F62\u5F0F\u4E0D\u80FD\u6EE1\u8DB3\u670D\u52A1\u5668\u7684\u8981\u6C42\u65F6\uFF0C\u63D0\u4F9B\u4E00\u79CD\u624B\u6BB5\u7531\u7528\u6237\u4F9D\u636E\u670D\u52A1\u5668\u60C5\u51B5\u81EA\u5DF1\u6307\u5B9A subscriber-id \u7684\u5185\u5BB9\u3002\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528VLAN\u540D\u52A0\u7269\u7406\u7AEF\u53E3\u540D\u5F62\u5F0F\u7684\u5F62\u5F0F\u8BBE\u7F6E option 38 \u4E2D\u7684 subscriber-id</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCPv6 option 38 \u9009\u9879\u7684 subscriber-id \u4E3A abc</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config-if-Ethernet1/0/1)#ipv6 dhcp snooping subscriber-id abc
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_5-1-18-ipv6-dhcp-snooping-subscriber-id-option" tabindex="-1"><a class="header-anchor" href="#_5-1-18-ipv6-dhcp-snooping-subscriber-id-option" aria-hidden="true">#</a> 5.1.18 ipv6 dhcp snooping subscriber-id option</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp snooping subscriber-id option no ipv6 dhcp snooping subscriber-id option</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BBE\u7F6E\u672C\u547D\u4EE4\u5141\u8BB8 DHCPv6 SNOOPING \u652F\u6301 option 38 \u9009\u9879\u529F\u80FD\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u5173\u95ED DHCPv6 SNOOPING \u7684 option 38 \u9009\u9879\u529F\u80FD</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u5173\u95ED DHCPv6 SNOOPING \u4E2D\u7684 option 38 \u9009\u9879\u529F\u80FD</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u53EA\u6709\u914D\u7F6E\u672C\u547D\u4EE4 DHCPv6 SNOOPING \u624D\u80FD\u5728 DHCPv6 \u62A5\u6587\u4E2D\u6DFB\u52A0 option 38 \u9009\u9879\u4EA4\u7ED9\u4E2D\u7EE7\u4EE3\u7406\u6216\u670D\u52A1\u5668\u3002\u6267\u884C\u672C\u547D\u4EE4\u4E4B\u524D\u786E\u4FDD\u7CFB\u7EDF\u5DF2\u7ECF\u4F7F\u80FD DHCPv6 SNOOPING\u3002\u7CFB\u7EDF\u9ED8\u8BA4\u5173\u95ED DHCPv6 SNOOPING \u4E2D\u7684 option 38 \u9009\u9879\u529F\u80FD</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5F00\u542F DHCPv6 SNOOPING \u7684 option 38 \u9009\u9879\u529F\u80FD</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config)#ipv6 dhcp snooping enable
Switch(Config)#ipv6 dhcp snooping subscriber-id option
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h3 id="_5-1-19-ipv6-dhcp-snooping-subscriber-id-policy" tabindex="-1"><a class="header-anchor" href="#_5-1-19-ipv6-dhcp-snooping-subscriber-id-policy" aria-hidden="true">#</a> 5.1.19 ipv6 dhcp snooping subscriber-id policy</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp snooping subscriber-id policy {drop | keep | replace} no ipv6 dhcp snooping subscriber-id policy</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u7528\u4E8E\u8BBE\u7F6E\u7CFB\u7EDF\u5BF9\u4E8E\u63A5\u6536\u5230\u7684\u542B\u6709 option 38 \u9009\u9879\u7684 DHCPv6 \u62A5\u6587\u7684\u91CD\u8F6C\u53D1\u7B56\u7565\uFF0C\u5176\u4E2D drop \u6A21\u5F0F\u8868\u793A\u5982\u679C\u62A5\u6587\u4E2D\u542B\u6709 option 38 \u9009\u9879\uFF0C\u5219\u7CFB\u7EDF\u4E22\u5F03\u8BE5 DHCPv6 \u62A5\u6587\u4E0D\u4F5C\u5904\u7406\uFF1Bkeep \u6A21\u5F0F\u8868\u793A\u7CFB\u7EDF\u4FDD\u6301\u73B0\u6709\u62A5\u6587\u4E2D\u7684 option 38 \u9009\u9879\u4E0D\u53D8\u8F6C\u53D1\u7ED9\u670D\u52A1\u5668\u5904\u7406\uFF1Breplace \u6A21\u5F0F\u8868\u793A\u7CFB\u7EDF\u4F7F\u7528\u81EA\u5DF1\u7684 option 38 \u9009\u9879\u66FF\u6362\u73B0\u6709\u62A5\u6587\u4E2D\u7684 option 38 \u9009\u9879\uFF0C\u7136\u540E\u8F6C\u53D1\u7ED9\u670D\u52A1\u5668\u5904\u7406\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u8BBE\u7F6E option 38 \u9009\u9879 DHCPv6 \u62A5\u6587\u7684\u91CD\u8F6C\u53D1\u7B56\u7565\u4E3A replace</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528 replace \u6A21\u5F0F\u4F7F\u7528\u672C\u7CFB\u7EDF\u7684 option 38 \u9009\u9879\u66FF\u6362\u73B0\u6709\u62A5\u6587\u4E2D\u7684 option 38 \u9009\u9879</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u7531\u4E8E DHCPv6 \u5BA2\u6237\u7AEF\u62A5\u6587\u53EF\u80FD\u5DF2\u7ECF\u542B\u6709 option 38 \u9009\u9879\u4FE1\u606F\uFF0C\u6240\u4EE5\u987B\u5236\u5B9A DHCPv6SNOOPING \u5BF9\u8BE5\u4FE1\u606F\u7684\u5904\u7406\u7B56\u7565\u3002\u5982\u679C\u91CD\u8F6C\u53D1\u7B56\u7565\u8BBE\u7F6E\u4E3A replace\uFF0C\u7CFB\u7EDF\u9884\u5148\u5FC5\u987B\u5F00\u542F option 38 \u9009\u9879\u529F\u80FD\u3002\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528 replace \u6A21\u5F0F\u4F7F\u7528\u672C\u7CFB\u7EDF\u7684 option 38 \u9009\u9879\u66FF\u6362\u73B0\u6709\u62A5\u6587\u4E2D\u7684 option 38 \u9009\u9879</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCPv6 SNOOPING \u5BF9 DHCPv6 \u62A5\u6587\u7684 option 38 \u9009\u9879\u7684\u91CD\u8F6C\u53D1\u7B56\u7565\u4E3A keep</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config)# ipv6 dhcp snooping subscriber-id policy keep
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_5-1-20-ipv6-dhcp-snooping-subscriber-id-select-delimiter" tabindex="-1"><a class="header-anchor" href="#_5-1-20-ipv6-dhcp-snooping-subscriber-id-select-delimiter" aria-hidden="true">#</a> 5.1.20 ipv6 dhcp snooping subscriber-id select delimiter</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp snooping subscriber-id select (sp | sv | pv | spv) delimiter WORD (delimiter WORD | ) no ipv6 dhcp snooping subscriber-id select delimiter</code></p></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u7528\u6237\u914D\u7F6E\u9009\u9879\u6765\u751F\u6210 subscriber-id\uFF0Cno \u547D\u4EE4\u6062\u590D\u4E3A\u6700\u521D\u7684\u9ED8\u8BA4\u914D\u7F6E\u5373 VLAN \u540D\u52A0\u7AEF\u53E3\u540D\u7684\u5F62\u5F0F</p></li><li><p>\u53C2\u6570\uFF1A(sp | sv | pv | spv)\uFF1A\u6B64\u9009\u9879\u662F\u5BF9 slot\uFF0Cport\uFF0Cvlan \u7684\u7EC4\u5408\u5F62\u5F0F\u7684\u9009\u62E9\uFF0Csp \u4EE3\u8868 slot \u548C port\uFF0Csv \u4EE3\u8868 slot \u548C vlan\uFF0Cpv \u4EE3\u8868 port \u548C vlan\uFF0Cspv \u4EE3\u8868 slot\u3001port \u548C vlan\u3002WORD\uFF1Aslot\uFF0Cport\uFF0Cvlan \u5206\u9694\u7B26\uFF0C\u53D6\u503C\u8303\u56F4\u662F(#|.|,|;|:|/|space)\uFF0C\u6CE8\u610F\uFF0C\u8FD9\u91CC\u6709\u4E24\u4E2A delimiter WORD\uFF0C\u7B2C\u4E00\u4E2A\u662F slot \u548C port \u95F4\u7684\u5206\u9694\u7B26\uFF0C\u7B2C\u4E8C\u4E2A\u662F port \u548C vlan \u95F4\u7684\u5206\u9694\u7B26</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u9ED8\u8BA4\u6B64\u914D\u7F6E\u4E3A\u7A7A</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8BE5\u547D\u4EE4\u5BF9\u5DF2\u7ECF\u81EA\u5B9A\u4E49 subscriber-id \u7684\u7AEF\u53E3\u4E0D\u8D77\u4F5C\u7528\uFF0C\u5982\u679C\u914D\u7F6E\u8BE5\u547D\u4EE4\u540E\uFF0C\u7528\u6237\u53C8\u81EA\u5B9A\u4E49\u7AEF\u53E3\u7684 subscriber-id\uFF0C\u5219\u4EE5\u7528\u6237\u81EA\u5B9A\u4E49\u4E3A\u51C6\u3002\u9ED8\u8BA4\u6B64\u914D\u7F6E\u4E3A\u7A7A</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Swithc(config)# ipv6 dhcp snooping subscriber-id select sv delimiter #
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_5-1-21-ipv6-dhcp-use-class" tabindex="-1"><a class="header-anchor" href="#_5-1-21-ipv6-dhcp-use-class" aria-hidden="true">#</a> 5.1.21 <code>ipv6 dhcp use class</code></h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ipv6 dhcp use class no ipv6 dhcp use class</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u7528\u4E8E\u8BBE\u7F6E DHCPv6 \u670D\u52A1\u5668\u5728\u8FDB\u884C\u5730\u5740\u5206\u914D\u65F6\u652F\u6301\u4F7F\u7528 DHCPv6 class\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u4F7F\u670D\u52A1\u5668\u5728\u8FDB\u884C\u5730\u5740\u5206\u914D\u65F6\u4E0D\u652F\u6301\u4F7F\u7528 DHCPv6<br> class\uFF0C\u4F46\u662F\u5374\u5E76\u4E0D\u5220\u9664\u5DF2\u7ECF\u914D\u7F6E\u7684\u6709\u5173 DHCPv6 class \u7684\u4FE1\u606F\u3002</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4 DHCPv6 \u670D\u52A1\u5668\u5728\u8FDB\u884C\u5730\u5740\u5206\u914D\u65F6\u652F\u6301\u4F7F\u7528 DHCPv6 class\u3002\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u9ED8\u8BA4 DHCPv6 \u670D\u52A1\u5668\u5728\u8FDB\u884C\u5730\u5740\u5206\u914D\u65F6\u652F\u6301\u4F7F\u7528DHCPv6 class\uFF0C\u8FDB\u884C no \u547D\u4EE4\u64CD\u4F5C\u65F6\u5E76\u4E0D\u5220\u9664\u5DF2\u914D\u7F6E\u7684 DHCPv6 class \u4FE1\u606F\u3002\u6267\u884C\u672C\u547D\u4EE4\u4E4B\u524D\u786E\u4FDD\u7CFB\u7EDF\u5DF2\u7ECF\u4F7F\u80FD DHCPv6\u670D\u52A1\u3002\u7CFB\u7EDF\u9ED8\u8BA4 DHCPv6 \u670D\u52A1\u5668\u5728\u8FDB\u884C\u5730\u5740\u5206\u914D\u65F6\u652F\u6301\u4F7F\u7528 DHCPv6 class\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCPv6 \u670D\u52A1\u5668\u5728\u8FDB\u884C\u5730\u5740\u5206\u914D\u65F6\u652F\u6301\u4F7F\u7528 DHCPv6 class\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config)# ipv6 dhcp use class
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_5-1-22-remote-id-subscriber-id" tabindex="-1"><a class="header-anchor" href="#_5-1-22-remote-id-subscriber-id" aria-hidden="true">#</a> 5.1.22 <code>remote-id subscriber-id</code></h3><ul><li><p>\u547D\u4EE4\uFF1A<code>{remote-id [*] &lt;remote-id&gt; [*] | subscriber-id [*] &lt;subscriber-id&gt; [*]} no {remote-id [*] &lt;remote-id&gt; [*] | subscriber-id [*] &lt; subscriber-id&gt; [*]}</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u5728 IPv6 DHCP Class \u914D\u7F6E\u6A21\u5F0F\u4E0B\u914D\u7F6E\u5339\u914D\u8BE5 class \u7684option37 \u9009\u9879\u548C option38\u9009\u9879\u3002</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;remote-id&gt;</code>: \u5B57\u7B26\u4E32\uFF0C\u7528\u6765\u5339\u914D 37 \u9009\u9879\u4E2D remote-id \u7684\u5185\u5BB9\uFF0C\u8303\u56F4\u5728 1-128 \u5B57\u8282\u3002 <code>&lt;subscriber-id&gt;</code>:\u5B57\u7B26\u4E32\uFF0C\u7528\u6765\u5339\u914D 38 \u9009\u9879\u4E2D subscriber-id \u7684\u5185\u5BB9\uFF0C\u8303\u56F4\u5728 1-128\u5B57\u8282\u3002 [*]:\u53EF\u5339\u914D 0 \u4E2A\u6216\u591A\u4E2A\u5B57\u7B26\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1AIPv6 DHCP Class \u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8BE5\u547D\u4EE4\u7528\u6765\u8BBE\u7F6E\u4E00\u4E2A\u4E0E\u5DF2\u7ECF\u5B9A\u4E49\u7684 DHCPv6 class \u76F8\u5339\u914D\u7684\u6A21\u5F0F\u3002\u53EF\u4EE5\u5728\u4E00\u4E2A DHCPv6 class \u914D\u7F6E\u591A\u6761\u547D\u4EE4\u3002\u5982\u679C\u5FFD\u7565\u8BE5\u547D\u4EE4\uFF0C\u5728 IPv6 DHCP Class \u6A21\u5F0F\u4E0B\u4E0D\u914D\u7F6E\u4EFB\u4F55\u6A21\u5F0F\uFF0C \u90A3\u4E48\u5C31\u8BA4\u4E3A\u4EFB\u4F55\u4E00\u4E2A remote-id \u6216\u8005 subscriber-id \u90FD\u4E0E\u8FD9\u4E2A DHCPv6 class \u76F8\u5339\u914D\uFF0C\u4F46\u662F\u8FD9\u4E2A remote-id \u6216\u8005 subscriber-id \u5FC5\u987B\u662F\u5728 DHCPv6 packet \u4E2D\u5B58\u5728\u7684\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5728\u540D\u4E3A CLASS1 \u7684 DHCPv6 class \u4E2D\u914D\u7F6E\u82E5\u5E72\u5C5E\u4E8E\u8BE5 class \u7684 remote-id \u6216\u8005 subscriber-id \u5185\u5BB9\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config)# ipv6 dhcp class CLASS1 Switch(Dhcpv6-class)#remote-id abc* subscriber-id bcd* 
Switch(Dhcpv6-class)#remote-id edf*
Switch(Dhcpv6-class)#subscriber *mmn
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h2 id="_5-2-\u76D1\u6D4B\u548C\u8C03\u8BD5\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_5-2-\u76D1\u6D4B\u548C\u8C03\u8BD5\u547D\u4EE4" aria-hidden="true">#</a> 5.2 \u76D1\u6D4B\u548C\u8C03\u8BD5\u547D\u4EE4</h2><h3 id="_5-2-1-debug-ipv6-dhcp-detail" tabindex="-1"><a class="header-anchor" href="#_5-2-1-debug-ipv6-dhcp-detail" aria-hidden="true">#</a> 5.2.1 <code>debug ipv6 dhcp detail</code></h3><ul><li><p>\u547D\u4EE4\uFF1A<code>debug ipv6 dhcp detail</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A DHCPv6 \u6536\u53D1\u5404\u7C7B\u62A5\u6587\u8BE6\u7EC6\u5185\u5BB9\u7684 debug \u663E\u793A\uFF0C\u5982\u679C\u62A5\u6587\u4E2D\u643A\u5E26 option 37\u3001 option 38\uFF0C\u5176\u5185\u5BB9\u4E5F\u4F1A\u663E\u793A\u51FA\u6765\u3002\u8FD9\u4E2A\u547D\u4EE4\u5728 server \u7AEF\u548C relay \u7AEF\u5747\u9002\u7528\u3002</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u5F00\u542F/\u5173\u95ED DHCPv6 \u6536\u53D1\u62A5\u6587\u8BE6\u7EC6\u5185\u5BB9\u7684 debug \u663E\u793A\u3002 \u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch# debug ipv6 dhcp detail
%Jan 01 01:38:45 2006 DHCPv6 DETAILS: contents of SOLICIT packet
%Jan 01 01:38:45 2006         transaction-ID: 0x00b2d47c
%Jan 01 01:38:45 2006     elapsed time option(8), option-len 2
%Jan 01 01:38:45 2006         elapsed time: 0
%Jan 01 01:38:45 2006     client ID option(1), option-len 14
%Jan 01 01:38:45 2006         DUID: 00:01:00:01:0f:55:82:4f:00:19:e0:3f:d1:83
%Jan 01 01:38:45 2006     identity association option(3), option-len 12
%Jan 01 01:38:45 2006         IANA: 0x0e001d92, T1 0, T2 0
%Jan 01 01:38:45 2006     vendor class option(16), option-len 14
%Jan 01 01:38:45 2006         enterprise number : 311
%Jan 01 01:38:45 2006     option request option(6), option-len 6
%Jan 01 01:38:45 2006         requested-option: domain search list
%Jan 01 01:38:45 2006         requested-option: DNS server list
%Jan 01 01:38:45 2006         requested-option: vendor specific info
%Jan 01 01:38:45 2006     remote-id option(37), option-len 14
%Jan 01 01:38:45 2006         remote-id : 0x0a0b0c
%Jan 01 01:38:45 2006     subscriber-id option(38), option-len 16
%Jan 01 01:38:45 2006         subscriber-id : 0x0a0b0c0d
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li></ul><h3 id="_5-2-2-debug-ipv6-dhcp-relay-packet" tabindex="-1"><a class="header-anchor" href="#_5-2-2-debug-ipv6-dhcp-relay-packet" aria-hidden="true">#</a> 5.2.2 <code>debug ipv6 dhcp relay packet</code></h3><ul><li><p>\u547D\u4EE4\uFF1A<code>debug ip dhcp relay packet</code></p></li><li><p>\u529F\u80FD\uFF1A\u4F7F\u7528\u672C\u547D\u4EE4\u663E\u793A\u7CFB\u7EDF\u5904\u7406\u4E2D\u7EE7\u6570\u636E\u5305\u7684\u4FE1\u606F</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8FD0\u884C\u65F6\u4F7F\u7528\u672C\u547D\u4EE4\u663E\u793A\u4E2D\u7EE7\u4EE3\u7406\u5904\u7406\u4E2D\u7EE7\u6570\u636E\u5305\u7684\u8FC7\u7A0B\uFF0C\u5E76\u663E\u793A\u76F8\u5E94\u7684 option 37 \u548C option 38 \u7684\u52A8\u4F5C</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch# debug ip dhcpv6 relay packet
%May    19    16:45:34    2010    DHCPv6    RELAY    PACKET:    received    msg0    from
&lt;fe80::211:22ff:fe33:4455&gt; on &lt;Vlan8&gt;
%May   19   16:45:34   2010   DHCPv6   RELAY   PACKET:   add   subscriber-id   option
\u201CVlan8+Ethernet1/0/12\u201D
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul><h3 id="_5-2-3-debug-ipv6-dhcp-snooping-packet" tabindex="-1"><a class="header-anchor" href="#_5-2-3-debug-ipv6-dhcp-snooping-packet" aria-hidden="true">#</a> 5.2.3 <code>debug ipv6 dhcp snooping packet</code></h3><ul><li><p>\u547D\u4EE4\uFF1A<code>debug ipv6 dhcp snooping packet</code></p></li><li><p>\u529F\u80FD\uFF1A\u8C03\u8BD5 DHCPv6 SNOOPING \u62A5\u6587\u4FE1\u606F\uFF0C\u5982\u679C\u6DFB\u52A0\u3001\u5220\u9664option37 \u4E0E option38\uFF0C\u76F8\u5E94\u4FE1\u606F\u4E5F\u4F1A\u663E\u793A\u3002</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u5F00\u542F/\u5173\u95ED DHCPv6 snooping \u5904\u7406dhcpv6 \u62A5\u6587\u7684\u4FE1\u606F\uFF0C\u5305\u62EC\u63A5\u6536\u62A5\u6587\u7C7B\u578B\uFF0C\u62A5\u6587\u6E90 MAC\uFF0C\u76EE\u7684 MAC\uFF0C\u5BA2\u6237\u7AEF\u6807\u8BC6 client DUID\uFF0CIA</p></li><li><p>\u5730\u5740\uFF0C\u4F18\u5148\u751F\u5B58\u671F\uFF08preferred lifetime\uFF09\uFF0C\u6709\u6548\u751F\u5B58\u671F\uFF08valid lifetime\uFF09\uFF0C\u62A5\u6587\u4E22\u5F03\u7B49\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch#debug ipv6 dhcp snooping packet dhcpv6 snooping packet debug is on
switch#%Jan  05  00:26:40  2006  DHCP6SNP  EVENT:  Parse  packet  SOLICIT  from fe80::200:ff:fe00:1
src MAC 00-00-00-00-00-01 interface Ethernet1/0/23 vlan 24
%Jan 05 00:26:40 2006 DHCP6SNP PACKET: Receive DHCPv6 packet SOLICIT from fe80::200:ff:fe00:1 src MAC 00-00-00-00-00-01, dst MAC 33-33-00-01-00-02, interface Ethernet1/0/23 vlan 24, transaction-ID 6137412, smac host flag 0, dmac host flag 0 %Jan 05 00:26:40 2006 DHCP6SNP PACKET: Forward packet SOLICIT (protocol 0x37) %Jan 05 00:26:40 2006 DHCP6SNP PACKET: to vlan 24 except port Ethernet1/0/23 (designPort flag 0) %Jan 05 00:26:40 2006 DHCP6SNP PACKET: and return packet to network stack switch#
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul><h3 id="_5-2-4-show-ipv6-dhcp-relay-option" tabindex="-1"><a class="header-anchor" href="#_5-2-4-show-ipv6-dhcp-relay-option" aria-hidden="true">#</a> 5.2.4 <code>show ipv6 dhcp relay option</code></h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ipv6 dhcp relay option</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u663E\u793A\u7CFB\u7EDF\u4E2D\u7EE7\u4EE3\u7406\u7684\u914D\u7F6E\u4FE1\u606F\uFF0C\u5305\u62EC\u4E2D\u7EE7\u4EE3\u7406 option 37 \u548C option 38 \u4F7F\u80FD\u5F00\u5173\u3002</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8FD0\u884C\u65F6\u4F7F\u7528\u672C\u547D\u4EE4\u68C0\u67E5\u4E2D\u7EE7\u4EE3\u7406\u5BF9 option 37 \u548Coption 38 \u9009\u9879\u7684\u914D\u7F6E\u72B6\u6001</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#show ipv6 dhcp relay option remote-id option enable
subscriber-id option enable
Interface Vlan 1: remote-id option configure \u201Cabc\u201D
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h3 id="_5-2-5-show-ipv6-dhcp-snooping-option" tabindex="-1"><a class="header-anchor" href="#_5-2-5-show-ipv6-dhcp-snooping-option" aria-hidden="true">#</a> 5.2.5 <code>show ipv6 dhcp snooping option</code></h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ipv6 dhcp snooping option</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u663E\u793A\u7CFB\u7EDF snooping \u7684\u914D\u7F6E\u4FE1\u606F\uFF0C\u5305\u62EC\u5176\u4E2D\u7684 option 37 \u548Coption 38 \u4F7F\u80FD\u5F00\u5173\u3002\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8FD0\u884C\u65F6\u4F7F\u7528\u672C\u547D\u4EE4\u68C0\u67E5\u4E2D snooping \u5BF9 option 37 \u548Coption 38 \u9009\u9879\u7684\u914D\u7F6E\u72B6\u6001</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#show ipv6 dhcp snooping option remote-id option enable
subscriber-id option enable
The slot port vlan select option is : port and vlan
The delimiter is : #
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul><h2 id="\u7B2C6\u7AE0-dhcp-snooping-\u914D\u7F6E\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u7B2C6\u7AE0-dhcp-snooping-\u914D\u7F6E\u547D\u4EE4" aria-hidden="true">#</a> \u7B2C6\u7AE0 DHCP Snooping \u914D\u7F6E\u547D\u4EE4</h2><h3 id="_6-1-debug-ip-dhcp-snooping-binding" tabindex="-1"><a class="header-anchor" href="#_6-1-debug-ip-dhcp-snooping-binding" aria-hidden="true">#</a> 6.1 <code>debug ip dhcp snooping binding</code></h3><ul><li>\u547D\u4EE4\uFF1A <ul><li><code>debug ip dhcp snooping binding</code></li><li><code>no debug ip dhcp snooping binding</code></li></ul></li><li>\u529F\u80FD\uFF1A\u8BE5\u547D\u4EE4\u7528\u6765\u6253\u5F00 DHCP snooping \u8C03\u8BD5\u5F00\u5173\uFF0C\u8C03\u8BD5 DHCP snooping \u7ED1\u5B9A\u6570\u636E\u7684\u72B6\u6001\u3002\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F\u3002</li><li>\u4F7F\u7528\u6307\u5357\uFF1A\u4E3B\u8981\u7528\u4E8E\u8C03\u8BD5 DHCP snooping \u4EFB\u52A1\u6839\u636E\u7ED1\u5B9A\u6570\u636E\u6DFB\u52A0 ARP \u8868\u9879\uFF0Cdot1x \u7528\u6237\uFF0C\u4FE1\u4EFB\u7528\u6237\u8868\u9879\u7684\u72B6\u6001\u3002</li></ul><h3 id="_6-2-debug-ip-dhcp-snooping-event" tabindex="-1"><a class="header-anchor" href="#_6-2-debug-ip-dhcp-snooping-event" aria-hidden="true">#</a> 6.2 <code>debug ip dhcp snooping event</code></h3><ul><li>\u547D\u4EE4\uFF1A <ul><li><code>debug ip dhcp snooping event</code></li><li><code>no debug ip dhcp snooping event</code></li></ul></li><li>\u529F\u80FD\uFF1A\u8BE5\u547D\u4EE4\u7528\u6765\u6253\u5F00 DHCP snooping \u8C03\u8BD5\u5F00\u5173\uFF0C\u8C03\u8BD5 DHCP snooping \u4EFB\u52A1\u7684\u72B6\u6001\u3002\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F\u3002</li><li>\u4F7F\u7528\u6307\u5357\uFF1A\u4E3B\u8981\u7528\u4E8E\u8C03\u8BD5 DHCP snooping \u4EFB\u52A1\u72B6\u6001\uFF0C\u53EF\u4EE5\u8F93\u51FA DHCP snooping \u68C0\u67E5\u7ED1\u5B9A\u6570\u636E\uFF0C\u6267\u884C\u7AEF\u53E3\u52A8\u4F5C\u7B49\u72B6\u6001\u3002</li></ul><h3 id="_6-3-debug-ip-dhcp-snooping-packet-interface" tabindex="-1"><a class="header-anchor" href="#_6-3-debug-ip-dhcp-snooping-packet-interface" aria-hidden="true">#</a> 6.3 <code>debug ip dhcp snooping packet interface</code></h3><ul><li>\u547D\u4EE4\uFF1A<code>debug ip dhcp snooping packet interface {[ethernet] &lt;InterfaceName&gt;} no debug ip dhcp snooping packet {[ethernet] &lt;InterfaceName&gt;}</code></li><li>\u529F\u80FD\uFF1A\u8BE5\u547D\u4EE4\u7528\u6765\u6253\u5F00 DHCP snooping \u8C03\u8BD5\u5F00\u5173\uFF0C\u8C03\u8BD5 DHCP snooping \u63A5\u6536\u62A5\u6587\u7684\u6D88\u606F\u3002</li><li>\u53C2\u6570\uFF1A<code>&lt;InterfaceName&gt;</code>\uFF1A\u63A5\u53E3\u540D\u79F0\u3002</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F\u3002</li><li>\u4F7F\u7528\u6307\u5357\uFF1A DHCP snooping \u4ECE\u7279\u5B9A\u7AEF\u53E3\u63A5\u6536\u62A5\u6587\u7684\u6D88\u606F\u3002</li></ul><h3 id="_6-4-debug-ip-dhcp-snooping-packet" tabindex="-1"><a class="header-anchor" href="#_6-4-debug-ip-dhcp-snooping-packet" aria-hidden="true">#</a> 6.4 <code>debug ip dhcp snooping packet</code></h3><ul><li>\u547D\u4EE4\uFF1A<code>debug ip dhcp snooping packet no debug ip dhcp snooping packet</code></li><li>\u529F\u80FD\uFF1A\u8BE5\u547D\u4EE4\u7528\u6765\u6253\u5F00DHCP snooping\u8C03\u8BD5\u5F00\u5173\uFF0C\u8C03\u8BD5DHCP snooping\u5904\u7406\u62A5\u6587\u7684\u6D41\u7A0B</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u7528\u6237\u914D\u7F6E\u6A21\u5F0F</li><li>\u4F7F\u7528\u6307\u5357\uFF1A DHCP snooping\u5904\u7406DHCP\u62A5\u6587\u7684\u8C03\u8BD5\u4FE1\u606F\u3002\u8FD9\u4E9B\u8C03\u8BD5\u4FE1\u606F\u5305\u62EC\u62A5\u6587\u5904\u7406\u6D41\u7A0B\u7684\u6BCF\u4E2A\u6B65\u9AA4\uFF1A\u6DFB\u52A0\u62A5\u8B66\u4FE1\u606F\u3001\u6DFB\u52A0\u7ED1\u5B9A\u4FE1\u606F\u3001\u8F6C\u53D1DHCP\u62A5\u6587\u3001\u6DFB\u52A0/\u5265\u79BBoption 82\u7B49\u7B49\u3002</li></ul><h3 id="_6-5-debug-ip-dhcp-snooping-update" tabindex="-1"><a class="header-anchor" href="#_6-5-debug-ip-dhcp-snooping-update" aria-hidden="true">#</a> 6.5 <code>debug ip dhcp snooping update</code></h3><ul><li>\u547D\u4EE4\uFF1A<code>debug ip dhcp snooping update no debug ip dhcp snooping update</code></li><li>\u529F\u80FD\uFF1A\u8BE5\u547D\u4EE4\u7528\u6765\u6253\u5F00DHCP snooping\u8C03\u8BD5\u5F00\u5173\uFF0C\u8C03\u8BD5 DHCP snooping \u548C HELPER SERVER \u4E4B\u95F4\u7684\u901A\u8BAF\u4FE1\u606F</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u914D\u7F6E\u6A21\u5F0F</li><li>\u4F7F\u7528\u6307\u5357\uFF1A \u8C03\u8BD5 DHCP snooping \u63A5\u6536\u3001\u53D1\u9001\u4E0E HELPER SERVER \u4E4B\u9645\u7684\u901A\u8BAF\u62A5\u6587\u6D88\u606F\u3002</li></ul><h3 id="_6-6-enable-trustview-key" tabindex="-1"><a class="header-anchor" href="#_6-6-enable-trustview-key" aria-hidden="true">#</a> 6.6 <code>enable trustview key</code></h3><ul><li><p>\u547D\u4EE4\uFF1A</p><ul><li><code>enable trustview key {0|7} &lt;password&gt;</code></li><li><code>no enable trustview key</code></li></ul></li><li><p>\u529F\u80FD\uFF1A\u914D\u7F6E\u79C1\u6709\u62A5\u6587\u7684 DES \u52A0\u5BC6\u5BC6\u94A5\uFF0C\u672C\u547D\u4EE4\u540C\u65F6\u4E5F\u662F\u4EA4\u6362\u673A\u542F\u7528\u79C1\u6709\u62A5\u6587\u52A0\u5BC6/\u6563\u5217\u529F\u80FD\u7684\u5F00\u5173\u3002</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;password&gt;</code>\u662F\u957F\u5EA6\u5C0F\u4E8E 16 \u7684\u5B57\u7B26\u4E32\uFF0C\u7528\u4F5C DES \u52A0\u5BC6\u5BC6\u94A5\u30020 \u8868\u793A\u4EE5\u660E\u6587\u65B9\u5F0F\u663E\u793A\u5BC6\u94A5\uFF0C7 \u8868\u793A\u4EE5\u5BC6\u6587\u65B9\u5F0F\u663E\u793A\u5BC6\u94A5\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u4EA4\u6362\u673A\u9ED8\u8BA4\u6CA1\u6709\u914D\u7F6E DES \u52A0\u5BC6\u5BC6\u94A5\uFF0C\u5373\u4EA4\u6362\u673A\u9ED8\u8BA4\u4E0D\u542F\u7528\u79C1\u6709\u62A5\u6587\u52A0\u5BC6/\u6563\u5217\u529F\u80FD\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u4EA4\u6362\u673A\u4E0E DCN \u5185\u7F51\u5B89\u5168\u7BA1\u7406\u540E\u53F0\u7CFB\u7EDF\u901A\u8FC7\u79C1\u6709\u62A5\u6587\u8FDB\u884C\u79C1\u6709\u4FE1\u606F\u7684\u4F20\u8F93\uFF0C\u5728\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u79C1\u6709\u62A5\u6587\u662F\u4EE5\u660E\u6587\u4F20\u9012\u7684\uFF0C\u4E3A\u4E86\u9632\u6B62\u79C1\u6709\u62A5\u6587\u88AB\u7A83\u542C\u7834\u89E3\uFF0C\u53EF\u9009\u62E9\u5BF9\u79C1\u6709\u62A5\u6587\u7684\u5185\u5BB9\u8FDB\u884C\u52A0\u5BC6\uFF0C\u540C\u65F6\uFF0C\u7BA1\u7406\u5458\u4E5F\u9700\u8981\u5728 DCN \u5185\u7F51\u5B89\u5168\u7BA1\u7406\u540E\u53F0\u914D\u7F6E\u76F8\u540C\u7684\u5BC6\u94A5\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u4F7F\u80FD\u79C1\u6709\u62A5\u6587\u7684\u52A0\u5BC6/\u6563\u5217\u529F\u80FD\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>witch(config)#enable trustview key 0 digitalchina
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_6-7-ip-dhcp-snooping" tabindex="-1"><a class="header-anchor" href="#_6-7-ip-dhcp-snooping" aria-hidden="true">#</a> 6.7 <code>ip dhcp snooping</code></h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping enable no ip dhcp snooping enable</code></p></li><li><p>\u529F\u80FD\uFF1A\u5F00\u542FDHCP Snooping\u529F\u80FD</p></li><li><p>\u53C2\u6570\uFF1A\u65E0</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1ADHCP snooping\u9ED8\u8BA4\u5173\u95ED</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A \u5F00\u542F\u540E\u5C06\u76D1\u542C\u6240\u6709\u975E\u4FE1\u4EFB\u7AEF\u53E3\u7684DHCP Server\u5305</p></li><li><p>\u4E3E\u4F8B\uFF1A\u542F\u52A8DHCP snooping\u529F\u80FD</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#ip dhcp snooping enable
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_6-8-ip-dhcp-snooping-action" tabindex="-1"><a class="header-anchor" href="#_6-8-ip-dhcp-snooping-action" aria-hidden="true">#</a> 6.8 ip dhcp snooping action</h3><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping action {shutdown|blackhole} [recovery &lt;second&gt;]no ip dhcp snooping action</code> \u529F\u80FD\uFF1A\u8BBE\u7F6E\u6216\u5220\u9664\u7AEF\u53E3\u4E0A\u7684\u81EA\u52A8\u9632\u5FA1\u52A8\u4F5C\u3002 \u53C2\u6570\uFF1A</p><ul><li>shutdown:\u7AEF\u53E3\u68C0\u6D4B\u5230\u4F2A\u88C5 DHCP Server \u65F6\uFF0C\u5C06 shutdown \u6B64\u7AEF\u53E3\u3002</li><li>blackhole\uFF1A\u7AEF\u53E3\u68C0\u6D4B\u5230\u4F2A\u88C5 DHCP Server \u65F6\uFF0C\u5C06\u4EE5\u4F2A\u88C5\u6570\u636E\u5305\u7684 vid \u548C\u6E90 mac \u8BBE\u7F6E blackhole \u6765\u963B\u6B62\u6B64 Mac \u7684\u6D41\u91CF\u3002</li><li>recovery\uFF1A\u7528\u6237\u53EF\u9009\u8BBE\u7F6E\u81EA\u52A8\u9632\u5FA1\u52A8\u4F5C\u6267\u884C\u540E\u8FD8\u53EF\u4EE5\u81EA\u52A8\u6062\u590D\uFF08no shut \u7AEF\u53E3\u6216\u5220\u9664\u76F8\u5E94\u7684 blackhole\uFF09\u3002</li><li><code>&lt;second&gt;</code>\uFF1A\u7528\u6237\u6307\u5B9A\u591A\u957F\u65F6\u95F4\u540E\u6062\u590D\u9632\u5FA1\u52A8\u4F5C\uFF0C\u5355\u4F4D\uFF1A\u79D2\uFF0C\u8303\u56F4\u662F 10-3600\u3002</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7AEF\u53E3\u914D\u7F6E\u6A21\u5F0F\u3002</li><li>\u7F3A\u7701\u60C5\u51B5\uFF1A\u6CA1\u6709\u9ED8\u8BA4\u7684\u9632\u5FA1\u52A8\u4F5C\u3002</li><li>\u4F7F\u7528\u6307\u5357\uFF1A\u5FC5\u987B\u5168\u5C40\u5F00\u542F DHCP snooping\uFF0C\u624D\u80FD\u914D\u7F6E\u6B64\u547D\u4EE4\u3002\u4FE1\u4EFB\u7AEF\u53E3\u4E0D\u4F1A\u68C0\u6D4B DHCP Server</li><li>\u4F2A\u88C5\uFF0C\u6240\u4EE5\u6C38\u8FDC\u4E0D\u4F1A\u89E6\u53D1\u76F8\u5E94\u7684\u9632\u5FA1\u52A8\u4F5C\u3002\u5F53\u7AEF\u53E3\u4ECE\u975E\u4FE1\u4EFB\u7AEF\u53E3\u53D8\u66F4\u4E3A\u4FE1\u4EFB\u7AEF\u53E3\u65F6\uFF0C\u7AEF\u53E3\u4E0A\u539F\u6765\u7684\u9632\u5FA1\u52A8\u4F5C\u5C06\u81EA\u52A8\u53BB\u9664\u3002</li><li>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E\u7AEF\u53E3 ethernet1/0/1 \u7684DHCP snooping \u9632\u5FA1\u52A8\u4F5C\u4E3A\u8BBE\u7F6E blackhole\uFF0C\u81EA\u52A8\u6062\u590D\u65F6\u95F4\u4E3A 30 \u79D2\u3002<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#interface ethernet 1/0/1
switch(Config- Ethernet 1/0/1)#ip dhcp snooping action blackhole recovery 30
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h3 id="_6-9-ip-dhcp-snooping-action-maxnum" tabindex="-1"><a class="header-anchor" href="#_6-9-ip-dhcp-snooping-action-maxnum" aria-hidden="true">#</a> 6.9 ip dhcp snooping action MaxNum</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping action {&lt;maxNum&gt;|default}</code></p></li><li><p>\u529F\u80FD\uFF1A \u8BBE\u7F6E\u7AEF\u53E3\u4E0A\u540C\u65F6\u751F\u6548\u7684\u9632\u5FA1\u52A8\u4F5C\u6570\u76EE\u3002</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;maxNum&gt;</code>: \u6BCF\u4E2A\u7AEF\u53E3\u7684\u9632\u5FA1\u52A8\u4F5C\u6570\u76EE\uFF0C\u8303\u56F4\u662F 1-200\uFF0C\u9ED8\u8BA4\u4E3A 10\u3002 default\uFF1A\u6062\u590D\u9ED8\u8BA4\u7684\u9632\u5FA1\u52A8\u4F5C\u6570\u76EE\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002\u7F3A\u7701\u60C5\u51B5\uFF1A\u9ED8\u8BA4\u6570\u76EE\u4E3A 10\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8BBE\u7F6E\u9632\u5FA1\u52A8\u4F5C\u6570\u76EE\u9650\u5236\uFF0C\u662F\u4E3A\u4E86\u9632\u6B62\u4EA4\u6362\u673A\u88AB\u653B\u51FB\u800C\u8017\u5C3D\u7CFB\u7EDF\u8D44\u6E90\u3002\u5982\u679C\u62A5\u8B66\u4FE1\u606F\u7684\u6570\u76EE\u5927\u4E8E\u4E86\u8BBE\u7F6E\u7684\u503C\uFF0C\u90A3\u4E48\u6700\u65E9\u7684\u9632\u5FA1\u52A8\u4F5C\u5C06\u88AB\u5F3A\u884C\u6062\u590D\uFF0C\u5E76\u4E0B\u53D1\u65B0\u7684\u9632\u5FA1\u52A8\u4F5C\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E\u7AEF\u53E3\u9632\u5FA1\u52A8\u4F5C\u6570\u91CF\u4E3A 100\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#ip dhcp snooping action 100
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_6-10-ip-dhcp-snooping-binding" tabindex="-1"><a class="header-anchor" href="#_6-10-ip-dhcp-snooping-binding" aria-hidden="true">#</a> 6.10 ip dhcp snooping binding</h3><ul><li>\u547D\u4EE4\uFF1A<code>ip dhcp snooping binding enable no ip dhcp snooping binding enable</code></li><li>\u529F\u80FD\uFF1A\u5F00\u542F DHCP snooping \u7ED1\u5B9A\u529F\u80FD</li><li>\u53C2\u6570\uFF1A\u65E0\u3002</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</li><li>\u7F3A\u7701\u60C5\u51B5\uFF1ADHCP snooping \u7ED1\u5B9A\u9ED8\u8BA4\u5173\u95ED\u3002</li><li>\u4F7F\u7528\u6307\u5357\uFF1A\u5F00\u542F\u540E\u5C06\u8BB0\u5F55\u6240\u6709\u4FE1\u4EFB\u7AEF\u53E3\u7684 DHCP Server \u5206\u914D\u7684\u7ED1\u5B9A\u4FE1\u606F\u3002\u53EA\u6709\u542F\u52A8 DHCP snooping \u529F\u80FD\u4E4B\u540E\uFF0C\u624D\u80FD\u542F\u52A8\u7ED1\u5B9A\u529F\u80FD\u3002</li><li>\u4E3E\u4F8B\uFF1A\u542F\u52A8 DHCP snooping \u7ED1\u5B9A\u529F\u80FD\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#ip dhcp snooping binding enable
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u76F8\u5173\u547D\u4EE4\uFF1A<code>ip dhcp snooping enable</code></p><h3 id="_6-11-ip-dhcp-snooping-binding-arp" tabindex="-1"><a class="header-anchor" href="#_6-11-ip-dhcp-snooping-binding-arp" aria-hidden="true">#</a> 6.11 ip dhcp snooping binding arp</h3><p>\u672C\u6B3E\u4EA4\u6362\u673A\u4E0D\u652F\u6301\u6B64\u547D\u4EE4</p><h3 id="_6-12-ip-dhcp-snooping-binding-dot1x" tabindex="-1"><a class="header-anchor" href="#_6-12-ip-dhcp-snooping-binding-dot1x" aria-hidden="true">#</a> 6.12 ip dhcp snooping binding dot1x</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping binding dot1x no ip dhcp snooping binding dot1x</code></p></li><li><p>\u529F\u80FD\uFF1A\u5F00\u542F DHCP snooping \u7ED1\u5B9A DOT1X \u529F\u80FD</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7AEF\u53E3\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u6240\u6709\u7AEF\u53E3\u9ED8\u8BA4\u4E0D\u542F\u52A8\u7ED1\u5B9A DOT1X \u529F\u80FD\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u5F00\u542F\u540E DHCP snooping \u5C06\u628A\u6355\u83B7\u7684\u7ED1\u5B9A\u4FE1\u606F\u901A\u77E5\u5230 DOT1X \u6A21\u5757\uFF0C\u4F5C\u4E3A DOT1X</p></li><li><p>\u53D7\u63A7\u7528\u6237\u3002\u8FD9\u4E2A\u547D\u4EE4\u548Cip dhcp snooping binding user-control \u547D\u4EE4\u4E92\u65A5\u3002 \u53EA\u6709\u542F\u52A8DHCP snooping \u7ED1\u5B9A\u529F\u80FD\u4E4B\u540E\uFF0C\u624D\u80FD\u914D\u7F6E\u7ED1\u5B9ADOT1X \u529F\u80FD\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5728\u7AEF\u53E3 ethernet1/0/1 \u542F\u52A8\u7ED1\u5B9A DOT1X \u529F\u80FD\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#interface ethernet 1/0/1
switch(Config- Ethernet 1/0/1)# ip dhcp snooping binding dot1x
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><p>\u76F8\u5173\u547D\u4EE4\uFF1A</p><ul><li><code>ip dhcp snooping binding enable</code></li><li><code>ip dhcp snooping binding user-control</code></li></ul><h3 id="_6-13-ip-dhcp-snooping-binding-user" tabindex="-1"><a class="header-anchor" href="#_6-13-ip-dhcp-snooping-binding-user" aria-hidden="true">#</a> 6.13 ip dhcp snooping binding user</h3><ul><li><p>\u547D\u4EE4\uFF1A <code>ip dhcp snooping binding user &lt;mac&gt; address &lt;ipaddress&gt; interface [Ethernet] &lt;ifname&gt; no ip dhcp snooping binding user &lt;mac&gt; interface [Ethernet] &lt;ifname&gt;</code></p></li><li><p>\u529F\u80FD\uFF1A \u914D\u7F6E\u9759\u6001\u7ED1\u5B9A\u7528\u6237\u4FE1\u606F \u53C2\u6570\uFF1A</p><ul><li><code>&lt;mac&gt;\uFF1A</code>\u9759\u6001\u7ED1\u5B9A\u7528\u6237\u7684 MAC \u5730\u5740\uFF0CMAC \u5730\u5740\u662F\u7ED1\u5B9A\u7528\u6237\u7684\u552F\u4E00\u7D22\u5F15\u503C\uFF1B</li><li><code>&lt;ipaddress&gt;\uFF1A</code>\u9759\u6001\u7ED1\u5B9A\u7528\u6237\u7684 IP \u5730\u5740\uFF1B</li><li><code>&lt;ifname&gt;\uFF1A</code>\u9759\u6001\u7ED1\u5B9A\u7528\u6237\u7684\u63A5\u5165\u7AEF\u53E3\u3002\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</li></ul></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1ADHCP snooping \u9ED8\u8BA4\u6CA1\u6709\u9759\u6001\u7ED1\u5B9A\u8868\u9879\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u9759\u6001\u7ED1\u5B9A\u7528\u6237\u548C DHCP snooping \u6355\u83B7\u7684\u52A8\u6001\u7ED1\u5B9A\u7528\u6237\u4E00\u6837\u5904\u7406\uFF0C\u53EF\u4EE5\u901A\u77E5 DOT1X \u4F5C\u4E3ADOT1X \u7684\u53D7\u63A7\u7528\u6237\uFF0C\u53EF\u4EE5\u76F4\u63A5\u6DFB\u52A0\u4FE1\u4EFB\u7528\u6237\u8868\u9879\uFF0C\u53EF\u4EE5\u6DFB\u52A0\u7ED1\u5B9A ARP \u8868\u9879\u3002\u9759\u6001\u7ED1\u5B9A\u7528\u6237\u6C38\u8FDC\u4E0D\u4F1A\u88AB\u8001\u5316\uFF0C\u5E76\u4E14\u4F18\u5148\u7EA7\u5927\u4E8E\u52A8\u6001\u7ED1\u5B9A\u7528\u6237\u3002\u53EA\u6709\u542F\u52A8DHCP snooping\u7ED1\u5B9A\u529F\u80FD\u4E4B\u540E\uFF0C\u624D\u80FD\u914D\u7F6E\u9759\u6001\u7ED1\u5B9A\u7528\u6237\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E\u9759\u6001\u7ED1\u5B9A\u7528\u6237\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#ip  dhcp  snooping  binding  user  00-03-0f-12-34-56  address  192.168.1.16interface Ethernet 1/0/16
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><p>\u76F8\u5173\u547D\u4EE4\uFF1A<code>ip dhcp snooping binding enable</code></p><h3 id="_6-14-ip-dhcp-snooping-binding-user-control" tabindex="-1"><a class="header-anchor" href="#_6-14-ip-dhcp-snooping-binding-user-control" aria-hidden="true">#</a> 6.14 ip dhcp snooping binding user-control</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping binding user-control no ip dhcp snooping binding user-control</code></p></li><li><p>\u529F\u80FD\uFF1A\u5F00\u542F DHCP snooping \u7ED1\u5B9A\u7528\u6237\u529F\u80FD</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7AEF\u53E3\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u6240\u6709\u7AEF\u53E3\u9ED8\u8BA4\u4E0D\u542F\u52A8\u7ED1\u5B9A\u7528\u6237\u529F\u80FD\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u5F00\u542F\u540E DHCP snooping \u5C06\u628A\u6355\u83B7\u7684\u7ED1\u5B9A\u4FE1\u606F\u76F4\u63A5\u4F5C\u4E3A\u4FE1\u4EFB\u7528\u6237\u5141\u8BB8\u8BBF\u95EE\u6240\u6709\u8D44\u6E90\u3002\u8FD9\u4E2A\u547D\u4EE4\u548C ip dhcp snooping binding dot1x \u547D\u4EE4\u4E92\u65A5\u3002 \u53EA\u6709\u542F\u52A8DHCP snooping \u7ED1\u5B9A\u529F\u80FD\u4E4B\u540E\uFF0C\u624D\u80FD\u914D\u7F6E\u7ED1\u5B9A\u7528\u6237\u529F\u80FD\uFF0C\u8FD9\u4E2A\u547D\u4EE4\u4E0D\u53D7\u57FA\u4E8E VLAN \u7684ip dhcp snooping \u9650\u5236\uFF0C\u53EA\u53D7\u5168\u5C40 ip dhcp snooping enable \u9650\u5236</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5728\u7AEF\u53E3 ethernet1/0/1 \u542F\u52A8\u7ED1\u5B9A USER \u529F\u80FD\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#interface ethernet 1/0/1
switch(Config- Ethernet 1/0/1)#ip dhcp snooping binding user-control
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><p>\u76F8\u5173\u547D\u4EE4\uFF1A<code>ip dhcp snooping binding enable ip dhcp snooping binding dot1x</code></p><h3 id="_6-15-ip-dhcp-snooping-binding-user-control-max-user" tabindex="-1"><a class="header-anchor" href="#_6-15-ip-dhcp-snooping-binding-user-control-max-user" aria-hidden="true">#</a> 6.15 ip dhcp snooping binding user-control max-user</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping binding user-control max-user &lt;number&gt; no ip dhcp snooping binding user-control max-user</code></p></li><li><p>\u529F\u80FD\uFF1A \u8BBE\u7F6E DHCP snooping \u7ED1\u5B9A\u7528\u6237\u529F\u80FD\u65F6\u6307\u5B9A\u7AEF\u53E3\u6700\u591A\u5141\u8BB8\u63A5\u5165\u7684\u7528\u6237\u6570\uFF1B\u672C\u547D\u4EE4\u7684no \u64CD\u4F5C\u4E3A\u6062\u590D\u7F3A\u7701\u503C\u3002</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;number&gt;</code> \u6700\u591A\u5141\u8BB8\u7684\u63A5\u5165\u7528\u6237\u6570\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A 0~1024\u3002\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7AEF\u53E3\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u6BCF\u4E2A\u7AEF\u53E3\u7F3A\u7701\u6700\u591A\u5141\u8BB8\u63A5\u5165\u7684\u7528\u6237\u6570\u4E3A 1024\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8FD9\u4E2A\u547D\u4EE4\u9650\u5236\u5728\u7AEF\u53E3\u4F7F\u80FD ip dhcp snooping binding user-contrl \u65F6\uFF0C\u6839\u636E\u7ED1\u5B9A\u4FE1\u606F\u4E0B\u53D1\u6210\u4FE1\u4EFB\u7528\u6237\u7684\u6700\u5927\u6570\u76EE\u3002\u5728\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u5141\u8BB8\u5C06\u7ED1\u5B9A\u4FE1\u606F\u4E0B\u53D1\u6210\u4FE1\u4EFB\u7528\u6237\u7684\u6570\u76EE\u4E3A 1024\u3002\u7531\u4E8E\u4EA4\u6362\u673A\u7684\u786C\u4EF6\u8D44\u6E90\u6709\u9650\uFF0C\u771F\u6B63\u4E0B\u53D1\u4E3A\u4FE1\u4EFB\u7528\u6237\u7684\u6570\u636E\u53D6\u51B3\u4E8E\u4EA4\u6362\u673A\u7684\u786C\u4EF6\u8D44\u6E90\u3002\u5728\u4EA4\u6362\u673A\u5B58\u5728\u7A7A\u95F2\u786C\u4EF6\u8D44\u6E90\u7684\u60C5\u51B5\u4E0B\uFF0C\u5982\u679C\u901A\u8FC7\u6B64\u547D\u4EE4\u8C03\u6574\u6700\u5927\u7528\u6237\u6570\uFF0C\u5982\u679C\u8C03\u6574\u540E\u7684\u6700\u5927\u7528\u6237\u6570\u5927\u4E8E\u8C03\u6574\u524D\u7684\u7528\u6237\u6570\uFF0C\u5219DHCP snooping \u5C06\u672A\u80FD\u8BBE\u7F6E\u6210\u4FE1\u4EFB\u7528\u6237\u7684\u7ED1\u5B9A\u4FE1\u606F\u4E0B\u53D1\u5230\u786C\u4EF6\u6210\u4E3A\u4FE1\u4EFB\u7528\u6237\u3002\u5982\u679C\u5C06\u6700\u5927\u7528\u6237\u6570\u8C03\u5C0F\uFF0C\u5219 DHCP snooping \u6839\u636E\u65B0\u7684\u6700\u5927\u7528\u6237\u6570\u503C\u91CD\u65B0\u8C03\u6574\u4E0B\u53D1\u5230\u786C\u4EF6\u7684\u7ED1\u5B9A\u4FE1\u606F\u6570\u3002\u5F53\u4E0B\u53D1\u5230\u786C\u4EF6\u7684\u7ED1\u5B9A\u4FE1\u606F\u6570\u8FBE\u5230\u6700\u5927\u503C\u540E\uFF0C\u65B0\u7684 DHCP\u7528\u6237\u65E0\u6CD5\u6210\u4E3A\u4FE1\u4EFB\u7528\u6237\uFF0C\u5219\u65E0\u6CD5\u901A\u8FC7\u4EA4\u6362\u673A\u8BBF\u95EE\u5176\u4ED6\u7F51\u7EDC\u8D44\u6E90\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5728\u7AEF\u53E3 Ethernet1/0/1 \u542F\u52A8\u7ED1\u5B9A dhcp snooping binding user \u529F\u80FD\uFF0C\u8BBE\u7F6E\u7AEF\u53E3 Ethernet1/0/1 \u6700\u591A\u5141\u8BB8\u63A5\u5165 5 \u4E2A\u7528\u6237\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(Config-If-Ethernet1/0/1)#ip dhcp snooping binding user-control max-user 5
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><p>\u76F8\u5173\u547D\u4EE4\uFF1A<code>ip dhcp snooping binding user-control</code></p><h3 id="_6-16-ip-dhcp-snooping-information-enable" tabindex="-1"><a class="header-anchor" href="#_6-16-ip-dhcp-snooping-information-enable" aria-hidden="true">#</a> 6.16 ip dhcp snooping information enable</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping information enable no ip dhcp snooping information enable</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BBE\u7F6E\u672C\u547D\u4EE4\u542F\u7528\u4EA4\u6362\u673ADHCP snooping \u7684 option 82 \u529F\u80FD\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u5173\u95ED\u4EA4\u6362\u673A DHCP snooping \u7684 option 82 \u529F\u80FD\u3002</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1ADHCP snooping \u9ED8\u8BA4\u5173\u95ED option 82 \u529F\u80FD\u3002\u547D\u4EE4\u6A21\u5F0F\uFF1A \u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u53EA\u6709\u914D\u7F6E\u672C\u547D\u4EE4 DHCP snooping \u624D\u80FD\u5728 DHCP \u8BF7\u6C42\u62A5\u6587\u4E2D\u6DFB\u52A0\u6807\u51C6\u7684 option 82 \u9009\u9879\u5E76\u8F6C\u53D1\u3002option 82 \u5B50\u9009\u9879 1(\u7535\u8DEF ID \u9009\u9879) \u7684\u5F62\u5F0F\u4E3A\u6807\u51C6\u7684 vlan \u540D\u52A0\u7269\u7406\u7AEF\u53E3\u540D\u5F62\u5F0F\uFF0C\u5982 vlan1+ethernet1/0/12\u3002option 82 \u5B50\u9009\u9879 2(\u8FDC\u7AEF ID \u9009\u9879) \u7684\u5F62\u5F0F\u4E3A\u4EA4\u6362\u673A cpu mac\uFF0C\u5982 00030f023301\u3002\u5982\u679C\u63A5\u6536\u5230\u7684\u542B\u6709 option 82 \u9009\u9879\u7684 DHCP \u8BF7\u6C42\u62A5\u6587\uFF0CDHCP snooping\u4F7F\u7528\u81EA\u5DF1\u7684 option 82 \u9009\u9879\u66FF\u6362\u73B0\u6709\u62A5\u6587\u4E2D\u7684 option 82</p></li><li><p>\u9009\u9879\uFF1B\u5982\u679C\u63A5\u6536\u5230\u7684\u542B\u6709 option 82\u9009\u9879\u7684 DHCP \u5E94\u7B54\u62A5\u6587\uFF0C\u5219\u5C06\u62A5\u6587\u4E2D\u7684 option 82 \u9009\u9879\u4E22\u5F03\u518D\u8F6C\u53D1 DHCP \u62A5\u6587\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5F00\u542F\u4EA4\u6362\u673A dhcp snooping \u7684 option 82 \u529F\u80FD\u3002 Switch(config)#ip dhcp snooping enable Switch(config)#ip dhcp snooping binding enable</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ip dhcp snooping information enable
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_6-17-ip-dhcp-snooping-information-option-allow-untrusted-replace" tabindex="-1"><a class="header-anchor" href="#_6-17-ip-dhcp-snooping-information-option-allow-untrusted-replace" aria-hidden="true">#</a> 6.17 ip dhcp snooping information option allow-untrusted (replace|)</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping information option allow-untrusted (replace|) no ip dhcp snooping information option allow-untrusted (replace|)</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u7528\u4E8E\u8BBE\u7F6E\u5141\u8BB8\u4ECE DHCP snooping \u7684\u975E\u4FE1\u4EFB\u7AEF\u53E3\u63A5\u6536\u542B\u6709 option82 \u9009\u9879\u7684 DHCP \u62A5\u6587\uFF0C\u5728\u8BBE\u7F6E\u53C2\u6570 replace \u65F6\uFF0C\u5141\u8BB8\u66FF\u6362 option82</p></li><li><p>\u9009\u9879\uFF1B\u5173\u95ED\u6B64\u547D\u4EE4\u65F6\uFF0C\u6240\u6709\u975E\u4FE1\u4EFB\u7AEF\u53E3\u5C06\u4E22\u5F03\u542B\u6709 option82 \u9009\u9879\u7684 DHCP \u62A5\u6587\u3002</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4E22\u5F03\u975E\u4FE1\u4EFB\u7AEF\u53E3\u63A5\u6536\u7684\u542B\u6709 option82 \u9009\u9879\u7684 DHCP \u62A5\u6587\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u542F\u7528DHCP snooping \u529F\u80FD\u7684\u4EA4\u6362\u673A\u4E00\u822C\u6765\u8BF4\u76F4\u63A5\u8FDE\u63A5\u6700\u7EC8\u7528\u6237\uFF0C\u4E3A\u4E86\u9632\u6B62\u7528\u6237\u79C1\u81EA\u6DFB\u52A0 option82 \u9009\u9879\uFF0C\u9ED8\u8BA4\u5173\u95ED allow-untrusted \u529F\u80FD\u3002\u542F\u7528 DHCP<br> snooping \u529F\u80FD\u7684\u4EA4\u6362\u673A\u7EA7\u8054\u65F6\uFF0C\u8BF7\u914D\u7F6E\u7EA7\u8054\u7AEF\u53E3\u4E3A\u4FE1\u4EFB\u7AEF\u53E3\u3002 \u4E3E\u4F8B\uFF1A\u5168\u5C40\u6253\u5F00\u5141\u8BB8\u63A5\u6536\u542B\u6709 option82 \u9009\u9879\u7684 DHCP \u62A5\u6587\u529F\u80FD\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ip dhcp snooping information option allow-untrusted
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_6-18-ip-dhcp-snooping-information-option-delimiter" tabindex="-1"><a class="header-anchor" href="#_6-18-ip-dhcp-snooping-information-option-delimiter" aria-hidden="true">#</a> 6.18 ip dhcp snooping information option delimiter</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping information option delimiter [colon | dot | slash | space] no ip dhcp snooping information option delimiter</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BE5\u547D\u4EE4\u7528\u6765\u914D\u7F6E\u7528\u6237\u5728\u5168\u5C40\u5B9A\u4E49\u7684\u7528\u6765\u751F\u6210 option82 \u5B50\u9009\u9879\u7684\u5404\u53C2\u6570\u7684\u5206\u9694\u7B26\uFF0C\u8BE5\u547D\u4EE4\u7684 no \u5F62\u5F0F\u6062\u590D\u5206\u9694\u7B26\u4E3A\u9ED8\u8BA4\u503C\uFF0C\u5373 slash\u3002</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u5206\u9694\u7B26\u4E3A slash (\u201C/\u201D)\u3002\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u5F53\u7528\u6237\u5728\u5168\u5C40\u81EA\u5B9A\u4E49\u4E86\u7528\u6765\u751F\u6210 option82 \u5B50\u9009\u9879\uFF08remote-id\uFF0Ccircuit-id\uFF09\u7684\u5404\u53C2\u6570\u540E\uFF0C\u8BE5\u547D\u4EE4\u914D\u7F6E\u7684\u5206\u9694\u7B26\u7528\u6765\u5206\u9694\u8FD9\u4E9B\u53C2\u6570\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E option82 \u5B50\u9009\u9879\u5404\u53C2\u6570\u5206\u9694\u7B26\u4E3A dot\uFF08\u201C.\u201D\uFF09\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)# ip dhcp snooping information option delimiter dot
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_6-19-ip-dhcp-snooping-information-option-remote-id" tabindex="-1"><a class="header-anchor" href="#_6-19-ip-dhcp-snooping-information-option-remote-id" aria-hidden="true">#</a> 6.19 ip dhcp snooping information option remote-id</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping information option remote-id {standard | &lt;remote-id&gt;} no ip dhcp snooping information option remote-id</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u7528\u4E8E\u8BBE\u7F6E\u4ECE\u7AEF\u53E3\u63A5\u6536\u7684 DHCP \u8BF7\u6C42\u62A5\u6587\u6DFB\u52A0 option 82 \u5B50\u9009\u9879 2(\u8FDC\u7A0B ID \u9009\u9879)\u7684\u5177\u4F53\u5185\u5BB9\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u628A\u6DFB\u52A0 option 82 \u5B50\u9009\u9879 2(\u8FDC\u7A0B ID \u9009\u9879)\u7684\u5F62\u5F0F\u8BBE\u7F6E\u4E3A standard\u3002</p></li><li><p>\u53C2\u6570\uFF1Astandard \u8868\u793A\u9ED8\u8BA4\u7684\u4EA4\u6362\u673AVLAN MAC \u683C\u5F0F\uFF0C<code>&lt;remote-id&gt;</code>\u4E3A\u7528\u6237\u81EA\u5DF1\u6307\u5B9A\u7684 option 82 \u7684 remote-id \u5185\u5BB9\uFF0C\u5B83\u662F\u4E00\u4E2A\u957F\u5EA6\u5C0F\u4E8E\u7B49\u4E8E 64 \u7684\u5B57\u7B26\u4E32\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528 standard \u5F62\u5F0F\u8BBE\u7F6E option 82 \u4E2D\u7684 remote-id\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u56E0\u4E3A\u4EA4\u6362\u673A\u6DFB\u52A0\u7684 option 82 \u4FE1\u606F\u8981\u914D\u5408\u7B2C\u4E09\u65B9\u7684 DHCP \u670D\u52A1\u5668\u4F7F\u7528\uFF0C\u5728\u4EA4\u6362\u673A\u7684\u6807\u51C6 remote-id \u5F62\u5F0F\u4E0D\u80FD\u6EE1\u8DB3\u670D\u52A1\u5668\u7684\u8981\u6C42\u65F6\uFF0C\u63D0\u4F9B\u4E00\u79CD\u624B\u6BB5\u7531\u7528\u6237\u4F9D\u636E\u670D\u52A1\u5668\u60C5\u51B5\u81EA\u5DF1\u6307\u5B9A remote-id \u7684\u5185\u5BB9\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCP option82 \u9009\u9879\u7684\u5B50\u9009\u9879 remote-id \u4E3A street-1-1\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)# ip dhcp snooping information option remote-id street-1-1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_6-20-ip-dhcp-snooping-information-option-self-defined-remote-id" tabindex="-1"><a class="header-anchor" href="#_6-20-ip-dhcp-snooping-information-option-self-defined-remote-id" aria-hidden="true">#</a> 6.20 ip dhcp snooping information option self-defined remote-id</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping information option self-defined remote-id {hostname | mac | string WORD}no ip dhcp snooping information option self-defined remote-id</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BE5\u547D\u4EE4\u7528\u6765\u914D\u7F6E option82 \u7684\u751F\u6210\u65B9\u5F0F\uFF0C\u7528\u6237\u53EF\u4EE5\u81EA\u5B9A\u4E49\u7528\u6765\u751F\u6210 option82 \u5B50\u9009\u9879remote-id \u7684\u53C2\u6570\uFF08\u96C6\uFF09\u3002</p></li><li><p>\u53C2\u6570\uFF1A WORD \u81EA\u5B9A\u4E49\u7684 remote-id \u5B57\u7B26\u4E32\uFF0C\u6700\u5927\u957F\u5EA6\u4E3A 64\u3002\u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u91C7\u7528\u6807\u51C6\u751F\u6210\u65B9\u5F0F\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u914D\u7F6E\u672C\u547D\u4EE4\u540E\uFF0C\u82E5\u7528\u6237\u6CA1\u6709\u5728\u5168\u5C40\u914D\u7F6E\u547D\u4EE4 ip dhcp snooping information option remote-id \u5219\u6839\u636E\u672C\u547D\u4EE4\u7684\u81EA\u5B9A\u4E49\u751F\u6210\u65B9\u5F0F\u6765\u751F\u6210 option82 \u5B50\u9009\u9879 remote-id\u3002\u5BF9\u4E8E mac\uFF0C\u5982\u679C\u662F\u7528 ascii \u7684\u5F62\u5F0F\u586B\u5230\u62A5\u6587\u4E2D\u5219\u91C7\u7528\u5F62\u5982 00-02-d1-2e-3a-0d \u7684\u5F62\u5F0F\uFF0C\u5982\u679C\u662F hex \u5F62\u5F0F\u5219\u5360 6 \u4E2A\u5B57\u8282\u3002\u5404\u4E2A\u9009\u9879\u6309\u7167\u547D\u4EE4\u914D\u7F6E\u7684\u987A\u5E8F\u586B\u5165\u62A5\u6587\uFF0C\u4E2D\u95F4\u7528\u5206\u9694\u7B26\u5206\u9694\uFF08\u5206\u9694\u7B26\u4E3A ip dhcp snooping information option delimiter \u914D\u7F6E\uFF09\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E option82 \u5B50\u9009\u9879 remote-id \u7684\u751F\u6210\u65B9\u5F0F\u4E3A mac \u548C\u81EA\u5B9A\u4E49\u7684\u5B57\u7B26\u4E32\u201Cabc\u201D\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)# ip dhcp snooping information option self-defined remote-id mac string abc
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_6-21-ip-dhcp-snooping-information-option-self-defined-remote-id-format" tabindex="-1"><a class="header-anchor" href="#_6-21-ip-dhcp-snooping-information-option-self-defined-remote-id-format" aria-hidden="true">#</a> 6.21 ip dhcp snooping information option self-defined remote-id format</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping information option self-defined remote-id format [ascii | hex]</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BE5\u547D\u4EE4\u7528\u6765\u914D\u7F6E snooping option82 \u4E2D remote-id \u7684\u751F\u6210\u683C\u5F0F</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u751F\u6210\u683C\u5F0F\u4E3A ascii</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u672C\u547D\u4EE4\u7684\u751F\u6210\u683C\u5F0F\u6307\u5B9A\u4E86\u7528\u547D\u4EE4 ip dhcp snooping information option type self-defined remote-id \u751F\u6210 remote-id \u7684\u683C\u5F0F\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E snooping option82 \u4E2D remote-id \u7684\u751F\u6210\u683C\u5F0F\u4E3A hex\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)# ip dhcp snooping information option self-defined remote-id format hex
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_6-22-ip-dhcp-snooping-information-option-self-defined-subscriber-id" tabindex="-1"><a class="header-anchor" href="#_6-22-ip-dhcp-snooping-information-option-self-defined-subscriber-id" aria-hidden="true">#</a> 6.22 ip dhcp snooping information option self-defined subscriber-id</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping information option self-defined subscriber-id {vlan | port | id (switch-id (mac | hostname)| remote-mac) | string WORD}no ip dhcp snooping information option type self-defined subscriber-id</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BE5\u547D\u4EE4\u7528\u6765\u914D\u7F6E option82 \u7684\u751F\u6210\u65B9\u5F0F\uFF0C\u7528\u6237\u53EF\u4EE5\u81EA\u5B9A\u4E49\u7528\u6765\u751F\u6210 option82 \u5B50\u9009\u9879circuit-id \u7684\u53C2\u6570\uFF08\u96C6\uFF09\u3002</p></li><li><p>\u53C2\u6570\uFF1A WORD \u81EA\u5B9A\u4E49\u7684 circuit-id \u5B57\u7B26\u4E32\uFF0C\u6700\u5927\u957F\u5EA6\u4E3A 64</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7F3A\u7701\u91C7\u7528\u6807\u51C6\u751F\u6210\u65B9\u5F0F\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u914D\u7F6E\u672C\u547D\u4EE4\u540E\uFF0C\u82E5\u7528\u6237\u6CA1\u6709\u5728\u7AEF\u53E3\u4E0A\u914D\u7F6E circuit-id \u5219\u6839\u636E\u672C\u547D\u4EE4\u7684\u81EA\u5B9A\u4E49\u751F\u6210\u65B9\u5F0F\u6765\u751F\u6210 option82 \u5B50\u9009\u9879 circuit-id\u3002\u7528\u8BE5\u547D\u4EE4\u751F\u6210\u7684 circuit-id \u7684\u683C\u5F0F\u4E3A\uFF1A\u82E5 self-defined subscriber-id format \u4E3Aascii\uFF0C\u5219\u586B\u5165\u7684vlan \u9009\u9879\u5F62\u5982\u201CVlan2\u201D\uFF0Cport \u9009\u9879\u5F62\u5982\u201CEthernet1/0/1\u201D\uFF0C mac \u9009\u9879\u548C remote-mac \u9009\u9879\u5F62\u5982\u201C00-02-d1-2e-3a-0d\u201D\uFF1B\u82E5 self-defined format \u4E3A hex\uFF0C\u5219\u586B\u5165\u7684 vlan \u9009\u9879\u5360\u4E24\u4E2A\u5B57\u8282\uFF0Cport \u9009\u9879\u5360 4 \u4E2A\u5B57\u8282\uFF0C\u4E00\u4E2A\u5B57\u8282\u8868\u793A slot\uFF08\u5BF9\u4E8E\u673A\u67B6\u5F0F\u4EA4\u6362\u673A\uFF0C\u8868\u793A\u63D2\u69FD\u53F7\uFF1B\u5BF9\u4E8E\u76D2\u5F0F\u4EA4\u6362\u673A\uFF0C\u4E3A 1\uFF09\uFF0C\u4E00\u4E2A\u5B57\u8282\u8868\u793A Module\uFF08\u9ED8\u8BA4\u4E3A 0\uFF09\uFF0C\u4E24\u4E2A\u5B57\u8282\u8868\u793A\u7AEF\u53E3\u53F7\uFF0C\u4ECE 1 \u5F00\u59CB\uFF0Cmac \u9009\u9879\u548C remote-mac \u9009\u9879\u5360 6 \u4E2A\u5B57\u8282\u3002\u5404\u4E2A\u9009\u9879\u6309\u7167\u547D\u4EE4\u914D\u7F6E\u7684\u987A\u5E8F\u586B\u5165\u62A5\u6587\uFF0C\u4E2D\u95F4\u7528\u5206\u9694\u7B26\u5206\u9694\uFF08\u5206\u9694\u7B26\u4E3A ip dhcp snooping information option delimiter \u914D\u7F6E \uFF09\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E option82 \u5B50\u9009\u9879 circuit-id \u7684\u751F\u6210\u65B9\u5F0F\u4E3A vlan\uFF0Cport \u548C remote-mac\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ip dhcp snooping information option self-defined subscriber-id vlan port id remote-mac
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_6-23-ip-dhcp-snooping-information-option-self-defined-subscriber-id-format" tabindex="-1"><a class="header-anchor" href="#_6-23-ip-dhcp-snooping-information-option-self-defined-subscriber-id-format" aria-hidden="true">#</a> 6.23 ip dhcp snooping information option self-defined subscriber-id format</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping information option self-defined subscriber-id format [ascii | hex]</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BE5\u547D\u4EE4\u7528\u6765\u914D\u7F6E snooping option82 \u4E2D circuit-id \u7684\u751F\u6210\u683C\u5F0F</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u751F\u6210\u683C\u5F0F\u4E3A ascii</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u672C\u547D\u4EE4\u7684\u751F\u6210\u683C\u5F0F\u6307\u5B9A\u4E86\u7528\u547D\u4EE4 ip dhcp snooping information option type self-defined subscriber -id \u751F\u6210 circuit-id \u7684\u683C\u5F0F\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E snooping option82 \u4E2D circuit-id \u7684\u751F\u6210\u683C\u5F0F\u4E3A hex\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ip dhcp snooping information option self-defined subscriber-id format hex
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_6-24-ip-dhcp-snooping-information-option-subscriber-id" tabindex="-1"><a class="header-anchor" href="#_6-24-ip-dhcp-snooping-information-option-subscriber-id" aria-hidden="true">#</a> 6.24 ip dhcp snooping information option subscriber-id</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping information option subscriber-id {standard | &lt;circuit-id&gt;} no ip dhcp snooping information option subscriber-id</code></p></li><li><p>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u7528\u4E8E\u8BBE\u7F6E\u4ECE\u7AEF\u53E3\u63A5\u6536\u7684 DHCP \u8BF7\u6C42\u62A5\u6587\u6DFB\u52A0 option 82 \u5B50\u9009\u9879 1(\u7535\u8DEF ID \u9009\u9879)\u7684\u5177\u4F53\u5185\u5BB9\u3002\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u628A\u6DFB\u52A0 option 82 \u5B50\u9009\u9879 1(\u7535\u8DEF ID \u9009\u9879)\u7684\u5F62\u5F0F\u8BBE\u7F6E\u4E3A standard\u3002</p></li><li><p>\u53C2\u6570\uFF1A standard \u8868\u793A\u6807\u51C6\u7684 vlan \u540D\u52A0\u7269\u7406\u7AEF\u53E3\u540D\u5F62\u5F0F\uFF0C\u5982 Vlan2+Ethernet1/0/12\uFF0C<code>&lt;circuit-id&gt;</code>\u4E3A\u7528\u6237\u81EA\u5DF1\u6307\u5B9A\u7684 option 82 \u7684 circuit-id \u5185\u5BB9\uFF0C\u5B83\u662F\u4E00\u4E2A\u957F\u5EA6\u5C0F\u4E8E\u7B49\u4E8E 64 \u7684\u5B57\u7B26\u4E32\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7AEF\u53E3\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528 standard \u5F62\u5F0F\u8BBE\u7F6E option 82 \u4E2D\u7684 circuit-id\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u56E0\u4E3A\u4EA4\u6362\u673A\u6DFB\u52A0\u7684 option 82 \u4FE1\u606F\u8981\u914D\u5408\u7B2C\u4E09\u65B9\u7684 DHCP \u670D\u52A1\u5668\u4F7F\u7528\uFF0C\u5728\u4EA4\u6362\u673A\u7684\u6807\u51C6 circuit-id \u5F62\u5F0F\u4E0D\u80FD\u6EE1\u8DB3\u670D\u52A1\u5668\u7684\u8981\u6C42\u65F6\uFF0C\u63D0\u4F9B\u4E00\u79CD\u624B\u6BB5\u7531\u7528\u6237\u4F9D\u636E\u670D\u52A1\u5668\u60C5\u51B5\u81EA\u5DF1\u6307\u5B9A circuit-id \u7684\u5185\u5BB9\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E DHCP option82 \u9009\u9879\u7684\u5B50\u9009\u9879 circuit-id \u4E3A P2\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)# ip dhcp snooping information option subscriber-id P2
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_6-25-ip-dhcp-snooping-information-option-subscriber-id-format" tabindex="-1"><a class="header-anchor" href="#_6-25-ip-dhcp-snooping-information-option-subscriber-id-format" aria-hidden="true">#</a> 6.25 ip dhcp snooping information option subscriber-id format</h3><ul><li>\u547D\u4EE4\uFF1A<code>ip dhcp snooping information option subscriber-id format {hex | acsii | vs-hp}</code></li><li>\u529F\u80FD\uFF1A\u672C\u547D\u4EE4\u8BBE\u7F6E DHCP snooping option82 \u529F\u80FD subscriber-id \u9ED8\u8BA4\u683C\u5F0F</li><li>\u53C2\u6570\uFF1Ahex \u8868\u793A subscriber-id \u4E3A\u5341\u516D\u8FDB\u5236\u683C\u5F0F\u7684VLAN \u548C\u7AEF\u53E3\u4FE1\u606F\uFF0Cacsii \u8868\u793A\u4E3AACSII\u683C\u5F0F\u7684VLAN\u548C\u7AEF\u53E3\u4FE1\u606F\uFF0Cvs-hp\u8868\u793Asubscriber-id\u517C\u5BB9\u8BBE\u5907\u5382\u5546HP\u7684\u683C\u5F0F\u3002</li><li>\u7F3A\u7701\u60C5\u51B5\uFF1A\u7CFB\u7EDF\u9ED8\u8BA4option82\u529F\u80FDsubscriber-id\u683C\u5F0F\u4E3Aacsii</li><li>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</li><li>\u4F7F\u7528\u6307\u5357\uFF1AASCII \u683C\u5F0F\u7684 VLAN \u548C\u7AEF\u53E3\u4FE1\u606F\u5F62\u5982 Vlan1+Ethernet1/0/11\u3002\u5341\u516D\u8FDB\u5236\u683C\u5F0F\u7684 VLAN \u548C\u7AEF\u53E3\u4FE1\u606F\u5B9A\u4E49\u5982\u4E0B\uFF1A</li></ul><p><img src="`+d+'" alt="7.jpg"></p><p>\u5176\u4E2D\uFF0CVLAN\u5B57\u6BB5\u586B\u5199\u4EA4\u6362\u673AVLAN ID\u3002Slot\u5BF9\u4E8E\u673A\u67B6\u5F0F\u4EA4\u6362\u673A\uFF0C\u8868\u793A\u63D2\u69FD\u53F7\uFF1B\u5BF9\u4E8E\u76D2\u5F0F\u4EA4\u6362\u673A\uFF0C\u4E3A1\u3002Module\u9ED8\u8BA4\u4E3A0\u3002Port\u8868\u793A\u7AEF\u53E3\u53F7\uFF0C\u4ECE1\u5F00\u59CB\u3002\u517C\u5BB9\u8BBE\u5907\u5382\u5546HP\u7684subscriber-id\u683C\u5F0F\u5B9A\u4E49\u5982\u4E0B\uFF1A</p><p><img src="'+o+`" alt="8.jpg"></p><p>\u5176\u4E2DPort \u8868\u793A\u7AEF\u53E3\u53F7\uFF0C\u4ECE 1 \u5F00\u59CB\u3002</p><ul><li><p>\u4E3E\u4F8B\uFF1A\u914D\u7F6E\u4EA4\u6362\u673A DHCP snooping option82 \u529F\u80FD subscriber-id \u683C\u5F0F\u4E3A\u5341\u516D\u8FDB\u5236\u683C\u5F0F\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ip dhcp snooping information option subscriber-id format hex
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_6-26-ip-dhcp-snooping-limit-rate" tabindex="-1"><a class="header-anchor" href="#_6-26-ip-dhcp-snooping-limit-rate" aria-hidden="true">#</a> 6.26 ip dhcp snooping limit-rate</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping limit-rate &lt;pps&gt; no ip dhcp snooping limit-rate</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BBE\u7F6E\u4EA4\u6362\u673A DHCP \u62A5\u6587\u6700\u5927\u8F6C\u53D1\u901F\u7387\u3002</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;pps&gt;</code>\uFF1A\u6BCF\u79D2\u949F\u8F6C\u53D1\u7684 DHCP \u62A5\u6587\u6570\u91CF\uFF0C\u8303\u56F4\u662F 0-100\uFF0C\u9ED8\u8BA4\u4E3A 100</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u9ED8\u8BA4\u6570\u76EE\u4E3A100\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u542F\u52A8DHCP snooping\u4E4B\u540E\uFF0C\u4EA4\u6362\u673A\u76D1\u63A7\u6240\u6709DHCP\u62A5\u6587\u5E76\u6267\u884C\u8F6F\u4EF6\u8F6C\u53D1\uFF0C\u4EA4\u6362\u673A\u8F6F\u4EF6\u6027\u80FD\u4E0E\u4EA4\u6362\u673A\u578B\u53F7\u3001\u5F53\u524D\u8D1F\u8F7D\u72B6\u6001\u7B49\u76F8\u5173\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E\u4EA4\u6362\u673ADHCP\u62A5\u6587\u8F6C\u53D1\u901F\u7387\u4E3A50pps\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#ip dhcp snooping limit-rate 50
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_6-27-ip-dhcp-snooping-timeout-detection" tabindex="-1"><a class="header-anchor" href="#_6-27-ip-dhcp-snooping-timeout-detection" aria-hidden="true">#</a> 6.27 ip dhcp snooping timeout detection</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping timeout detection &lt;0-7200&gt; no ip dhcp snooping timeout detection</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BBE\u7F6E\u7ED1\u5B9A\u8868\u9879\u7684\u6D41\u91CF\u76D1\u6D4B\u8D85\u65F6\u65F6\u95F4\u3002</p></li><li><p>\u53C2\u6570\uFF1A\u53EF\u914D\u7F6E\u7684\u6D41\u91CF\u76D1\u6D4B\u8D85\u65F6\u65F6\u95F4\u8303\u56F4\u4E3A 0-7200\uFF0C\u9ED8\u8BA4\u503C\u4E3A 3\u3002\u5355\u4F4D\u4E3A\u79D2\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u7ED1\u5B9A\u8868\u9879\u5904\u4E8E\u4FDD\u62A4\u6A21\u5F0F\u65F6\uFF0C\u6BCF\u8FC7\u4E00\u6BB5\u65F6\u95F4\uFF0C\u4F1A\u68C0\u67E5\u4E0B\u5728\u8BE5\u65F6\u95F4\u6BB5\u5185\u662F\u5426\u6709\u8BE5\u6E90 mac</p></li><li><p>\u7684\u6D41\u91CF\u901A\u8FC7\uFF1B\u82E5\u6709\u6D41\u91CF\u901A\u8FC7\uFF0C\u4F1A\u7EE7\u7EED\u5904\u4E8E\u4FDD\u62A4\u6A21\u5F0F\uFF1B\u82E5\u6CA1\u6709\u6D41\u91CF\u901A\u8FC7\uFF0C\u4F1A\u542F\u52A8\u9759\u9ED8\u5B9A\u65F6\u5668\uFF0C\u5E76\u5728\u8BE5\u9759\u9ED8\u65F6\u95F4\u6BB5\u5185\u4ECD\u5904\u4E8E\u4FDD\u62A4\u6A21\u5F0F\u3002\u82E5\u5728\u9759\u9ED8\u65F6\u95F4\u6BB5\u5185\uFF0C\u4ECD\u6CA1\u6709\u6D41\u91CF\u7ECF\u8FC7\uFF0C\u5219\u5220\u9664\u8868\u9879\u7684\u4FDD\u62A4\u6A21\u5F0F\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Config)#ip dhcp snooping timeout detection 100
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_6-28-ip-dhcp-snooping-timeout-quiet" tabindex="-1"><a class="header-anchor" href="#_6-28-ip-dhcp-snooping-timeout-quiet" aria-hidden="true">#</a> 6.28 ip dhcp snooping timeout quiet</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping timeout quiet &lt;0-4294967295&gt; no ip dhcp snooping timeout quiet</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BBE\u7F6E\u7ED1\u5B9A\u8868\u9879\u7684\u6D41\u91CF\u76D1\u6D4B\u9759\u9ED8\u65F6\u95F4\u3002</p></li><li><p>\u53C2\u6570\uFF1A\u53EF\u914D\u7F6E\u7684\u6D41\u91CF\u76D1\u6D4B\u9759\u9ED8\u65F6\u95F4\u8303\u56F4\u4E3A 0-4294967295\uFF0C\u9ED8\u8BA4\u503C\u4E3A 0\u3002\u5355\u4F4D\u4E3A\u79D2\u3002\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u7ED1\u5B9A\u8868\u9879\u5904\u4E8E\u4FDD\u62A4\u6A21\u5F0F\u65F6\uFF0C\u6BCF\u8FC7\u4E00\u6BB5\u65F6\u95F4\uFF0C\u4F1A\u68C0\u67E5\u4E0B\u5728\u8BE5\u65F6\u95F4\u6BB5\u5185\u662F\u5426\u6709\u8BE5\u6E90 mac</p></li><li><p>\u7684\u6D41\u91CF\u901A\u8FC7\uFF1B\u82E5\u6709\u6D41\u91CF\u901A\u8FC7\uFF0C\u4F1A\u7EE7\u7EED\u5904\u4E8E\u4FDD\u62A4\u6A21\u5F0F\uFF1B\u82E5\u6CA1\u6709\u6D41\u91CF\u901A\u8FC7\uFF0C\u4F1A\u542F\u52A8\u9759\u9ED8\u5B9A\u65F6\u5668\uFF0C\u5E76\u5728\u8BE5\u9759\u9ED8\u65F6\u95F4\u6BB5\u5185\u4ECD\u5904\u4E8E\u4FDD\u62A4\u6A21\u5F0F\u3002\u82E5\u5728\u9759\u9ED8\u65F6\u95F4\u6BB5\u5185\uFF0C\u4ECD\u6CA1\u6709\u6D41\u91CF\u7ECF\u8FC7\uFF0C\u5219\u5220\u9664</p></li><li><p>\u8868\u9879\u7684\u4FDD\u62A4\u6A21\u5F0F\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>(Config)#ip dhcp snooping timeout quiet 1000
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="_6-29-ip-dhcp-snooping-trust" tabindex="-1"><a class="header-anchor" href="#_6-29-ip-dhcp-snooping-trust" aria-hidden="true">#</a> 6.29 ip dhcp snooping trust</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping trust no ip dhcp snooping trust</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BBE\u7F6E\u6216\u5220\u9664\u7AEF\u53E3\u7684 DHCP snooping \u4FE1\u4EFB\u5C5E\u6027</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7AEF\u53E3\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u6240\u6709\u7AEF\u53E3\u9ED8\u8BA4\u4E3A\u975E\u4FE1\u4EFB\u7AEF\u53E3\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u5FC5\u987B\u5168\u5C40\u5F00\u542F DHCP snooping\uFF0C\u624D\u80FD\u914D\u7F6E\u6B64\u547D\u4EE4\u3002\u5F53\u7AEF\u53E3\u4ECE\u975E\u4FE1\u4EFB\u7AEF\u53E3\u53D8\u66F4\u4E3A\u4FE1\u4EFB\u7AEF\u53E3\u65F6\uFF0C\u7AEF\u53E3\u4E0A\u539F\u6765\u7684\u9632\u5FA1\u52A8\u4F5C\u5C06\u81EA\u52A8\u53BB\u9664\uFF0C\u6240\u6709\u5B89\u5168\u5386\u53F2\u8BB0\u5F55\u5C06\u6E05\u9664\uFF08\u4E0D\u4F1A\u6E05\u9664\u7CFB\u7EDF\u65E5\u5FD7\u4E2D\u7684\u4FE1\u606F\uFF09\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u8BBE\u7F6E\u7AEF\u53E3 ethernet1/0/1 \u4E3ADHCP snooping \u4FE1\u4EFB\u7AEF\u53E3\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#interface ethernet 1/0/1
switch(Config- Ethernet 1/0/1)#ip dhcp snooping trust
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h3 id="_6-30-ip-dhcp-snooping-vlan" tabindex="-1"><a class="header-anchor" href="#_6-30-ip-dhcp-snooping-vlan" aria-hidden="true">#</a> 6.30 ip dhcp snooping vlan</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping vlan (WORD | ) no ip dhcp snooping vlan (WORD | )</code></p></li><li><p>\u529F\u80FD\uFF1A\u5728 vlan \u4E2D\u4F7F\u80FD dhcp snooping \u529F\u80FD\u3002</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u53C2\u6570\u3002\u9ED8\u8BA4\u5728\u6240\u6709 vlan \u4E0A\u4F7F\u80FD dhcp snooping\uFF0C\u5426\u5219\u5728\u53C2\u6570\u6307\u5B9A\u7684 vlan \u4E0A\u4F7F\u80FD dhcp snooping\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u9ED8\u8BA4\u4E0D\u5728 vlan \u4E2D\u4F7F\u80FD dhcp snooping \u529F\u80FD\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1Ano ip dhcp snooping vlan <code>&lt;vlan-id&gt;</code>\u8868\u793A\u5728\u6307\u5B9A vlan \u4E0A\u7981\u7528 dhcp snooping \u529F\u80FD\u3002\u4E3E\u4F8B\uFF1A\u542F\u52A8 DHCP snooping \u529F\u80FD\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#ip dhcp snooping vlan 10
switch(config)#no ip dhcp snooping vlan 10
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h3 id="_6-31-ip-user-helper-address" tabindex="-1"><a class="header-anchor" href="#_6-31-ip-user-helper-address" aria-hidden="true">#</a> 6.31 ip user helper-address</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip user helper-address &lt;svr_addr&gt; [port &lt;udp_port&gt; ] source &lt;src_addr&gt; [secondary] no ip user helper-address [secondary]</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BBE\u7F6E HELPER SERVER \u5730\u5740\u548C\u7AEF\u53E3\u53F7\u3002</p></li><li><p>\u53C2\u6570\uFF1A<code>&lt;svr_addr&gt;</code>\uFF1AHELPER SERVER \u7684 IP \u5730\u5740\uFF0C\u70B9\u5206\u5341\u8FDB\u5236\u5F62\u5F0F\u3002 udp_port\uFF1AHELPER SERVER \u7684UDP \u7AEF\u53E3\u53F7\uFF0C\u8303\u56F4\u662F 1\uFF0D65535\uFF0C\u9ED8\u8BA4\u503C\u662F 9119\u3002 src_addr\uFF1A\u4EA4\u6362\u673A\u672C\u5730\u7BA1\u7406 IP \u5730\u5740\uFF0C\u70B9\u5206\u5341\u8FDB\u5236\u5F62\u5F0F\u3002sencondary\uFF1A\u662F\u5426\u4E3A\u7B2C\u4E8C SERVER \u5730\u5740</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u6CA1\u6709 HELPER SERVER \u5730\u5740\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1ADHCP snooping \u628A\u76D1\u63A7\u5230\u7684\u7ED1\u5B9A\u4FE1\u606F\u53D1\u9001\u5230 HELPER SERVER \u4FDD\u5B58\uFF0C\u5F53\u4EA4\u6362\u673A\u5F02\u5E38\u542F\u52A8\u4E4B\u540E\uFF0C\u53EF\u4EE5\u4ECE HELPER SERVER \u6062\u590D\u8FD9\u4E9B\u7ED1\u5B9A\u6570\u636E\u3002HELPER SERVER \u529F\u80FD\u4E00\u822C\u96C6\u6210\u5230 DCBI \u8F6F\u4EF6\u5305\u4E2D\u3002DHCP snooping \u548CHELPER SERVER \u901A\u8FC7 UDP \u534F\u8BAE\u8FDB\u884C\u901A\u8BAF\uFF0C\u5E76\u4E14\u901A\u8FC7\u91CD\u4F20\u4FDD\u8BC1\u6570\u636E\u53EF\u9760\u5230\u8FBE\u3002HELPER SERVER<br> \u914D\u7F6E\u8FD8\u53EF\u4EE5\u7528\u4E8E\u4ECE\u670D\u52A1\u5668\u4E0B\u53D1 DOT1X \u7528\u6237\u6570\u636E\uFF0C\u5177\u4F53\u7528\u6CD5\u89C1<code>\u300Adot1x \u914D\u7F6E\u300B</code>\u7AE0\u8282\u3002 \u53EF\u4EE5\u914D\u7F6E\u4E24\u4E2AHELPER SERVER \u5730\u5740\uFF0CDHCP snooping \u5C3D\u91CF\u548C PRIMARY SERVER \u521B\u5EFA\u8FDE\u63A5\uFF1B\u53EA\u6709 PRIMARY SERVER \u4E0D\u53EF\u8FBE\u65F6\uFF0C\u624D\u548C SECONDARY SERVER \u5EFA\u7ACB\u8FDE\u63A5\u3002\u8BF7\u6CE8\u610F\uFF1A source \u5730\u5740\u662F\u4EA4\u6362\u673A\u7684\u6709\u6548\u7BA1\u7406 IP \u5730\u5740\uFF0C\u5982\u679C\u4EA4\u6362\u673A\u7BA1\u7406 IP \u5730\u5740\u66F4\u65B0\uFF0C\u5E94\u8BE5\u53CA\u65F6\u66F4\u65B0\u6B64\u914D\u7F6E\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A \u914D\u7F6E\u672C\u5730\u7BA1\u7406 IP \u5730\u5740\u4E3A 100.1.1.1\uFF0C\u4E3B HELPER SERVER \u5730\u5740\u4E3A 100.1.1.100\uFF0C\u7AEF\u53E3\u53F7\u4E3A\u9ED8\u8BA4\u503C\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#interface vlan 1
switch(Config- If-Vlan1)#ip address 100.1.1.1 255.255.255.0 switch(Config-If-Vlan1)exit
switch(config)#ip user helper-address 100.1.1.100 source 100.1.1.1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><h3 id="_6-32-ip-user-private-packet-version-two" tabindex="-1"><a class="header-anchor" href="#_6-32-ip-user-private-packet-version-two" aria-hidden="true">#</a> 6.32 ip user private packet version two</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip user private packet version two no ip user private packet version two</code></p></li><li><p>\u529F\u80FD\uFF1A\u5728\u4EA4\u6362\u673A\u548C DCN \u5185\u7F51\u5B89\u5168\u7BA1\u7406\u7CFB\u7EDF trustview \u7CFB\u7EDF\u4E4B\u95F4\u9009\u62E9\u7248\u672C 2 \u79C1\u6709\u62A5\u6587\u8FDB\u884C\u901A\u4FE1\u3002</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u4EA4\u6362\u673A\u548C DCN \u63A5\u5165\u7BA1\u7406\u7CFB\u7EDF DCBI \u4E4B\u95F4\u9009\u62E9\u4F7F\u7528\u7248\u672C 1 \u79C1\u6709\u62A5\u6587\u8FDB\u884C\u901A\u4FE1\u3002 \u4F7F\u7528\u6307\u5357\uFF1A\u5982\u679C\u7BA1\u7406\u5458\u4F7F\u7528 DCN \u63A5\u5165\u7BA1\u7406\u7CFB\u7EDF DCBI\uFF0C\u5219\u9700\u8981\u5728\u4EA4\u6362\u673A\u548C DCBI \u95F4\u4F7F\u7528\u7248\u672C 1</p></li><li><p>\u79C1\u6709\u62A5\u6587\u8FDB\u884C\u901A\u4FE1\uFF1B\u5982\u679C\u4F7F\u7528 DCN \u5185\u7F51\u5B89\u5168\u7BA1\u7406\u7CFB\u7EDF TrustView\uFF0C\u5219\u5FC5\u987B\u4F7F\u7528\u7248\u672C 2\u7684\u79C1\u6709\u62A5\u6587\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A\u4EA4\u6362\u673A\u4F7F\u7528\u7248\u672C 2 \u79C1\u6709\u62A5\u6587\u4E0E DCN \u5185\u7F51\u5B89\u5168\u7BA1\u7406\u540E\u53F0\u7CFB\u7EDF\u901A\u4FE1\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch(config)#ip user private packet version two
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><p>\u76F8\u5173\u547D\u4EE4\uFF1A<code>ip user helper-address</code></p><h3 id="_6-33-show-ip-dhcp-snooping" tabindex="-1"><a class="header-anchor" href="#_6-33-show-ip-dhcp-snooping" aria-hidden="true">#</a> 6.33 show ip dhcp snooping</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ip dhcp snooping [interface [ethernet] &lt;interfaceName&gt;]</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A\u5F53\u524D DHCP snooping \u7684\u914D\u7F6E\u4FE1\u606F\uFF0C\u6216\u663E\u793A\u6307\u5B9A\u7AEF\u53E3\u7684\u9632\u5FA1\u52A8\u4F5C\u8BB0\u5F55\u3002\u53C2\u6570\uFF1A<code>&lt;interfaceName&gt;</code>\uFF1A\u6307\u5B9A\u7AEF\u53E3\u540D\u79F0\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A \u5982\u679C\u4E0D\u6307\u5B9A\u7AEF\u53E3\uFF0C\u90A3\u4E48\u663E\u793A\u5F53\u524D DHCP snooping \u7684\u914D\u7F6E\u4FE1\u606F\uFF0C\u5982\u679C\u6307\u5B9A\u7AEF\u53E3\uFF0C\u90A3\u4E48\u663E\u793A\u6307\u5B9A\u7AEF\u53E3\u7684\u9632\u5FA1\u52A8\u4F5C\u8BB0\u5F55\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch#show ip dhcp snooping
DHCP Snooping is enable

DHCP Snooping binding arp: disabled DHCP Snooping maxnum of action info:10
DHCP Snooping limit rate: 100(pps), switch ID: 0003.0F12.3456 DHCP Snooping droped packets: 0, 
discarded packets: 0  DHCP Snooping alarm count: 0, binding count: 0,
expired binding: 0, request binding: 0

interface             trust           action         recovery     alarm num    bind num
--------------- ---------------- -------------- ---------------
Ethernet1/0/1       trust        none           0second       0                0
Ethernet1/0/2       untrust      none           0second       0                0
Ethernet1/0/3       untrust      none           0second       0                0
Ethernet1/0/4       untrust      none           0second       0                1
Ethernet1/0/5       untrust      none           0second       2                0
Ethernet1/0/6       untrust      none           0second       0                0
Ethernet1/0/7       untrust      none           0second       0                0
Ethernet1/0/8       untrust      none           0second       0                1
Ethernet1/0/9       untrust      none           0second       0                0
Ethernet1/0/10      untrust      none           0second       0                0
Ethernet1/0/11      untrust      none           0second       0                0
Ethernet1/0/12      untrust      none           0second       0                0
Ethernet1/0/13      untrust      none           0second       0                0
Ethernet1/0/14      untrust      none           0second       0                0
Ethernet1/0/15      untrust      none           0second       0                0
Ethernet1/0/16      untrust      none           0second       0                0
Ethernet1/0/17      untrust      none           0second       0                0
Ethernet1/0/18      untrust      none           0second       0                0
Ethernet1/0/19      untrust      none           0second       0                0
Ethernet1/0/20      untrust      none           0second       0                0
Ethernet1/0/21      untrust      none           0second       0                0
Ethernet1/0/22      untrust      none           0second       0                0
Ethernet1/0/23      untrust      none           0second       0                0
Ethernet1/0/24      untrust      none           0second       0                0
Ethernet1/0/25      untrust      none           0second       0                0
Ethernet1/0/26      untrust      none           0second       0                0
Ethernet1/0/27      untrust      none           0second       0                0
Ethernet1/0/28      untrust      none           0second       0                0



| \u663E\u793A\u4FE1\u606F                            | \u89E3\u91CA                                                         |
| ----------------------------------- | ------------------------------------------------------------ |
| DHCP Snooping is enable             | DHCP Snooping\u5168\u5C40\u5F00\u542F\u6216\u5173\u95ED\u72B6\u6001                              |
| DHCP Snooping binding arp           | \u662F\u5426\u542F\u52A8\u7ED1\u5B9AARP\u529F\u80FD\u3002                                        |
| DHCP Snooping maxnum of action info | \u7AEF\u53E3\u9632\u5FA1\u52A8\u4F5C\u6570\u91CF\u9650\u5236                                         |
| DHCP Snooping limit rate            | \u6536\u5305\u901F\u7387\u9650\u5236                                                 |
| switch ID                           | \u4EA4\u6362\u673AID\u7528\u6237\u6807\u8BB0\u4EA4\u6362\u673A\uFF0C\u4E00\u822C\u76F4\u63A5\u53D6CPU MAC\u5730\u5740\u3002              |
| DHCP Snooping droped packets        | \u56E0\u4E3A\u63A5\u6536\u5230\u7684DHCP\u62A5\u6587\u8D85\u8D8A\u9650\u901F\u800C\u4E22\u5F03\u7684\u62A5\u6587\u6570\u91CF\u3002               |
| discarded packets                   | \u56E0\u4E3A\u7CFB\u7EDF\u5185\u90E8\u4EFB\u52A1\u4E4B\u95F4\u901A\u8BAF\u5931\u8D25\u800C\u4E22\u5F03\u62A5\u6587\u6570\u91CF\uFF0C\u51FA\u73B0\u8FD9\u79CD\u4E22\u5305\u73B0\u8C61\u5F88\u53EF\u80FD\u662F\u56E0\u4E3A\u4EA4\u6362\u673ACPU\u592A\u5FD9\u788CDHCP snooping\u4EFB\u52A1\u5F97\u4E0D\u5230\u8C03\u5EA6\u800C\u65E0\u6CD5\u5904\u7406\u63A5\u6536\u5230\u7684DHCP\u62A5\u6587\u3002 |
| DHCP Snooping alarm count           | \u62A5\u8B66\u4FE1\u606F\u6570\u91CF                                                 |
| binding count                       | \u7ED1\u5B9A\u4FE1\u606F\u6570\u91CF                                                 |
| expired binding                     | \u5DF2\u7ECF\u8D85\u65F6\u6682\u65F6\u8FD8\u6CA1\u6709\u88AB\u5220\u9664\u7684\u7ED1\u5B9A\u4FE1\u606F\u6570\u91CF\uFF0C\u6CA1\u6709\u7ACB\u5373\u5220\u9664\u8D85\u65F6\u7ED1\u5B9A\u4FE1\u606F\u53EF\u80FD\u662F\u56E0\u4E3A\u4EA4\u6362\u673A\u9700\u8981\u5411helper server\u901A\u544A\u8FD9\u4E9B\u4FE1\u606F\uFF0C\u800Chelper server\u6682\u65F6\u8FD8\u6CA1\u6709\u786E\u8BA4\u6536\u5230\u3002 |
| request binding                     | REQUEST\u4FE1\u606F\u6570\u91CF\u3002                                            |
| interface                           | \u7AEF\u53E3\u540D\u79F0\u3002                                                   |
| trust                               | \u7AEF\u53E3\u540D\u79F0\u3002                                                   |
| action                              | \u7AEF\u53E3\u7684\u81EA\u52A8\u9632\u5FA1\u52A8\u4F5C\u3002                                         |
| recovery                            | \u7AEF\u53E3\u81EA\u52A8\u9632\u5FA1\u52A8\u4F5C\u7684\u6062\u590D\u65F6\u95F4                                   |
| alarm num                           | \u7AEF\u53E3\u81EA\u52A8\u9632\u5FA1\u52A8\u4F5C\u5386\u53F2\u8BB0\u5F55\u6570\u76EE                                 |
| bind num                            | \u7AEF\u53E3\u76F8\u5173\u7ED1\u5B9A\u4FE1\u606F\u6570\u91CF\u3002  
                                     
switch#show ip dhcp snooping int Ethernet1/0/1
interface Ethernet1/0/1 user config: 
trust attribute: untrust
action: none
binding dot1x: disabled
binding user: disabled
recovery interval:0(s)
Alarm info: 0

Binding info: 0

Expired Binding: 0

Request Binding: 0

![9.jpg](./img/07/9.jpg)
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br></div></div></li></ul><h3 id="_6-34-show-ip-dhcp-snooping-binding-all" tabindex="-1"><a class="header-anchor" href="#_6-34-show-ip-dhcp-snooping-binding-all" aria-hidden="true">#</a> 6.34 show ip dhcp snooping binding all</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show ip dhcp snooping binding all</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A\u5F53\u524D DHCP snooping \u5168\u5C40\u7ED1\u5B9A\u4FE1\u606F\u3002\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002\u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u8BE5\u547D\u4EE4\u53EF\u67E5\u770B DHCP Snooping \u5168\u5C40\u7ED1\u5B9A\u4FE1\u606F\uFF0C\u6BCF\u6761\u663E\u793A\u8868\u9879\u5305\u62EC DHCP Snooping \u7ED1\u5B9A\u5BF9\u5E94\u7684 MAC \u5730\u5740\uFF0CIP \u5730\u5740\uFF0C\u6240\u5C5E\u7AEF\u53E3\u540D\u548C Vlan ID\uFF0C\u4EE5\u53CA\u7ED1\u5B9A\u72B6\u6001\u6807\u8BC6\u3002\u5FC5\u987B\u5168\u5C40\u5F00\u542F DHCP snooping\uFF0C\u624D\u80FD\u914D\u7F6E\u6B64\u547D\u4EE4\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>switch#show ip dhcp snooping binding all
ip dhcp snooping static binding count:1169, dynamic binding count:0


MAC                  IP address           Interface       Vlan ID     Flag
-----------------------------------------------------------
00-00-00-00-11-11    192.168.40.1      Ethernet1/0/1       1           S
00-00-00-00-00-10    192.168.40.10     Ethernet1/0/2       1           D
00-00-00-00-00-11    192.168.40.11     Ethernet1/0/4       1           D
00-00-00-00-00-12    192.168.40.12     Ethernet1/0/4       1           D
00-00-00-00-00-13    192.168.40.13     Ethernet1/0/4       1           SU
00-00-00-00-00-14    192.168.40.14     Ethernet1/0/4       1           SU
00-00-00-00-00-15    192.168.40.15     Ethernet1/0/5       1           SL
00-00-00-00-00-16    192.168.40.16     Ethernet1/0/5       1           SL
------------------------------------------------------
\u7ED1\u5B9A\u72B6\u6001flag  \u89E3\u91CA
S  \u9759\u6001\u7ED1\u5B9A\u7531 shell \u547D\u4EE4\u914D\u7F6E
D  \u52A8\u6001\u7ED1\u5B9A\u7C7B\u578B
U  \u7ED1\u5B9A\u5DF2\u4E0A\u4F20\u81F3\u670D\u52A1\u5668
R  \u9759\u6001\u7ED1\u5B9A\u7531\u670D\u52A1\u5668\u914D\u7F6E
O DHCP \u5E94\u7B54\u5E26\u6709 option82 \u9009\u9879
L  \u7ED1\u5B9A\u5DF2\u901A\u77E5\u786C\u4EF6\u9A71\u52A8
X  \u7ED1\u5B9A\u6210\u529F\u901A\u77E5 dot1x \u6A21\u5757
E  \u7ED1\u5B9A\u901A\u77E5 dot1x
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div></li></ul><h3 id="_6-35-show-trustview-status" tabindex="-1"><a class="header-anchor" href="#_6-35-show-trustview-status" aria-hidden="true">#</a> 6.35 show trustview status</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>show trustview status</code></p></li><li><p>\u529F\u80FD\uFF1A\u663E\u793A\u4EA4\u6362\u673A\u6536\u53D1 DCN \u5185\u7F51\u5B89\u5168\u7BA1\u7406\u540E\u53F0\u7CFB\u7EDF TrustView \u5404\u79CD\u7C7B\u578B\u79C1\u6709\u62A5\u6587\u7684\u72B6\u6001\u4FE1\u606F\u3002</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u547D\u4EE4\u6A21\u5F0F\uFF1A\u7279\u6743\u548C\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1A\u65E0\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u7BA1\u7406\u5458\u53EF\u4EE5\u4F7F\u7528\u6B64\u547D\u4EE4\u6765\u663E\u793A\u4EA4\u6362\u673A\u6536\u53D1 TrustView \u7CFB\u7EDF\u5404\u79CD\u7C7B\u578B\u79C1\u6709\u62A5\u6587\u7684\u72B6\u6001\u4FE1\u606F\uFF0C\u5305\u62EC\u7248\u672C\u901A\u77E5\u662F\u5426\u6210\u529F\uFF0C\u79C1\u6709\u62A5\u6587\u52A0\u5BC6\u662F\u5426\u534F\u5546\u6210\u529F\uFF0Cfree resource\uFF0Cweb \u91CD\u5B9A\u5411</p></li><li><p>\u7F51\u9875\u5730\u5740\uFF0C\u6536\u5230\u7684\u5F3A\u5236\u4E0B\u7EBF\u62A5\u6587\u6570\u76EE\uFF0C\u6536\u5230\u7684\u5F3A\u5236\u8BA1\u8D39\u62A5\u6587\u6570\u76EE\u3002</p></li><li><p>\u4E3E\u4F8B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch#show trustview status
Primary TrustView Server 200.101.0.9:9119 
    TrustView version2 message inform successed
    TrustView inform free resource successed
    TrustView inform web redirect address successed 
    TrustView inform user binding data successed
    TrustView version2 message encrypt/digest enabled
Key: 08:02:33:34:35:36:37:38
Rcvd 106 encrypted messages, in which MD5-error 0 messages, DES-error 0 messages
Sent 106 encrypted messages
Free resource is 200.101.0.9/255.255.255.255
Web redirect address for unauthencated users is &lt;http://200.101.0.9:8080&gt;
Rcvd 0 force log-off packets
Rcvd 19 force accounting update packets
using version two private packet
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li></ul><h2 id="\u7B2C7\u7AE0-dhcp-snooping-option-82\u914D\u7F6E\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u7B2C7\u7AE0-dhcp-snooping-option-82\u914D\u7F6E\u547D\u4EE4" aria-hidden="true">#</a> \u7B2C7\u7AE0 DHCP Snooping option 82\u914D\u7F6E\u547D\u4EE4</h2><h3 id="_7-1-ip-dhcp-snooping-information-enable" tabindex="-1"><a class="header-anchor" href="#_7-1-ip-dhcp-snooping-information-enable" aria-hidden="true">#</a> 7.1 ip dhcp snooping information enable</h3><ul><li><p>\u547D\u4EE4\uFF1A<code>ip dhcp snooping information enableno ip dhcp snooping information enable</code></p></li><li><p>\u529F\u80FD\uFF1A\u8BBE\u7F6E\u672C\u547D\u4EE4\u542F\u7528\u4EA4\u6362\u673ADHCP SNOOPING \u7684 option 82 \u529F\u80FD\uFF0C\u672C\u547D\u4EE4\u7684 no \u64CD\u4F5C\u5173\u95ED\u4EA4\u6362\u673ADHCP SNOOPING \u7684option 82 \u529F\u80FD\u3002</p></li><li><p>\u53C2\u6570\uFF1A\u65E0\u3002</p></li><li><p>\u7F3A\u7701\u60C5\u51B5\uFF1ADHCP SNOOPING \u9ED8\u8BA4\u5173\u95EDoption 82 \u529F\u80FD\u3002\u547D\u4EE4\u6A21\u5F0F\uFF1A\u5168\u5C40\u914D\u7F6E\u6A21\u5F0F\u3002</p></li><li><p>\u4F7F\u7528\u6307\u5357\uFF1A\u53EA\u6709\u914D\u7F6E\u672C\u547D\u4EE4 DHCP SNOOPING \u624D\u80FD\u5728 DHCP \u8BF7\u6C42\u62A5\u6587\u4E2D\u6DFB\u52A0\u6807\u51C6\u7684 option 82 \u9009\u9879\u5E76\u8F6C\u53D1\u3002option 82 \u5B50\u9009\u9879 1\uFF08\u7535\u8DEF ID \u9009\u9879\uFF09\u7684\u5F62\u5F0F\u4E3A\u6807\u51C6\u7684 vlan \u540D\u52A0\u7269\u7406\u7AEF\u53E3\u540D\u5F62\u5F0F\uFF0C\u5982\u201CVlan1+Ethernet1/0/12\u201D\u3002option 82 \u5B50\u9009\u9879 2\uFF08\u8FDC\u7AEF ID \u9009\u9879\uFF09\u7684\u5F62\u5F0F\u4E3A\u4EA4\u6362\u673A CPU MAC\uFF0C\u5982\u201C00030f023301\u201D\u3002\u5982\u679C\u63A5\u6536\u5230\u7684\u542B\u6709 option 82 \u9009\u9879\u7684 DHCP \u8BF7\u6C42\u62A5\u6587\uFF0CDHCP SNOOPING \u4F7F\u7528\u81EA\u5DF1\u7684 option 82 \u9009\u9879\u66FF\u6362\u73B0\u6709\u62A5\u6587\u4E2D\u7684 option 82 \u9009\u9879\uFF1B\u5982\u679C\u63A5\u6536\u5230\u7684\u542B\u6709option 82 \u9009\u9879\u7684 DHCP \u5E94\u7B54\u62A5\u6587\uFF0C\u5219\u5C06\u62A5\u6587\u4E2D\u7684 option 82 \u9009\u9879\u4E22\u5F03\u518D\u8F6C\u53D1 DHCP \u62A5\u6587</p></li><li><p>\u4E3E\u4F8B\uFF1A\u5F00\u542F\u4EA4\u6362\u673A DHCP SNOOPING \u7684 option 82 \u529F\u80FD\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Switch(config)#ip dhcp snooping enable Switch(config)#ip dhcp snooping binding enable
Switch(config)#ip dhcp snooping information enable
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul>`,333);function c(h,u){return t}var g=i(r,[["render",c],["__file","07_DHCP.html.vue"]]);export{g as default};
