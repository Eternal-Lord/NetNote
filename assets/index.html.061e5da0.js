import{_ as p,r as o,o as r,c as t,a as n,b as e,F as l,d as s,e as c}from"./app.bef272a2.js";const i={},u=n("h1",{id:"unbound-dns",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#unbound-dns","aria-hidden":"true"},"#"),s(" Unbound\uFF08DNS\uFF09")],-1),b={class:"custom-container tip"},k=n("p",{class:"custom-container-title"},"TIP",-1),d=n("p",null,"Unbound \u662F\u4E00\u4E2A\u5177\u6709\u9A8C\u8BC1\uFF0C\u9012\u5F52\u548C\u7F13\u5B58\u7B49\u529F\u80FD\u7684 DNS \u89E3\u6790\u5668\u3002",-1),m={href:"https://nlnetlabs.nl/projects/unbound/about/",target:"_blank",rel:"noopener noreferrer"},h=s("\u5B98\u7F51"),g={href:"https://unbound.docs.nlnetlabs.nl/en/latest/",target:"_blank",rel:"noopener noreferrer"},_=s("\u5B98\u65B9\u6587\u6863"),f=n("h2",{id:"\u94FE\u63A5",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u94FE\u63A5","aria-hidden":"true"},"#"),s(" \u94FE\u63A5")],-1),v={href:"https://wiki.archlinux.org/title/Unbound_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)",target:"_blank",rel:"noopener noreferrer"},x=s("Unbound (\u7B80\u4F53\u4E2D\u6587) - ArchWiki"),D={href:"https://www.redhat.com/sysadmin/forwarding-dns-2",target:"_blank",rel:"noopener noreferrer"},y=s("Configuring Unbound as a simple forwarding DNS server | Enable Sysadmin"),w={href:"https://www.cnblogs.com/djlsunshine/p/9783290.html",target:"_blank",rel:"noopener noreferrer"},q=s("unbound\u57DF\u540D\u89E3\u6790 - \u963F\u5C0F\u675C - \u535A\u5BA2\u56ED"),E={href:"https://blog.csdn.net/Alkaid__3/article/details/104836193",target:"_blank",rel:"noopener noreferrer"},N=s("UNbound DNS -UNbound\u57DF\u540D\u89E3\u6790_Alkaid__3\u7684\u535A\u5BA2-CSDN\u535A\u5BA2_alkaid"),S={href:"https://blog.return0.top/blog/2018/11/%E4%BD%BF%E7%94%A8unbound%E6%90%AD%E5%BB%BAdns%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E7%BC%93%E5%AD%98%E4%BB%A5%E5%8F%8A%E9%98%B2%E6%AD%A2dns%E6%B1%A1%E6%9F%93/",target:"_blank",rel:"noopener noreferrer"},A=s("\u4F7F\u7528unbound\u642D\u5EFADNS\u670D\u52A1\u5668\uFF0C\u914D\u7F6E\u7F13\u5B58\u4EE5\u53CA\u9632\u6B62DNS\u6C61\u67D3 - Nrehearsal"),I=c(`<h2 id="\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@host-192-168-30-100 ~<span class="token punctuation">]</span><span class="token comment"># sudo yum install unbound</span>
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
Resolving Dependencies
--<span class="token operator">&gt;</span> Running transaction check
---<span class="token operator">&gt;</span> Package unbound.x86_64 <span class="token number">0</span>:1.4.20-34.el7 will be installed
--<span class="token operator">&gt;</span> Processing Dependency: unbound-libs<span class="token punctuation">(</span>x86-64<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1.4</span>.20-34.el7 <span class="token keyword">for</span> package: unbound-1.4.20-34.el7.x86_64
--<span class="token operator">&gt;</span> Processing Dependency: ldns <span class="token operator">&gt;=</span> <span class="token number">1.6</span>.16-10 <span class="token keyword">for</span> package: unbound-1.4.20-34.el7.x86_64
--<span class="token operator">&gt;</span> Processing Dependency: libunbound.so.2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>64bit<span class="token punctuation">)</span> <span class="token keyword">for</span> package: unbound-1.4.20-34.el7.x86_64
--<span class="token operator">&gt;</span> Processing Dependency: libldns.so.1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>64bit<span class="token punctuation">)</span> <span class="token keyword">for</span> package: unbound-1.4.20-34.el7.x86_64
--<span class="token operator">&gt;</span> Processing Dependency: libevent-2.0.so.5<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>64bit<span class="token punctuation">)</span> <span class="token keyword">for</span> package: unbound-1.4.20-34.el7.x86_64
--<span class="token operator">&gt;</span> Running transaction check
---<span class="token operator">&gt;</span> Package ldns.x86_64 <span class="token number">0</span>:1.6.16-10.el7 will be installed
--<span class="token operator">&gt;</span> Processing Dependency: libpcap.so.1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>64bit<span class="token punctuation">)</span> <span class="token keyword">for</span> package: ldns-1.6.16-10.el7.x86_64
---<span class="token operator">&gt;</span> Package libevent.x86_64 <span class="token number">0</span>:2.0.21-4.el7 will be installed
---<span class="token operator">&gt;</span> Package unbound-libs.x86_64 <span class="token number">0</span>:1.4.20-34.el7 will be installed
--<span class="token operator">&gt;</span> Running transaction check
---<span class="token operator">&gt;</span> Package libpcap.x86_64 <span class="token number">14</span>:1.5.3-9.el7 will be installed
--<span class="token operator">&gt;</span> Finished Dependency Resolution

Dependencies Resolved

<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
 Package                        Arch        Version             Repository    Size
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
Installing:
 unbound                        x86_64      <span class="token number">1.4</span>.20-34.el7       c7-media     <span class="token number">478</span> k
Installing <span class="token keyword">for</span> dependencies:
 ldns                           x86_64      <span class="token number">1.6</span>.16-10.el7       c7-media     <span class="token number">476</span> k
 libevent                       x86_64      <span class="token number">2.0</span>.21-4.el7        c7-media     <span class="token number">214</span> k
 libpcap                        x86_64      <span class="token number">14</span>:1.5.3-9.el7      c7-media     <span class="token number">138</span> k
 unbound-libs                   x86_64      <span class="token number">1.4</span>.20-34.el7       c7-media     <span class="token number">299</span> k

Transaction Summary
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
Install  <span class="token number">1</span> Package <span class="token punctuation">(</span>+4 Dependent packages<span class="token punctuation">)</span>

Total download size: <span class="token number">1.6</span> M
Installed size: <span class="token number">4.7</span> M
Is this ok <span class="token punctuation">[</span>y/d/N<span class="token punctuation">]</span>: y
Downloading packages:
------------------------------------------------------------------------------------
Total                                  <span class="token number">62</span> MB/s <span class="token operator">|</span> <span class="token number">1.6</span> MB  00:00:00     
Running transaction check
Running transaction <span class="token builtin class-name">test</span>
Transaction <span class="token builtin class-name">test</span> succeeded
Running transaction
  Installing <span class="token builtin class-name">:</span> libevent-2.0.21-4.el7.x86_64                                   <span class="token number">1</span>/5 
  Installing <span class="token builtin class-name">:</span> <span class="token number">14</span>:libpcap-1.5.3-9.el7.x86_64                                  <span class="token number">2</span>/5 
  Installing <span class="token builtin class-name">:</span> ldns-1.6.16-10.el7.x86_64                                      <span class="token number">3</span>/5 
  Installing <span class="token builtin class-name">:</span> unbound-libs-1.4.20-34.el7.x86_64                              <span class="token number">4</span>/5 
  Installing <span class="token builtin class-name">:</span> unbound-1.4.20-34.el7.x86_64                                   <span class="token number">5</span>/5 
  Verifying  <span class="token builtin class-name">:</span> unbound-1.4.20-34.el7.x86_64                                   <span class="token number">1</span>/5 
  Verifying  <span class="token builtin class-name">:</span> ldns-1.6.16-10.el7.x86_64                                      <span class="token number">2</span>/5 
  Verifying  <span class="token builtin class-name">:</span> libevent-2.0.21-4.el7.x86_64                                   <span class="token number">3</span>/5 
  Verifying  <span class="token builtin class-name">:</span> <span class="token number">14</span>:libpcap-1.5.3-9.el7.x86_64                                  <span class="token number">4</span>/5 
  Verifying  <span class="token builtin class-name">:</span> unbound-libs-1.4.20-34.el7.x86_64                              <span class="token number">5</span>/5 

Installed:
  unbound.x86_64 <span class="token number">0</span>:1.4.20-34.el7                                                                                                                                             

Dependency Installed:
  ldns.x86_64 <span class="token number">0</span>:1.6.16-10.el7            libevent.x86_64 <span class="token number">0</span>:2.0.21-4.el7
  libpcap.x86_64 <span class="token number">14</span>:1.5.3-9.el7          unbound-libs.x86_64 <span class="token number">0</span>:1.4.20-34.el7           

Complete<span class="token operator">!</span>
</code></pre><div class="highlight-lines"><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br></div></div><p>\u5B89\u88C5\u5B8C\u6210\u540E\uFF1A <strong>\u4F7F\u7528 <code>sudo systemctl start unbound</code> \u542F\u52A8\u670D\u52A1</strong>\uFF0C <strong>\u4F7F\u7528 <code>sudo systeamctl enable unbound</code> \u914D\u7F6E\u5F00\u673A\u542F\u52A8</strong>\uFF0C <strong>\u4F7F\u7528 <code>sudo systeamctl status unbound</code> \u67E5\u770B\u670D\u52A1\u72B6\u6001</strong>\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@host-192-168-30-100 ~<span class="token punctuation">]</span><span class="token comment"># systemctl status unbound</span>
\u25CF unbound.service - Unbound recursive Domain Name Server
   Loaded: loaded <span class="token punctuation">(</span>/usr/lib/systemd/system/unbound.service<span class="token punctuation">;</span> disabled<span class="token punctuation">;</span> vendor preset: disabled<span class="token punctuation">)</span>
   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since Mon <span class="token number">2021</span>-12-06 <span class="token number">22</span>:53:33 EST<span class="token punctuation">;</span> 5s ago
  Process: <span class="token number">1728</span> <span class="token assign-left variable">ExecStartPre</span><span class="token operator">=</span>/usr/sbin/unbound-anchor -a /var/lib/unbound/root.key -c /etc/unbound/icannbundle.pem <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">0</span>/SUCCESS<span class="token punctuation">)</span>
  Process: <span class="token number">1727</span> <span class="token assign-left variable">ExecStartPre</span><span class="token operator">=</span>/usr/sbin/unbound-checkconf <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">0</span>/SUCCESS<span class="token punctuation">)</span>
 Main PID: <span class="token number">1731</span> <span class="token punctuation">(</span>unbound<span class="token punctuation">)</span>
   CGroup: /system.slice/unbound.service
           \u2514\u25001731 /usr/sbin/unbound -d

Dec 06 <span class="token number">22</span>:53:15 host-192-168-30-100 systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Starting Unbound recursive Domain Name Server<span class="token punctuation">..</span>.
Dec 06 <span class="token number">22</span>:53:15 host-192-168-30-100 unbound-checkconf<span class="token punctuation">[</span><span class="token number">1727</span><span class="token punctuation">]</span>: unbound-checkconf: no errors <span class="token keyword">in</span> /etc/unbound/unbound.conf
Dec 06 <span class="token number">22</span>:53:33 host-192-168-30-100 systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Started Unbound recursive Domain Name Server.
Dec 06 <span class="token number">22</span>:53:33 host-192-168-30-100 unbound<span class="token punctuation">[</span><span class="token number">1731</span><span class="token punctuation">]</span>: <span class="token punctuation">[</span><span class="token number">1731</span>:0<span class="token punctuation">]</span> notice: init module <span class="token number">0</span>: validator
Dec 06 <span class="token number">22</span>:53:33 host-192-168-30-100 unbound<span class="token punctuation">[</span><span class="token number">1731</span><span class="token punctuation">]</span>: Dec 06 <span class="token number">22</span>:53:33 unbound<span class="token punctuation">[</span><span class="token number">1731</span>:0<span class="token punctuation">]</span> warning: increased limit<span class="token punctuation">(</span>open files<span class="token punctuation">)</span> from <span class="token number">1024</span> to <span class="token number">8290</span>
Dec 06 <span class="token number">22</span>:53:33 host-192-168-30-100 unbound<span class="token punctuation">[</span><span class="token number">1731</span><span class="token punctuation">]</span>: <span class="token punctuation">[</span><span class="token number">1731</span>:0<span class="token punctuation">]</span> notice: init module <span class="token number">1</span>: iterator
Dec 06 <span class="token number">22</span>:53:33 host-192-168-30-100 unbound<span class="token punctuation">[</span><span class="token number">1731</span><span class="token punctuation">]</span>: <span class="token punctuation">[</span><span class="token number">1731</span>:0<span class="token punctuation">]</span> info: start of <span class="token function">service</span> <span class="token punctuation">(</span>unbound <span class="token number">1.4</span>.20<span class="token punctuation">)</span>.
</code></pre><div class="highlight-lines"><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E" aria-hidden="true">#</a> \u914D\u7F6E</h2><p>Unbound \u7684\u914D\u7F6E\u6587\u4EF6\u4E3A\uFF1A<a href="/etc/unbound/unbound.conf"><code>/etc/unbound/unbound.conf</code></a></p><h3 id="\u914D\u7F6E\u672C\u673A\u4F7F\u7528\u7684-dns-\u670D\u52A1\u5668" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u672C\u673A\u4F7F\u7528\u7684-dns-\u670D\u52A1\u5668" aria-hidden="true">#</a> \u914D\u7F6E\u672C\u673A\u4F7F\u7528\u7684 DNS \u670D\u52A1\u5668</h3><ol><li>\u4FEE\u6539 <code>/etc/resolv.conf</code> \u6587\u4EF6\uFF0C\u7B2C 3 \u884C\uFF1A<code>nameserver 192.168.30.100</code>\uFF08\u91CD\u542F\u5931\u6548\uFF09</li><li>\u4FEE\u6539 <code>/etc/NetworkManager/NetworkManager.conf</code> \u6587\u4EF6\uFF0C\u5728\u7B2C 14 \u884C\u4E0B\u6DFB\u52A0 <code>dns=</code>\uFF1A <ul><li><code>none</code> \u4E3A\u4F7F\u7528\u672C\u5730 DNS</li><li>\u53EF\u4EE5\u586B IP \u6216\u57DF\u540D</li></ul></li></ol><h3 id="\u914D\u7F6E\u4E3A\u672C\u5730-dns-\u670D\u52A1\u5668" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u4E3A\u672C\u5730-dns-\u670D\u52A1\u5668" aria-hidden="true">#</a> \u914D\u7F6E\u4E3A\u672C\u5730 DNS \u670D\u52A1\u5668</h3><ol><li>\u4FEE\u6539 <code>unbound.conf</code> \u6587\u4EF6\uFF0C\u5220\u9664\u7B2C 38\u300139 \u884C\u5F00\u5934\u7684 <code># </code>\uFF08\u53D6\u6D88\u6CE8\u91CA\uFF09\u3002</li><li>\u5728\u7B2C 183 \u884C\u4E0B\u52A0\u4E00\u884C\uFF1A<div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>access-control: 0.0.0.0/0 allow
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li>\u5C06\u7B2C 215 \u884C\uFF0C\u6539\u4E3A <code>username: &quot;&quot;</code>\uFF0C\u8BA9\u6240\u6709\u7528\u6237\u90FD\u53EF\u8BBF\u95EE\u3002</li><li>\u5C06\u7B2C 376 \u884C\uFF0C\u6539\u4E3A <code>domain-insecure: &quot;skillschina.com&quot;</code>\uFF0C\u8DF3\u8FC7\u9A8C\u8BC1\u57DF\uFF0C\u4EE5\u907F\u514D\u4FE1\u4EFB\u94FE\u9A8C\u8BC1\u5931\u8D25\u3002</li><li>\u4FEE\u6539 <code>/etc/resolv.conf</code> \u6587\u4EF6\uFF0C\u7B2C 3 \u884C\uFF1A<code>nameserver 192.168.30.100</code></li><li>\u4F7F\u7528 <code>firewall-cmd --permanent --add-service=dns</code> \u6307\u4EE4\uFF0C\u5F00\u542F 53 \u7AEF\u53E3\u3002</li></ol><h3 id="\u914D\u7F6E\u4E3A\u5B58\u7F13\u5B58-dns-\u670D\u52A1\u5668" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u4E3A\u5B58\u7F13\u5B58-dns-\u670D\u52A1\u5668" aria-hidden="true">#</a> \u914D\u7F6E\u4E3A\u5B58\u7F13\u5B58 DNS \u670D\u52A1\u5668</h3><ol><li>\u5728 <code>unbound.conf</code> \u6587\u4EF6\uFF0C\u7B2C 558 \u884C\u4E0B\u6DFB\u52A0\uFF1A<div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>forward-zone:
      name: &quot;.&quot;
      forward-addr: 192.168.30.100
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li>\u91CD\u542F\u670D\u52A1\uFF1A<code>sudo systemctl restart unbound</code></li></ol><h3 id="\u6DFB\u52A0\u672C\u5730\u6B63\u53CD\u5411\u89E3\u6790\u533A\u57DF" tabindex="-1"><a class="header-anchor" href="#\u6DFB\u52A0\u672C\u5730\u6B63\u53CD\u5411\u89E3\u6790\u533A\u57DF" aria-hidden="true">#</a> \u6DFB\u52A0\u672C\u5730\u6B63\u53CD\u5411\u89E3\u6790\u533A\u57DF</h3><ol><li>\u5207\u6362\u5DE5\u4F5C\u533A: <code>cd /etc/unbound/local.d/</code></li><li>\u521B\u5EFA\u4E00\u4E2A\u533A\u57DF\u914D\u7F6E\u6587\u4EF6\uFF1A<code>sudo vim skillschina.com.conf</code><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code># \u6B63\u5411\u89E3\u6790
local-data: &quot;dns1.skillschina.com   3600 IN A 192.168.30.100&quot;
local-data: &quot;dns2.skillschina.com   3600 IN A 192.168.30.101&quot;
local-data: &quot;ftp.skillschina.com    3600 IN A 192.168.30.104&quot;
local-data: &quot;www.skillschina.com    3600 IN A 192.168.30.101&quot;
local-data: &quot;market.skillschina.com 3600 IN A 192.168.30.102&quot;
local-data: &quot;mail.skillschina.com   3600 IN A 192.168.30.102&quot;

# \u53CD\u5411\u89E3\u6790
local-data-ptr: &quot;192.168.30.100   dns1.skillschina.com&quot;
local-data-ptr: &quot;192.168.30.101   dns2.skillschina.com&quot;
local-data-ptr: &quot;192.168.30.104    ftp.skillschina.com&quot;
local-data-ptr: &quot;192.168.30.101    www.skillschina.com&quot;
local-data-ptr: &quot;192.168.30.102 market.skillschina.com&quot;
local-data-ptr: &quot;192.168.30.102   mail.skillschina.com&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li><li>\u914D\u7F6E\u5B8C\u6210\u540E\u91CD\u542F\u670D\u52A1\uFF1A<code>sudo systemctl restart unbound</code></li></ol><h4 id="\u9A8C\u8BC1\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u9A8C\u8BC1\u914D\u7F6E" aria-hidden="true">#</a> \u9A8C\u8BC1\u914D\u7F6E</h4><blockquote><p>\u5982\u679C\u6CA1\u6709 <code>nslookup</code> \u4E4B\u7C7B\u7684\u7F51\u7EDC\u5DE5\u5177\u53EF\u4EE5 <code>yum install bind-utils</code></p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@host-192-168-30-100 ~<span class="token punctuation">]</span><span class="token comment"># nslookup mail.skillschina.com</span>
Server:         <span class="token number">192.168</span>.30.100
Address:        <span class="token number">192.168</span>.30.100<span class="token comment">#53</span>

Name:   mail.skillschina.com
Address: <span class="token number">192.168</span>.30.102

<span class="token punctuation">[</span>root@host-192-168-30-100 ~<span class="token punctuation">]</span><span class="token comment"># nslookup 192.168.30.102</span>
Server:         <span class="token number">192.168</span>.30.100
Address:        <span class="token number">192.168</span>.30.100<span class="token comment">#53</span>

<span class="token number">102.30</span>.168.192.in-addr.arpa     name <span class="token operator">=</span> market.skillschina.com.
<span class="token number">102.30</span>.168.192.in-addr.arpa     name <span class="token operator">=</span> mail.skillschina.com.
</code></pre><div class="highlight-lines"><div class="highlight-line">\xA0</div><br><br><br><br><br><br><div class="highlight-line">\xA0</div><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div>`,17);function P(B,U){const a=o("ExternalLinkIcon");return r(),t(l,null,[u,n("div",b,[k,d,n("p",null,[n("a",m,[h,e(a)]),n("a",g,[_,e(a)])])]),f,n("ul",null,[n("li",null,[n("a",v,[x,e(a)])]),n("li",null,[n("a",D,[y,e(a)])]),n("li",null,[n("a",w,[q,e(a)])]),n("li",null,[n("a",E,[N,e(a)])]),n("li",null,[n("a",S,[A,e(a)])])]),I],64)}var R=p(i,[["render",P],["__file","index.html.vue"]]);export{R as default};
